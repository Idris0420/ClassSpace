(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var kd={exports:{}},Ya={},xd={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function dE(){if(Mg)return je;Mg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function A(j){return j===null||typeof j!="object"?null:(j=E&&j[E]||j["@@iterator"],typeof j=="function"?j:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,O={};function M(j,X,Ee){this.props=j,this.context=X,this.refs=O,this.updater=Ee||R}M.prototype.isReactComponent={},M.prototype.setState=function(j,X){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,X,"setState")},M.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function q(){}q.prototype=M.prototype;function Y(j,X,Ee){this.props=j,this.context=X,this.refs=O,this.updater=Ee||R}var Z=Y.prototype=new q;Z.constructor=Y,N(Z,M.prototype),Z.isPureReactComponent=!0;var ae=Array.isArray,U=Object.prototype.hasOwnProperty,ce={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function I(j,X,Ee){var be,Le={},He=null,Ze=null;if(X!=null)for(be in X.ref!==void 0&&(Ze=X.ref),X.key!==void 0&&(He=""+X.key),X)U.call(X,be)&&!x.hasOwnProperty(be)&&(Le[be]=X[be]);var et=arguments.length-2;if(et===1)Le.children=Ee;else if(1<et){for(var Ue=Array(et),ft=0;ft<et;ft++)Ue[ft]=arguments[ft+2];Le.children=Ue}if(j&&j.defaultProps)for(be in et=j.defaultProps,et)Le[be]===void 0&&(Le[be]=et[be]);return{$$typeof:n,type:j,key:He,ref:Ze,props:Le,_owner:ce.current}}function S(j,X){return{$$typeof:n,type:j.type,key:X,ref:j.ref,props:j.props,_owner:j._owner}}function k(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function V(j){var X={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Ee){return X[Ee]})}var F=/\/+/g;function P(j,X){return typeof j=="object"&&j!==null&&j.key!=null?V(""+j.key):X.toString(36)}function at(j,X,Ee,be,Le){var He=typeof j;(He==="undefined"||He==="boolean")&&(j=null);var Ze=!1;if(j===null)Ze=!0;else switch(He){case"string":case"number":Ze=!0;break;case"object":switch(j.$$typeof){case n:case e:Ze=!0}}if(Ze)return Ze=j,Le=Le(Ze),j=be===""?"."+P(Ze,0):be,ae(Le)?(Ee="",j!=null&&(Ee=j.replace(F,"$&/")+"/"),at(Le,X,Ee,"",function(ft){return ft})):Le!=null&&(k(Le)&&(Le=S(Le,Ee+(!Le.key||Ze&&Ze.key===Le.key?"":(""+Le.key).replace(F,"$&/")+"/")+j)),X.push(Le)),1;if(Ze=0,be=be===""?".":be+":",ae(j))for(var et=0;et<j.length;et++){He=j[et];var Ue=be+P(He,et);Ze+=at(He,X,Ee,Ue,Le)}else if(Ue=A(j),typeof Ue=="function")for(j=Ue.call(j),et=0;!(He=j.next()).done;)He=He.value,Ue=be+P(He,et++),Ze+=at(He,X,Ee,Ue,Le);else if(He==="object")throw X=String(j),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ze}function ze(j,X,Ee){if(j==null)return j;var be=[],Le=0;return at(j,be,"","",function(He){return X.call(Ee,He,Le++)}),be}function Et(j){if(j._status===-1){var X=j._result;X=X(),X.then(function(Ee){(j._status===0||j._status===-1)&&(j._status=1,j._result=Ee)},function(Ee){(j._status===0||j._status===-1)&&(j._status=2,j._result=Ee)}),j._status===-1&&(j._status=0,j._result=X)}if(j._status===1)return j._result.default;throw j._result}var Be={current:null},le={transition:null},Ie={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:le,ReactCurrentOwner:ce};function de(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:ze,forEach:function(j,X,Ee){ze(j,function(){X.apply(this,arguments)},Ee)},count:function(j){var X=0;return ze(j,function(){X++}),X},toArray:function(j){return ze(j,function(X){return X})||[]},only:function(j){if(!k(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},je.Component=M,je.Fragment=t,je.Profiler=o,je.PureComponent=Y,je.StrictMode=i,je.Suspense=p,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ie,je.act=de,je.cloneElement=function(j,X,Ee){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var be=N({},j.props),Le=j.key,He=j.ref,Ze=j._owner;if(X!=null){if(X.ref!==void 0&&(He=X.ref,Ze=ce.current),X.key!==void 0&&(Le=""+X.key),j.type&&j.type.defaultProps)var et=j.type.defaultProps;for(Ue in X)U.call(X,Ue)&&!x.hasOwnProperty(Ue)&&(be[Ue]=X[Ue]===void 0&&et!==void 0?et[Ue]:X[Ue])}var Ue=arguments.length-2;if(Ue===1)be.children=Ee;else if(1<Ue){et=Array(Ue);for(var ft=0;ft<Ue;ft++)et[ft]=arguments[ft+2];be.children=et}return{$$typeof:n,type:j.type,key:Le,ref:He,props:be,_owner:Ze}},je.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:l,_context:j},j.Consumer=j},je.createElement=I,je.createFactory=function(j){var X=I.bind(null,j);return X.type=j,X},je.createRef=function(){return{current:null}},je.forwardRef=function(j){return{$$typeof:d,render:j}},je.isValidElement=k,je.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:Et}},je.memo=function(j,X){return{$$typeof:y,type:j,compare:X===void 0?null:X}},je.startTransition=function(j){var X=le.transition;le.transition={};try{j()}finally{le.transition=X}},je.unstable_act=de,je.useCallback=function(j,X){return Be.current.useCallback(j,X)},je.useContext=function(j){return Be.current.useContext(j)},je.useDebugValue=function(){},je.useDeferredValue=function(j){return Be.current.useDeferredValue(j)},je.useEffect=function(j,X){return Be.current.useEffect(j,X)},je.useId=function(){return Be.current.useId()},je.useImperativeHandle=function(j,X,Ee){return Be.current.useImperativeHandle(j,X,Ee)},je.useInsertionEffect=function(j,X){return Be.current.useInsertionEffect(j,X)},je.useLayoutEffect=function(j,X){return Be.current.useLayoutEffect(j,X)},je.useMemo=function(j,X){return Be.current.useMemo(j,X)},je.useReducer=function(j,X,Ee){return Be.current.useReducer(j,X,Ee)},je.useRef=function(j){return Be.current.useRef(j)},je.useState=function(j){return Be.current.useState(j)},je.useSyncExternalStore=function(j,X,Ee){return Be.current.useSyncExternalStore(j,X,Ee)},je.useTransition=function(){return Be.current.useTransition()},je.version="18.3.1",je}var Ug;function If(){return Ug||(Ug=1,xd.exports=dE()),xd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function fE(){if(Fg)return Ya;Fg=1;var n=If(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var _,E={},A=null,R=null;y!==void 0&&(A=""+y),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(R=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(E[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)E[_]===void 0&&(E[_]=p[_]);return{$$typeof:e,type:d,key:A,ref:R,props:E,_owner:o.current}}return Ya.Fragment=t,Ya.jsx=c,Ya.jsxs=c,Ya}var jg;function pE(){return jg||(jg=1,kd.exports=fE()),kd.exports}var se=pE(),$=If(),Hu={},Nd={exports:{}},Nn={},Dd={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg;function mE(){return Bg||(Bg=1,function(n){function e(le,Ie){var de=le.length;le.push(Ie);e:for(;0<de;){var j=de-1>>>1,X=le[j];if(0<o(X,Ie))le[j]=Ie,le[de]=X,de=j;else break e}}function t(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var Ie=le[0],de=le.pop();if(de!==Ie){le[0]=de;e:for(var j=0,X=le.length,Ee=X>>>1;j<Ee;){var be=2*(j+1)-1,Le=le[be],He=be+1,Ze=le[He];if(0>o(Le,de))He<X&&0>o(Ze,Le)?(le[j]=Ze,le[He]=de,j=He):(le[j]=Le,le[be]=de,j=be);else if(He<X&&0>o(Ze,de))le[j]=Ze,le[He]=de,j=He;else break e}}return Ie}function o(le,Ie){var de=le.sortIndex-Ie.sortIndex;return de!==0?de:le.id-Ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],_=1,E=null,A=3,R=!1,N=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(le){for(var Ie=t(y);Ie!==null;){if(Ie.callback===null)i(y);else if(Ie.startTime<=le)i(y),Ie.sortIndex=Ie.expirationTime,e(p,Ie);else break;Ie=t(y)}}function ae(le){if(O=!1,Z(le),!N)if(t(p)!==null)N=!0,Et(U);else{var Ie=t(y);Ie!==null&&Be(ae,Ie.startTime-le)}}function U(le,Ie){N=!1,O&&(O=!1,q(I),I=-1),R=!0;var de=A;try{for(Z(Ie),E=t(p);E!==null&&(!(E.expirationTime>Ie)||le&&!V());){var j=E.callback;if(typeof j=="function"){E.callback=null,A=E.priorityLevel;var X=j(E.expirationTime<=Ie);Ie=n.unstable_now(),typeof X=="function"?E.callback=X:E===t(p)&&i(p),Z(Ie)}else i(p);E=t(p)}if(E!==null)var Ee=!0;else{var be=t(y);be!==null&&Be(ae,be.startTime-Ie),Ee=!1}return Ee}finally{E=null,A=de,R=!1}}var ce=!1,x=null,I=-1,S=5,k=-1;function V(){return!(n.unstable_now()-k<S)}function F(){if(x!==null){var le=n.unstable_now();k=le;var Ie=!0;try{Ie=x(!0,le)}finally{Ie?P():(ce=!1,x=null)}}else ce=!1}var P;if(typeof Y=="function")P=function(){Y(F)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,ze=at.port2;at.port1.onmessage=F,P=function(){ze.postMessage(null)}}else P=function(){M(F,0)};function Et(le){x=le,ce||(ce=!0,P())}function Be(le,Ie){I=M(function(){le(n.unstable_now())},Ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){N||R||(N=!0,Et(U))},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(le){switch(A){case 1:case 2:case 3:var Ie=3;break;default:Ie=A}var de=A;A=Ie;try{return le()}finally{A=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,Ie){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var de=A;A=le;try{return Ie()}finally{A=de}},n.unstable_scheduleCallback=function(le,Ie,de){var j=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?j+de:j):de=j,le){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=de+X,le={id:_++,callback:Ie,priorityLevel:le,startTime:de,expirationTime:X,sortIndex:-1},de>j?(le.sortIndex=de,e(y,le),t(p)===null&&le===t(y)&&(O?(q(I),I=-1):O=!0,Be(ae,de-j))):(le.sortIndex=X,e(p,le),N||R||(N=!0,Et(U))),le},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(le){var Ie=A;return function(){var de=A;A=Ie;try{return le.apply(this,arguments)}finally{A=de}}}}(Ld)),Ld}var zg;function gE(){return zg||(zg=1,Dd.exports=mE()),Dd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function yE(){if(Hg)return Nn;Hg=1;var n=If(),e=gE();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function A(r){return p.call(E,r)?!0:p.call(_,r)?!1:y.test(r)?E[r]=!0:(_[r]=!0,!1)}function R(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function N(r,s,a,h){if(s===null||typeof s>"u"||R(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function O(r,s,a,h,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){M[r]=new O(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];M[s]=new O(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){M[r]=new O(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){M[r]=new O(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){M[r]=new O(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){M[r]=new O(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){M[r]=new O(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){M[r]=new O(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){M[r]=new O(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function Y(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(q,Y);M[s]=new O(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(q,Y);M[s]=new O(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(q,Y);M[s]=new O(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){M[r]=new O(r,1,!1,r.toLowerCase(),null,!1,!1)}),M.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){M[r]=new O(r,1,!1,r.toLowerCase(),null,!0,!0)});function Z(r,s,a,h){var f=M.hasOwnProperty(s)?M[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(N(s,a,f,h)&&(a=null),h||f===null?A(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ae=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),ce=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),V=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),ze=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),le=Symbol.iterator;function Ie(r){return r===null||typeof r!="object"?null:(r=le&&r[le]||r["@@iterator"],typeof r=="function"?r:null)}var de=Object.assign,j;function X(r){if(j===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+r}var Ee=!1;function be(r,s){if(!r||Ee)return"";Ee=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var h=G}Reflect.construct(r,[],s)}else{try{s.call()}catch(G){h=G}r.call(s.prototype)}else{try{throw Error()}catch(G){h=G}r()}}catch(G){if(G&&h&&typeof G.stack=="string"){for(var f=G.stack.split(`
`),g=h.stack.split(`
`),w=f.length-1,C=g.length-1;1<=w&&0<=C&&f[w]!==g[C];)C--;for(;1<=w&&0<=C;w--,C--)if(f[w]!==g[C]){if(w!==1||C!==1)do if(w--,C--,0>C||f[w]!==g[C]){var D=`
`+f[w].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=w&&0<=C);break}}}finally{Ee=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?X(r):""}function Le(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=be(r.type,!1),r;case 11:return r=be(r.type.render,!1),r;case 1:return r=be(r.type,!0),r;default:return""}}function He(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case ce:return"Portal";case S:return"Profiler";case I:return"StrictMode";case P:return"Suspense";case at:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case k:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ze:return s=r.displayName||null,s!==null?s:He(r.type)||"Memo";case Et:s=r._payload,r=r._init;try{return He(r(s))}catch{}}return null}function Ze(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return He(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function et(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ue(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ft(r){var s=Ue(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Wn(r){r._valueTracker||(r._valueTracker=ft(r))}function ki(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=Ue(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function rn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Qr(r,s){var a=s.checked;return de({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function xi(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=et(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ni(r,s){s=s.checked,s!=null&&Z(r,"checked",s,!1)}function As(r,s){Ni(r,s);var a=et(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Di(r,s.type,a):s.hasOwnProperty("defaultValue")&&Di(r,s.type,et(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function co(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Di(r,s,a){(s!=="number"||rn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var nr=Array.isArray;function Wt(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+et(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function rr(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Yr(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(nr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:et(a)}}function Rr(r,s){var a=et(s.value),h=et(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function En(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ut(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ut(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var bn,Ss=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(bn=bn||document.createElement("div"),bn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=bn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Gt(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pr=["Webkit","ms","Moz","O"];Object.keys(Cr).forEach(function(r){Pr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Cr[s]=Cr[r]})});function Li(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Cr.hasOwnProperty(r)&&Cr[r]?(""+s).trim():s+"px"}function Rs(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=Li(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var Oi=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kr(r,s){if(s){if(Oi[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Vi(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ir=null;function bi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Xr=null,Tn=null,Mn=null;function sr(r){if(r=Va(r)){if(typeof Xr!="function")throw Error(t(280));var s=r.stateNode;s&&(s=iu(s),Xr(r.stateNode,r.type,s))}}function mn(r){Tn?Mn?Mn.push(r):Mn=[r]:Tn=r}function Cs(){if(Tn){var r=Tn,s=Mn;if(Mn=Tn=null,sr(r),s)for(r=0;r<s.length;r++)sr(s[r])}}function Jr(r,s){return r(s)}function L(){}var B=!1;function K(r,s,a){if(B)return r(s,a);B=!0;try{return Jr(r,s,a)}finally{B=!1,(Tn!==null||Mn!==null)&&(L(),Cs())}}function J(r,s){var a=r.stateNode;if(a===null)return null;var h=iu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var fe=!1;if(d)try{var ve={};Object.defineProperty(ve,"passive",{get:function(){fe=!0}}),window.addEventListener("test",ve,ve),window.removeEventListener("test",ve,ve)}catch{fe=!1}function Ce(r,s,a,h,f,g,w,C,D){var G=Array.prototype.slice.call(arguments,3);try{s.apply(a,G)}catch(re){this.onError(re)}}var pe=!1,we=null,ue=!1,xe=null,Fe={onError:function(r){pe=!0,we=r}};function it(r,s,a,h,f,g,w,C,D){pe=!1,we=null,Ce.apply(Fe,arguments)}function Rt(r,s,a,h,f,g,w,C,D){if(it.apply(this,arguments),pe){if(pe){var G=we;pe=!1,we=null}else throw Error(t(198));ue||(ue=!0,xe=G)}}function Ge(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function tt(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function st(r){if(Ge(r)!==r)throw Error(t(188))}function or(r){var s=r.alternate;if(!s){if(s=Ge(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return st(f),r;if(g===h)return st(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var w=!1,C=f.child;C;){if(C===a){w=!0,a=f,h=g;break}if(C===h){w=!0,h=f,a=g;break}C=C.sibling}if(!w){for(C=g.child;C;){if(C===a){w=!0,a=g,h=f;break}if(C===h){w=!0,h=g,a=f;break}C=C.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ar(r){return r=or(r),r!==null?sn(r):null}function sn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=sn(r);if(s!==null)return s;r=r.sibling}return null}var $t=e.unstable_scheduleCallback,Zr=e.unstable_cancelCallback,xr=e.unstable_shouldYield,lr=e.unstable_requestPaint,ot=e.unstable_now,ei=e.unstable_getCurrentPriorityLevel,Ye=e.unstable_ImmediatePriority,pt=e.unstable_UserBlockingPriority,Kt=e.unstable_NormalPriority,ur=e.unstable_LowPriority,mt=e.unstable_IdlePriority,In=null,on=null;function ho(r){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(In,r,void 0,(r.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:bl,_a=Math.log,Vl=Math.LN2;function bl(r){return r>>>=0,r===0?32:31-(_a(r)/Vl|0)|0}var fo=64,po=4194304;function Mi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ps(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var C=w&~f;C!==0?h=Mi(C):(g&=w,g!==0&&(h=Mi(g)))}else w=a&~f,w!==0?h=Mi(w):g!==0&&(h=Mi(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-gn(s),f=1<<a,h|=r[a],s&=~f;return h}function sh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ti(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-gn(g),C=1<<w,D=f[w];D===-1?(!(C&a)||C&h)&&(f[w]=sh(C,s)):D<=s&&(r.expiredLanes|=C),g&=~C}}function Un(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ks(){var r=fo;return fo<<=1,!(fo&4194240)&&(fo=64),r}function Ui(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Fi(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-gn(s),r[s]=a}function ht(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-gn(a),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function ji(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-gn(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var $e=0;function Bi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Ml,mo,Ul,Fl,jl,wa=!1,Nr=[],Qt=null,cr=null,hr=null,zi=new Map,Gn=new Map,Dr=[],oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bl(r,s){switch(r){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":zi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(s.pointerId)}}function An(r,s,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Va(s),s!==null&&mo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function ah(r,s,a,h,f){switch(s){case"focusin":return Qt=An(Qt,r,s,a,h,f),!0;case"dragenter":return cr=An(cr,r,s,a,h,f),!0;case"mouseover":return hr=An(hr,r,s,a,h,f),!0;case"pointerover":var g=f.pointerId;return zi.set(g,An(zi.get(g)||null,r,s,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Gn.set(g,An(Gn.get(g)||null,r,s,a,h,f)),!0}return!1}function zl(r){var s=Os(r.target);if(s!==null){var a=Ge(s);if(a!==null){if(s=a.tag,s===13){if(s=tt(a),s!==null){r.blockedOn=s,jl(r.priority,function(){Ul(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ni(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=go(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);ir=h,a.target.dispatchEvent(h),ir=null}else return s=Va(a),s!==null&&mo(s),r.blockedOn=a,!1;s.shift()}return!0}function xs(r,s,a){ni(r)&&a.delete(s)}function Hl(){wa=!1,Qt!==null&&ni(Qt)&&(Qt=null),cr!==null&&ni(cr)&&(cr=null),hr!==null&&ni(hr)&&(hr=null),zi.forEach(xs),Gn.forEach(xs)}function dr(r,s){r.blockedOn===s&&(r.blockedOn=null,wa||(wa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hl)))}function fr(r){function s(f){return dr(f,r)}if(0<Nr.length){dr(Nr[0],r);for(var a=1;a<Nr.length;a++){var h=Nr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Qt!==null&&dr(Qt,r),cr!==null&&dr(cr,r),hr!==null&&dr(hr,r),zi.forEach(s),Gn.forEach(s),a=0;a<Dr.length;a++)h=Dr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<Dr.length&&(a=Dr[0],a.blockedOn===null);)zl(a),a.blockedOn===null&&Dr.shift()}var ri=ae.ReactCurrentBatchConfig,Hi=!0;function _t(r,s,a,h){var f=$e,g=ri.transition;ri.transition=null;try{$e=1,Ea(r,s,a,h)}finally{$e=f,ri.transition=g}}function lh(r,s,a,h){var f=$e,g=ri.transition;ri.transition=null;try{$e=4,Ea(r,s,a,h)}finally{$e=f,ri.transition=g}}function Ea(r,s,a,h){if(Hi){var f=go(r,s,a,h);if(f===null)_h(r,s,h,Ns,a),Bl(r,h);else if(ah(f,r,s,a,h))h.stopPropagation();else if(Bl(r,h),s&4&&-1<oh.indexOf(r)){for(;f!==null;){var g=Va(f);if(g!==null&&Ml(g),g=go(r,s,a,h),g===null&&_h(r,s,h,Ns,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else _h(r,s,h,null,a)}}var Ns=null;function go(r,s,a,h){if(Ns=null,r=bi(h),r=Os(r),r!==null)if(s=Ge(r),s===null)r=null;else if(a=s.tag,a===13){if(r=tt(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ns=r,null}function Ta(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ei()){case Ye:return 1;case pt:return 4;case Kt:case ur:return 16;case mt:return 536870912;default:return 16}default:return 16}}var Fn=null,yo=null,Sn=null;function Ia(){if(Sn)return Sn;var r,s=yo,a=s.length,h,f="value"in Fn?Fn.value:Fn.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var w=a-r;for(h=1;h<=w&&s[a-h]===f[g-h];h++);return Sn=f.slice(r,1<h?1-h:void 0)}function vo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Lr(){return!0}function Aa(){return!1}function Yt(r){function s(a,h,f,g,w){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Lr:Aa,this.isPropagationStopped=Aa,this}return de(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),s}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=Yt(pr),Or=de({},pr,{view:0,detail:0}),uh=Yt(Or),wo,ii,qi,Ds=de({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==qi&&(qi&&r.type==="mousemove"?(wo=r.screenX-qi.screenX,ii=r.screenY-qi.screenY):ii=wo=0,qi=r),wo)},movementY:function(r){return"movementY"in r?r.movementY:ii}}),Eo=Yt(Ds),Sa=de({},Ds,{dataTransfer:0}),ql=Yt(Sa),To=de({},Or,{relatedTarget:0}),Io=Yt(To),Wl=de({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),si=Yt(Wl),Gl=de({},pr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),$l=Yt(Gl),Kl=de({},pr,{data:0}),Ra=Yt(Kl),Ao={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Ql[r])?!!s[r]:!1}function Vr(){return Yl}var u=de({},Or,{key:function(r){if(r.key){var s=Ao[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=vo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?yn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(r){return r.type==="keypress"?vo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?vo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Yt(u),v=de({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Yt(v),z=de({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),Q=Yt(z),he=de({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ct=Yt(he),Vt=de({},Ds,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Xe=Yt(Vt),jt=[9,13,27,32],Nt=d&&"CompositionEvent"in window,$n=null;d&&"documentMode"in document&&($n=document.documentMode);var jn=d&&"TextEvent"in window&&!$n,Ls=d&&(!Nt||$n&&8<$n&&11>=$n),So=" ",Np=!1;function Dp(r,s){switch(r){case"keyup":return jt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ro=!1;function uw(r,s){switch(r){case"compositionend":return Lp(s);case"keypress":return s.which!==32?null:(Np=!0,So);case"textInput":return r=s.data,r===So&&Np?null:r;default:return null}}function cw(r,s){if(Ro)return r==="compositionend"||!Nt&&Dp(r,s)?(r=Ia(),Sn=yo=Fn=null,Ro=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ls&&s.locale!=="ko"?null:s.data;default:return null}}var hw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Op(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!hw[r.type]:s==="textarea"}function Vp(r,s,a,h){mn(h),s=tu(s,"onChange"),0<s.length&&(a=new _o("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var Ca=null,Pa=null;function dw(r){Zp(r,0)}function Xl(r){var s=No(r);if(ki(s))return r}function fw(r,s){if(r==="change")return s}var bp=!1;if(d){var ch;if(d){var hh="oninput"in document;if(!hh){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),hh=typeof Mp.oninput=="function"}ch=hh}else ch=!1;bp=ch&&(!document.documentMode||9<document.documentMode)}function Up(){Ca&&(Ca.detachEvent("onpropertychange",Fp),Pa=Ca=null)}function Fp(r){if(r.propertyName==="value"&&Xl(Pa)){var s=[];Vp(s,Pa,r,bi(r)),K(dw,s)}}function pw(r,s,a){r==="focusin"?(Up(),Ca=s,Pa=a,Ca.attachEvent("onpropertychange",Fp)):r==="focusout"&&Up()}function mw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Xl(Pa)}function gw(r,s){if(r==="click")return Xl(s)}function yw(r,s){if(r==="input"||r==="change")return Xl(s)}function vw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var mr=typeof Object.is=="function"?Object.is:vw;function ka(r,s){if(mr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(s,f)||!mr(r[f],s[f]))return!1}return!0}function jp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Bp(r,s){var a=jp(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jp(a)}}function zp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?zp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Hp(){for(var r=window,s=rn();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=rn(r.document)}return s}function dh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function _w(r){var s=Hp(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&zp(a.ownerDocument.documentElement,a)){if(h!==null&&dh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=Bp(a,g);var w=Bp(a,h);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var ww=d&&"documentMode"in document&&11>=document.documentMode,Co=null,fh=null,xa=null,ph=!1;function qp(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ph||Co==null||Co!==rn(h)||(h=Co,"selectionStart"in h&&dh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),xa&&ka(xa,h)||(xa=h,h=tu(fh,"onSelect"),0<h.length&&(s=new _o("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=Co)))}function Jl(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Po={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionend:Jl("Transition","TransitionEnd")},mh={},Wp={};d&&(Wp=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Zl(r){if(mh[r])return mh[r];if(!Po[r])return r;var s=Po[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Wp)return mh[r]=s[a];return r}var Gp=Zl("animationend"),$p=Zl("animationiteration"),Kp=Zl("animationstart"),Qp=Zl("transitionend"),Yp=new Map,Xp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(r,s){Yp.set(r,s),l(s,[r])}for(var gh=0;gh<Xp.length;gh++){var yh=Xp[gh],Ew=yh.toLowerCase(),Tw=yh[0].toUpperCase()+yh.slice(1);Wi(Ew,"on"+Tw)}Wi(Gp,"onAnimationEnd"),Wi($p,"onAnimationIteration"),Wi(Kp,"onAnimationStart"),Wi("dblclick","onDoubleClick"),Wi("focusin","onFocus"),Wi("focusout","onBlur"),Wi(Qp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function Jp(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Rt(h,s,void 0,r),r.currentTarget=null}function Zp(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var C=h[w],D=C.instance,G=C.currentTarget;if(C=C.listener,D!==g&&f.isPropagationStopped())break e;Jp(f,C,G),g=D}else for(w=0;w<h.length;w++){if(C=h[w],D=C.instance,G=C.currentTarget,C=C.listener,D!==g&&f.isPropagationStopped())break e;Jp(f,C,G),g=D}}}if(ue)throw r=xe,ue=!1,xe=null,r}function gt(r,s){var a=s[Sh];a===void 0&&(a=s[Sh]=new Set);var h=r+"__bubble";a.has(h)||(em(s,r,2,!1),a.add(h))}function vh(r,s,a){var h=0;s&&(h|=4),em(a,r,h,s)}var eu="_reactListening"+Math.random().toString(36).slice(2);function Da(r){if(!r[eu]){r[eu]=!0,i.forEach(function(a){a!=="selectionchange"&&(Iw.has(a)||vh(a,!1,r),vh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[eu]||(s[eu]=!0,vh("selectionchange",!1,s))}}function em(r,s,a,h){switch(Ta(s)){case 1:var f=_t;break;case 4:f=lh;break;default:f=Ea}a=f.bind(null,s,a,r),f=void 0,!fe||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function _h(r,s,a,h,f){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var C=h.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var D=w.tag;if((D===3||D===4)&&(D=w.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;w=w.return}for(;C!==null;){if(w=Os(C),w===null)return;if(D=w.tag,D===5||D===6){h=g=w;continue e}C=C.parentNode}}h=h.return}K(function(){var G=g,re=bi(a),ie=[];e:{var ne=Yp.get(r);if(ne!==void 0){var me=_o,Te=r;switch(r){case"keypress":if(vo(a)===0)break e;case"keydown":case"keyup":me=m;break;case"focusin":Te="focus",me=Io;break;case"focusout":Te="blur",me=Io;break;case"beforeblur":case"afterblur":me=Io;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=ql;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Q;break;case Gp:case $p:case Kp:me=si;break;case Qp:me=ct;break;case"scroll":me=uh;break;case"wheel":me=Xe;break;case"copy":case"cut":case"paste":me=$l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=T}var Ae=(s&4)!==0,kt=!Ae&&r==="scroll",H=Ae?ne!==null?ne+"Capture":null:ne;Ae=[];for(var b=G,W;b!==null;){W=b;var oe=W.stateNode;if(W.tag===5&&oe!==null&&(W=oe,H!==null&&(oe=J(b,H),oe!=null&&Ae.push(La(b,oe,W)))),kt)break;b=b.return}0<Ae.length&&(ne=new me(ne,Te,null,a,re),ie.push({event:ne,listeners:Ae}))}}if(!(s&7)){e:{if(ne=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",ne&&a!==ir&&(Te=a.relatedTarget||a.fromElement)&&(Os(Te)||Te[oi]))break e;if((me||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,me?(Te=a.relatedTarget||a.toElement,me=G,Te=Te?Os(Te):null,Te!==null&&(kt=Ge(Te),Te!==kt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(me=null,Te=G),me!==Te)){if(Ae=Eo,oe="onMouseLeave",H="onMouseEnter",b="mouse",(r==="pointerout"||r==="pointerover")&&(Ae=T,oe="onPointerLeave",H="onPointerEnter",b="pointer"),kt=me==null?ne:No(me),W=Te==null?ne:No(Te),ne=new Ae(oe,b+"leave",me,a,re),ne.target=kt,ne.relatedTarget=W,oe=null,Os(re)===G&&(Ae=new Ae(H,b+"enter",Te,a,re),Ae.target=W,Ae.relatedTarget=kt,oe=Ae),kt=oe,me&&Te)t:{for(Ae=me,H=Te,b=0,W=Ae;W;W=ko(W))b++;for(W=0,oe=H;oe;oe=ko(oe))W++;for(;0<b-W;)Ae=ko(Ae),b--;for(;0<W-b;)H=ko(H),W--;for(;b--;){if(Ae===H||H!==null&&Ae===H.alternate)break t;Ae=ko(Ae),H=ko(H)}Ae=null}else Ae=null;me!==null&&tm(ie,ne,me,Ae,!1),Te!==null&&kt!==null&&tm(ie,kt,Te,Ae,!0)}}e:{if(ne=G?No(G):window,me=ne.nodeName&&ne.nodeName.toLowerCase(),me==="select"||me==="input"&&ne.type==="file")var Se=fw;else if(Op(ne))if(bp)Se=yw;else{Se=mw;var Pe=pw}else(me=ne.nodeName)&&me.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Se=gw);if(Se&&(Se=Se(r,G))){Vp(ie,Se,a,re);break e}Pe&&Pe(r,ne,G),r==="focusout"&&(Pe=ne._wrapperState)&&Pe.controlled&&ne.type==="number"&&Di(ne,"number",ne.value)}switch(Pe=G?No(G):window,r){case"focusin":(Op(Pe)||Pe.contentEditable==="true")&&(Co=Pe,fh=G,xa=null);break;case"focusout":xa=fh=Co=null;break;case"mousedown":ph=!0;break;case"contextmenu":case"mouseup":case"dragend":ph=!1,qp(ie,a,re);break;case"selectionchange":if(ww)break;case"keydown":case"keyup":qp(ie,a,re)}var ke;if(Nt)e:{switch(r){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Ro?Dp(r,a)&&(Ne="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(Ls&&a.locale!=="ko"&&(Ro||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Ro&&(ke=Ia()):(Fn=re,yo="value"in Fn?Fn.value:Fn.textContent,Ro=!0)),Pe=tu(G,Ne),0<Pe.length&&(Ne=new Ra(Ne,r,null,a,re),ie.push({event:Ne,listeners:Pe}),ke?Ne.data=ke:(ke=Lp(a),ke!==null&&(Ne.data=ke)))),(ke=jn?uw(r,a):cw(r,a))&&(G=tu(G,"onBeforeInput"),0<G.length&&(re=new Ra("onBeforeInput","beforeinput",null,a,re),ie.push({event:re,listeners:G}),re.data=ke))}Zp(ie,s)})}function La(r,s,a){return{instance:r,listener:s,currentTarget:a}}function tu(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=J(r,a),g!=null&&h.unshift(La(r,g,f)),g=J(r,s),g!=null&&h.push(La(r,g,f))),r=r.return}return h}function ko(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function tm(r,s,a,h,f){for(var g=s._reactName,w=[];a!==null&&a!==h;){var C=a,D=C.alternate,G=C.stateNode;if(D!==null&&D===h)break;C.tag===5&&G!==null&&(C=G,f?(D=J(a,g),D!=null&&w.unshift(La(a,D,C))):f||(D=J(a,g),D!=null&&w.push(La(a,D,C)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var Aw=/\r\n?/g,Sw=/\u0000|\uFFFD/g;function nm(r){return(typeof r=="string"?r:""+r).replace(Aw,`
`).replace(Sw,"")}function nu(r,s,a){if(s=nm(s),nm(r)!==s&&a)throw Error(t(425))}function ru(){}var wh=null,Eh=null;function Th(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ih=typeof setTimeout=="function"?setTimeout:void 0,Rw=typeof clearTimeout=="function"?clearTimeout:void 0,rm=typeof Promise=="function"?Promise:void 0,Cw=typeof queueMicrotask=="function"?queueMicrotask:typeof rm<"u"?function(r){return rm.resolve(null).then(r).catch(Pw)}:Ih;function Pw(r){setTimeout(function(){throw r})}function Ah(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),fr(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);fr(s)}function Gi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function im(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var xo=Math.random().toString(36).slice(2),br="__reactFiber$"+xo,Oa="__reactProps$"+xo,oi="__reactContainer$"+xo,Sh="__reactEvents$"+xo,kw="__reactListeners$"+xo,xw="__reactHandles$"+xo;function Os(r){var s=r[br];if(s)return s;for(var a=r.parentNode;a;){if(s=a[oi]||a[br]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=im(r);r!==null;){if(a=r[br])return a;r=im(r)}return s}r=a,a=r.parentNode}return null}function Va(r){return r=r[br]||r[oi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function No(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function iu(r){return r[Oa]||null}var Rh=[],Do=-1;function $i(r){return{current:r}}function yt(r){0>Do||(r.current=Rh[Do],Rh[Do]=null,Do--)}function dt(r,s){Do++,Rh[Do]=r.current,r.current=s}var Ki={},an=$i(Ki),Rn=$i(!1),Vs=Ki;function Lo(r,s){var a=r.type.contextTypes;if(!a)return Ki;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Cn(r){return r=r.childContextTypes,r!=null}function su(){yt(Rn),yt(an)}function sm(r,s,a){if(an.current!==Ki)throw Error(t(168));dt(an,s),dt(Rn,a)}function om(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,Ze(r)||"Unknown",f));return de({},a,h)}function ou(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ki,Vs=an.current,dt(an,r),dt(Rn,Rn.current),!0}function am(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=om(r,s,Vs),h.__reactInternalMemoizedMergedChildContext=r,yt(Rn),yt(an),dt(an,r)):yt(Rn),dt(Rn,a)}var ai=null,au=!1,Ch=!1;function lm(r){ai===null?ai=[r]:ai.push(r)}function Nw(r){au=!0,lm(r)}function Qi(){if(!Ch&&ai!==null){Ch=!0;var r=0,s=$e;try{var a=ai;for($e=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}ai=null,au=!1}catch(f){throw ai!==null&&(ai=ai.slice(r+1)),$t(Ye,Qi),f}finally{$e=s,Ch=!1}}return null}var Oo=[],Vo=0,lu=null,uu=0,Kn=[],Qn=0,bs=null,li=1,ui="";function Ms(r,s){Oo[Vo++]=uu,Oo[Vo++]=lu,lu=r,uu=s}function um(r,s,a){Kn[Qn++]=li,Kn[Qn++]=ui,Kn[Qn++]=bs,bs=r;var h=li;r=ui;var f=32-gn(h)-1;h&=~(1<<f),a+=1;var g=32-gn(s)+f;if(30<g){var w=f-f%5;g=(h&(1<<w)-1).toString(32),h>>=w,f-=w,li=1<<32-gn(s)+f|a<<f|h,ui=g+r}else li=1<<g|a<<f|h,ui=r}function Ph(r){r.return!==null&&(Ms(r,1),um(r,1,0))}function kh(r){for(;r===lu;)lu=Oo[--Vo],Oo[Vo]=null,uu=Oo[--Vo],Oo[Vo]=null;for(;r===bs;)bs=Kn[--Qn],Kn[Qn]=null,ui=Kn[--Qn],Kn[Qn]=null,li=Kn[--Qn],Kn[Qn]=null}var Bn=null,zn=null,wt=!1,gr=null;function cm(r,s){var a=Zn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function hm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Bn=r,zn=Gi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Bn=r,zn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=bs!==null?{id:li,overflow:ui}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Zn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Bn=r,zn=null,!0):!1;default:return!1}}function xh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Nh(r){if(wt){var s=zn;if(s){var a=s;if(!hm(r,s)){if(xh(r))throw Error(t(418));s=Gi(a.nextSibling);var h=Bn;s&&hm(r,s)?cm(h,a):(r.flags=r.flags&-4097|2,wt=!1,Bn=r)}}else{if(xh(r))throw Error(t(418));r.flags=r.flags&-4097|2,wt=!1,Bn=r}}}function dm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Bn=r}function cu(r){if(r!==Bn)return!1;if(!wt)return dm(r),wt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Th(r.type,r.memoizedProps)),s&&(s=zn)){if(xh(r))throw fm(),Error(t(418));for(;s;)cm(r,s),s=Gi(s.nextSibling)}if(dm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){zn=Gi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}zn=null}}else zn=Bn?Gi(r.stateNode.nextSibling):null;return!0}function fm(){for(var r=zn;r;)r=Gi(r.nextSibling)}function bo(){zn=Bn=null,wt=!1}function Dh(r){gr===null?gr=[r]:gr.push(r)}var Dw=ae.ReactCurrentBatchConfig;function ba(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var C=f.refs;w===null?delete C[g]:C[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function hu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function pm(r){var s=r._init;return s(r._payload)}function mm(r){function s(H,b){if(r){var W=H.deletions;W===null?(H.deletions=[b],H.flags|=16):W.push(b)}}function a(H,b){if(!r)return null;for(;b!==null;)s(H,b),b=b.sibling;return null}function h(H,b){for(H=new Map;b!==null;)b.key!==null?H.set(b.key,b):H.set(b.index,b),b=b.sibling;return H}function f(H,b){return H=rs(H,b),H.index=0,H.sibling=null,H}function g(H,b,W){return H.index=W,r?(W=H.alternate,W!==null?(W=W.index,W<b?(H.flags|=2,b):W):(H.flags|=2,b)):(H.flags|=1048576,b)}function w(H){return r&&H.alternate===null&&(H.flags|=2),H}function C(H,b,W,oe){return b===null||b.tag!==6?(b=Id(W,H.mode,oe),b.return=H,b):(b=f(b,W),b.return=H,b)}function D(H,b,W,oe){var Se=W.type;return Se===x?re(H,b,W.props.children,oe,W.key):b!==null&&(b.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Et&&pm(Se)===b.type)?(oe=f(b,W.props),oe.ref=ba(H,b,W),oe.return=H,oe):(oe=Vu(W.type,W.key,W.props,null,H.mode,oe),oe.ref=ba(H,b,W),oe.return=H,oe)}function G(H,b,W,oe){return b===null||b.tag!==4||b.stateNode.containerInfo!==W.containerInfo||b.stateNode.implementation!==W.implementation?(b=Ad(W,H.mode,oe),b.return=H,b):(b=f(b,W.children||[]),b.return=H,b)}function re(H,b,W,oe,Se){return b===null||b.tag!==7?(b=Ws(W,H.mode,oe,Se),b.return=H,b):(b=f(b,W),b.return=H,b)}function ie(H,b,W){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Id(""+b,H.mode,W),b.return=H,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case U:return W=Vu(b.type,b.key,b.props,null,H.mode,W),W.ref=ba(H,null,b),W.return=H,W;case ce:return b=Ad(b,H.mode,W),b.return=H,b;case Et:var oe=b._init;return ie(H,oe(b._payload),W)}if(nr(b)||Ie(b))return b=Ws(b,H.mode,W,null),b.return=H,b;hu(H,b)}return null}function ne(H,b,W,oe){var Se=b!==null?b.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Se!==null?null:C(H,b,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case U:return W.key===Se?D(H,b,W,oe):null;case ce:return W.key===Se?G(H,b,W,oe):null;case Et:return Se=W._init,ne(H,b,Se(W._payload),oe)}if(nr(W)||Ie(W))return Se!==null?null:re(H,b,W,oe,null);hu(H,W)}return null}function me(H,b,W,oe,Se){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(W)||null,C(b,H,""+oe,Se);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case U:return H=H.get(oe.key===null?W:oe.key)||null,D(b,H,oe,Se);case ce:return H=H.get(oe.key===null?W:oe.key)||null,G(b,H,oe,Se);case Et:var Pe=oe._init;return me(H,b,W,Pe(oe._payload),Se)}if(nr(oe)||Ie(oe))return H=H.get(W)||null,re(b,H,oe,Se,null);hu(b,oe)}return null}function Te(H,b,W,oe){for(var Se=null,Pe=null,ke=b,Ne=b=0,Ht=null;ke!==null&&Ne<W.length;Ne++){ke.index>Ne?(Ht=ke,ke=null):Ht=ke.sibling;var rt=ne(H,ke,W[Ne],oe);if(rt===null){ke===null&&(ke=Ht);break}r&&ke&&rt.alternate===null&&s(H,ke),b=g(rt,b,Ne),Pe===null?Se=rt:Pe.sibling=rt,Pe=rt,ke=Ht}if(Ne===W.length)return a(H,ke),wt&&Ms(H,Ne),Se;if(ke===null){for(;Ne<W.length;Ne++)ke=ie(H,W[Ne],oe),ke!==null&&(b=g(ke,b,Ne),Pe===null?Se=ke:Pe.sibling=ke,Pe=ke);return wt&&Ms(H,Ne),Se}for(ke=h(H,ke);Ne<W.length;Ne++)Ht=me(ke,H,Ne,W[Ne],oe),Ht!==null&&(r&&Ht.alternate!==null&&ke.delete(Ht.key===null?Ne:Ht.key),b=g(Ht,b,Ne),Pe===null?Se=Ht:Pe.sibling=Ht,Pe=Ht);return r&&ke.forEach(function(is){return s(H,is)}),wt&&Ms(H,Ne),Se}function Ae(H,b,W,oe){var Se=Ie(W);if(typeof Se!="function")throw Error(t(150));if(W=Se.call(W),W==null)throw Error(t(151));for(var Pe=Se=null,ke=b,Ne=b=0,Ht=null,rt=W.next();ke!==null&&!rt.done;Ne++,rt=W.next()){ke.index>Ne?(Ht=ke,ke=null):Ht=ke.sibling;var is=ne(H,ke,rt.value,oe);if(is===null){ke===null&&(ke=Ht);break}r&&ke&&is.alternate===null&&s(H,ke),b=g(is,b,Ne),Pe===null?Se=is:Pe.sibling=is,Pe=is,ke=Ht}if(rt.done)return a(H,ke),wt&&Ms(H,Ne),Se;if(ke===null){for(;!rt.done;Ne++,rt=W.next())rt=ie(H,rt.value,oe),rt!==null&&(b=g(rt,b,Ne),Pe===null?Se=rt:Pe.sibling=rt,Pe=rt);return wt&&Ms(H,Ne),Se}for(ke=h(H,ke);!rt.done;Ne++,rt=W.next())rt=me(ke,H,Ne,rt.value,oe),rt!==null&&(r&&rt.alternate!==null&&ke.delete(rt.key===null?Ne:rt.key),b=g(rt,b,Ne),Pe===null?Se=rt:Pe.sibling=rt,Pe=rt);return r&&ke.forEach(function(hE){return s(H,hE)}),wt&&Ms(H,Ne),Se}function kt(H,b,W,oe){if(typeof W=="object"&&W!==null&&W.type===x&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case U:e:{for(var Se=W.key,Pe=b;Pe!==null;){if(Pe.key===Se){if(Se=W.type,Se===x){if(Pe.tag===7){a(H,Pe.sibling),b=f(Pe,W.props.children),b.return=H,H=b;break e}}else if(Pe.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Et&&pm(Se)===Pe.type){a(H,Pe.sibling),b=f(Pe,W.props),b.ref=ba(H,Pe,W),b.return=H,H=b;break e}a(H,Pe);break}else s(H,Pe);Pe=Pe.sibling}W.type===x?(b=Ws(W.props.children,H.mode,oe,W.key),b.return=H,H=b):(oe=Vu(W.type,W.key,W.props,null,H.mode,oe),oe.ref=ba(H,b,W),oe.return=H,H=oe)}return w(H);case ce:e:{for(Pe=W.key;b!==null;){if(b.key===Pe)if(b.tag===4&&b.stateNode.containerInfo===W.containerInfo&&b.stateNode.implementation===W.implementation){a(H,b.sibling),b=f(b,W.children||[]),b.return=H,H=b;break e}else{a(H,b);break}else s(H,b);b=b.sibling}b=Ad(W,H.mode,oe),b.return=H,H=b}return w(H);case Et:return Pe=W._init,kt(H,b,Pe(W._payload),oe)}if(nr(W))return Te(H,b,W,oe);if(Ie(W))return Ae(H,b,W,oe);hu(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,b!==null&&b.tag===6?(a(H,b.sibling),b=f(b,W),b.return=H,H=b):(a(H,b),b=Id(W,H.mode,oe),b.return=H,H=b),w(H)):a(H,b)}return kt}var Mo=mm(!0),gm=mm(!1),du=$i(null),fu=null,Uo=null,Lh=null;function Oh(){Lh=Uo=fu=null}function Vh(r){var s=du.current;yt(du),r._currentValue=s}function bh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function Fo(r,s){fu=r,Lh=Uo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(Pn=!0),r.firstContext=null)}function Yn(r){var s=r._currentValue;if(Lh!==r)if(r={context:r,memoizedValue:s,next:null},Uo===null){if(fu===null)throw Error(t(308));Uo=r,fu.dependencies={lanes:0,firstContext:r}}else Uo=Uo.next=r;return s}var Us=null;function Mh(r){Us===null?Us=[r]:Us.push(r)}function ym(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,Mh(s)):(a.next=f.next,f.next=a),s.interleaved=a,ci(r,h)}function ci(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Yi=!1;function Uh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function hi(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Xi(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,nt&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,ci(r,a)}return f=h.interleaved,f===null?(s.next=s,Mh(h)):(s.next=f.next,f.next=s),h.interleaved=s,ci(r,a)}function pu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,ji(r,a)}}function _m(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function mu(r,s,a,h){var f=r.updateQueue;Yi=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var D=C,G=D.next;D.next=null,w===null?g=G:w.next=G,w=D;var re=r.alternate;re!==null&&(re=re.updateQueue,C=re.lastBaseUpdate,C!==w&&(C===null?re.firstBaseUpdate=G:C.next=G,re.lastBaseUpdate=D))}if(g!==null){var ie=f.baseState;w=0,re=G=D=null,C=g;do{var ne=C.lane,me=C.eventTime;if((h&ne)===ne){re!==null&&(re=re.next={eventTime:me,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var Te=r,Ae=C;switch(ne=s,me=a,Ae.tag){case 1:if(Te=Ae.payload,typeof Te=="function"){ie=Te.call(me,ie,ne);break e}ie=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ae.payload,ne=typeof Te=="function"?Te.call(me,ie,ne):Te,ne==null)break e;ie=de({},ie,ne);break e;case 2:Yi=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,ne=f.effects,ne===null?f.effects=[C]:ne.push(C))}else me={eventTime:me,lane:ne,tag:C.tag,payload:C.payload,callback:C.callback,next:null},re===null?(G=re=me,D=ie):re=re.next=me,w|=ne;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;ne=C,C=ne.next,ne.next=null,f.lastBaseUpdate=ne,f.shared.pending=null}}while(!0);if(re===null&&(D=ie),f.baseState=D,f.firstBaseUpdate=G,f.lastBaseUpdate=re,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Bs|=w,r.lanes=w,r.memoizedState=ie}}function wm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Ma={},Mr=$i(Ma),Ua=$i(Ma),Fa=$i(Ma);function Fs(r){if(r===Ma)throw Error(t(174));return r}function Fh(r,s){switch(dt(Fa,s),dt(Ua,r),dt(Mr,Ma),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:St(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=St(s,r)}yt(Mr),dt(Mr,s)}function jo(){yt(Mr),yt(Ua),yt(Fa)}function Em(r){Fs(Fa.current);var s=Fs(Mr.current),a=St(s,r.type);s!==a&&(dt(Ua,r),dt(Mr,a))}function jh(r){Ua.current===r&&(yt(Mr),yt(Ua))}var Tt=$i(0);function gu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Bh=[];function zh(){for(var r=0;r<Bh.length;r++)Bh[r]._workInProgressVersionPrimary=null;Bh.length=0}var yu=ae.ReactCurrentDispatcher,Hh=ae.ReactCurrentBatchConfig,js=0,It=null,bt=null,Bt=null,vu=!1,ja=!1,Ba=0,Lw=0;function ln(){throw Error(t(321))}function qh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!mr(r[a],s[a]))return!1;return!0}function Wh(r,s,a,h,f,g){if(js=g,It=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,yu.current=r===null||r.memoizedState===null?Mw:Uw,r=a(h,f),ja){g=0;do{if(ja=!1,Ba=0,25<=g)throw Error(t(301));g+=1,Bt=bt=null,s.updateQueue=null,yu.current=Fw,r=a(h,f)}while(ja)}if(yu.current=Eu,s=bt!==null&&bt.next!==null,js=0,Bt=bt=It=null,vu=!1,s)throw Error(t(300));return r}function Gh(){var r=Ba!==0;return Ba=0,r}function Ur(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?It.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function Xn(){if(bt===null){var r=It.alternate;r=r!==null?r.memoizedState:null}else r=bt.next;var s=Bt===null?It.memoizedState:Bt.next;if(s!==null)Bt=s,bt=r;else{if(r===null)throw Error(t(310));bt=r,r={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Bt===null?It.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function za(r,s){return typeof s=="function"?s(r):s}function $h(r){var s=Xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=bt,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var C=w=null,D=null,G=g;do{var re=G.lane;if((js&re)===re)D!==null&&(D=D.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),h=G.hasEagerState?G.eagerState:r(h,G.action);else{var ie={lane:re,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};D===null?(C=D=ie,w=h):D=D.next=ie,It.lanes|=re,Bs|=re}G=G.next}while(G!==null&&G!==g);D===null?w=h:D.next=C,mr(h,s.memoizedState)||(Pn=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=D,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,It.lanes|=g,Bs|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Kh(r){var s=Xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);mr(g,s.memoizedState)||(Pn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function Tm(){}function Im(r,s){var a=It,h=Xn(),f=s(),g=!mr(h.memoizedState,f);if(g&&(h.memoizedState=f,Pn=!0),h=h.queue,Qh(Rm.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||Bt!==null&&Bt.memoizedState.tag&1){if(a.flags|=2048,Ha(9,Sm.bind(null,a,h,f,s),void 0,null),zt===null)throw Error(t(349));js&30||Am(a,s,f)}return f}function Am(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=It.updateQueue,s===null?(s={lastEffect:null,stores:null},It.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Sm(r,s,a,h){s.value=a,s.getSnapshot=h,Cm(s)&&Pm(r)}function Rm(r,s,a){return a(function(){Cm(s)&&Pm(r)})}function Cm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!mr(r,a)}catch{return!0}}function Pm(r){var s=ci(r,1);s!==null&&wr(s,r,1,-1)}function km(r){var s=Ur();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:r},s.queue=r,r=r.dispatch=bw.bind(null,It,r),[s.memoizedState,r]}function Ha(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=It.updateQueue,s===null?(s={lastEffect:null,stores:null},It.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function xm(){return Xn().memoizedState}function _u(r,s,a,h){var f=Ur();It.flags|=r,f.memoizedState=Ha(1|s,a,void 0,h===void 0?null:h)}function wu(r,s,a,h){var f=Xn();h=h===void 0?null:h;var g=void 0;if(bt!==null){var w=bt.memoizedState;if(g=w.destroy,h!==null&&qh(h,w.deps)){f.memoizedState=Ha(s,a,g,h);return}}It.flags|=r,f.memoizedState=Ha(1|s,a,g,h)}function Nm(r,s){return _u(8390656,8,r,s)}function Qh(r,s){return wu(2048,8,r,s)}function Dm(r,s){return wu(4,2,r,s)}function Lm(r,s){return wu(4,4,r,s)}function Om(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Vm(r,s,a){return a=a!=null?a.concat([r]):null,wu(4,4,Om.bind(null,s,r),a)}function Yh(){}function bm(r,s){var a=Xn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&qh(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function Mm(r,s){var a=Xn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&qh(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Um(r,s,a){return js&21?(mr(a,s)||(a=ks(),It.lanes|=a,Bs|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,Pn=!0),r.memoizedState=a)}function Ow(r,s){var a=$e;$e=a!==0&&4>a?a:4,r(!0);var h=Hh.transition;Hh.transition={};try{r(!1),s()}finally{$e=a,Hh.transition=h}}function Fm(){return Xn().memoizedState}function Vw(r,s,a){var h=ts(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},jm(r))Bm(s,a);else if(a=ym(r,s,a,h),a!==null){var f=_n();wr(a,r,h,f),zm(a,s,h)}}function bw(r,s,a){var h=ts(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(jm(r))Bm(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,C=g(w,a);if(f.hasEagerState=!0,f.eagerState=C,mr(C,w)){var D=s.interleaved;D===null?(f.next=f,Mh(s)):(f.next=D.next,D.next=f),s.interleaved=f;return}}catch{}finally{}a=ym(r,s,f,h),a!==null&&(f=_n(),wr(a,r,h,f),zm(a,s,h))}}function jm(r){var s=r.alternate;return r===It||s!==null&&s===It}function Bm(r,s){ja=vu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function zm(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,ji(r,a)}}var Eu={readContext:Yn,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},Mw={readContext:Yn,useCallback:function(r,s){return Ur().memoizedState=[r,s===void 0?null:s],r},useContext:Yn,useEffect:Nm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,_u(4194308,4,Om.bind(null,s,r),a)},useLayoutEffect:function(r,s){return _u(4194308,4,r,s)},useInsertionEffect:function(r,s){return _u(4,2,r,s)},useMemo:function(r,s){var a=Ur();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=Ur();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=Vw.bind(null,It,r),[h.memoizedState,r]},useRef:function(r){var s=Ur();return r={current:r},s.memoizedState=r},useState:km,useDebugValue:Yh,useDeferredValue:function(r){return Ur().memoizedState=r},useTransition:function(){var r=km(!1),s=r[0];return r=Ow.bind(null,r[1]),Ur().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=It,f=Ur();if(wt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),zt===null)throw Error(t(349));js&30||Am(h,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Nm(Rm.bind(null,h,g,r),[r]),h.flags|=2048,Ha(9,Sm.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=Ur(),s=zt.identifierPrefix;if(wt){var a=ui,h=li;a=(h&~(1<<32-gn(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ba++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Lw++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Uw={readContext:Yn,useCallback:bm,useContext:Yn,useEffect:Qh,useImperativeHandle:Vm,useInsertionEffect:Dm,useLayoutEffect:Lm,useMemo:Mm,useReducer:$h,useRef:xm,useState:function(){return $h(za)},useDebugValue:Yh,useDeferredValue:function(r){var s=Xn();return Um(s,bt.memoizedState,r)},useTransition:function(){var r=$h(za)[0],s=Xn().memoizedState;return[r,s]},useMutableSource:Tm,useSyncExternalStore:Im,useId:Fm,unstable_isNewReconciler:!1},Fw={readContext:Yn,useCallback:bm,useContext:Yn,useEffect:Qh,useImperativeHandle:Vm,useInsertionEffect:Dm,useLayoutEffect:Lm,useMemo:Mm,useReducer:Kh,useRef:xm,useState:function(){return Kh(za)},useDebugValue:Yh,useDeferredValue:function(r){var s=Xn();return bt===null?s.memoizedState=r:Um(s,bt.memoizedState,r)},useTransition:function(){var r=Kh(za)[0],s=Xn().memoizedState;return[r,s]},useMutableSource:Tm,useSyncExternalStore:Im,useId:Fm,unstable_isNewReconciler:!1};function yr(r,s){if(r&&r.defaultProps){s=de({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Xh(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:de({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Tu={isMounted:function(r){return(r=r._reactInternals)?Ge(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=_n(),f=ts(r),g=hi(h,f);g.payload=s,a!=null&&(g.callback=a),s=Xi(r,g,f),s!==null&&(wr(s,r,f,h),pu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=_n(),f=ts(r),g=hi(h,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Xi(r,g,f),s!==null&&(wr(s,r,f,h),pu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=_n(),h=ts(r),f=hi(a,h);f.tag=2,s!=null&&(f.callback=s),s=Xi(r,f,h),s!==null&&(wr(s,r,h,a),pu(s,r,h))}};function Hm(r,s,a,h,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!ka(a,h)||!ka(f,g):!0}function qm(r,s,a){var h=!1,f=Ki,g=s.contextType;return typeof g=="object"&&g!==null?g=Yn(g):(f=Cn(s)?Vs:an.current,h=s.contextTypes,g=(h=h!=null)?Lo(r,f):Ki),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Tu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Wm(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Tu.enqueueReplaceState(s,s.state,null)}function Jh(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Uh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Yn(g):(g=Cn(s)?Vs:an.current,f.context=Lo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Xh(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Tu.enqueueReplaceState(f,f.state,null),mu(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Bo(r,s){try{var a="",h=s;do a+=Le(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Zh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function ed(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var jw=typeof WeakMap=="function"?WeakMap:Map;function Gm(r,s,a){a=hi(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){ku||(ku=!0,md=h),ed(r,s)},a}function $m(r,s,a){a=hi(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){ed(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){ed(r,s),typeof h!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Km(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new jw;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=eE.bind(null,r,s,a),s.then(r,r))}function Qm(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Ym(r,s,a,h,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=hi(-1,1),s.tag=2,Xi(a,s,1))),a.lanes|=1),r)}var Bw=ae.ReactCurrentOwner,Pn=!1;function vn(r,s,a,h){s.child=r===null?gm(s,null,a,h):Mo(s,r.child,a,h)}function Xm(r,s,a,h,f){a=a.render;var g=s.ref;return Fo(s,f),h=Wh(r,s,a,h,g,f),a=Gh(),r!==null&&!Pn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,di(r,s,f)):(wt&&a&&Ph(s),s.flags|=1,vn(r,s,h,f),s.child)}function Jm(r,s,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!Td(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Zm(r,s,g,h,f)):(r=Vu(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:ka,a(w,h)&&r.ref===s.ref)return di(r,s,f)}return s.flags|=1,r=rs(g,h),r.ref=s.ref,r.return=s,s.child=r}function Zm(r,s,a,h,f){if(r!==null){var g=r.memoizedProps;if(ka(g,h)&&r.ref===s.ref)if(Pn=!1,s.pendingProps=h=g,(r.lanes&f)!==0)r.flags&131072&&(Pn=!0);else return s.lanes=r.lanes,di(r,s,f)}return td(r,s,a,h,f)}function eg(r,s,a){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Ho,Hn),Hn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,dt(Ho,Hn),Hn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,dt(Ho,Hn),Hn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,dt(Ho,Hn),Hn|=h;return vn(r,s,f,a),s.child}function tg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function td(r,s,a,h,f){var g=Cn(a)?Vs:an.current;return g=Lo(s,g),Fo(s,f),a=Wh(r,s,a,h,g,f),h=Gh(),r!==null&&!Pn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,di(r,s,f)):(wt&&h&&Ph(s),s.flags|=1,vn(r,s,a,f),s.child)}function ng(r,s,a,h,f){if(Cn(a)){var g=!0;ou(s)}else g=!1;if(Fo(s,f),s.stateNode===null)Au(r,s),qm(s,a,h),Jh(s,a,h,f),h=!0;else if(r===null){var w=s.stateNode,C=s.memoizedProps;w.props=C;var D=w.context,G=a.contextType;typeof G=="object"&&G!==null?G=Yn(G):(G=Cn(a)?Vs:an.current,G=Lo(s,G));var re=a.getDerivedStateFromProps,ie=typeof re=="function"||typeof w.getSnapshotBeforeUpdate=="function";ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==h||D!==G)&&Wm(s,w,h,G),Yi=!1;var ne=s.memoizedState;w.state=ne,mu(s,h,w,f),D=s.memoizedState,C!==h||ne!==D||Rn.current||Yi?(typeof re=="function"&&(Xh(s,a,re,h),D=s.memoizedState),(C=Yi||Hm(s,a,C,h,ne,D,G))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=D),w.props=h,w.state=D,w.context=G,h=C):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,vm(r,s),C=s.memoizedProps,G=s.type===s.elementType?C:yr(s.type,C),w.props=G,ie=s.pendingProps,ne=w.context,D=a.contextType,typeof D=="object"&&D!==null?D=Yn(D):(D=Cn(a)?Vs:an.current,D=Lo(s,D));var me=a.getDerivedStateFromProps;(re=typeof me=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==ie||ne!==D)&&Wm(s,w,h,D),Yi=!1,ne=s.memoizedState,w.state=ne,mu(s,h,w,f);var Te=s.memoizedState;C!==ie||ne!==Te||Rn.current||Yi?(typeof me=="function"&&(Xh(s,a,me,h),Te=s.memoizedState),(G=Yi||Hm(s,a,G,h,ne,Te,D)||!1)?(re||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,Te,D),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,Te,D)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Te),w.props=h,w.state=Te,w.context=D,h=G):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),h=!1)}return nd(r,s,a,h,g,f)}function nd(r,s,a,h,f,g){tg(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return f&&am(s,a,!1),di(r,s,g);h=s.stateNode,Bw.current=s;var C=w&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=Mo(s,r.child,null,g),s.child=Mo(s,null,C,g)):vn(r,s,C,g),s.memoizedState=h.state,f&&am(s,a,!0),s.child}function rg(r){var s=r.stateNode;s.pendingContext?sm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&sm(r,s.context,!1),Fh(r,s.containerInfo)}function ig(r,s,a,h,f){return bo(),Dh(f),s.flags|=256,vn(r,s,a,h),s.child}var rd={dehydrated:null,treeContext:null,retryLane:0};function id(r){return{baseLanes:r,cachePool:null,transitions:null}}function sg(r,s,a){var h=s.pendingProps,f=Tt.current,g=!1,w=(s.flags&128)!==0,C;if((C=w)||(C=r!==null&&r.memoizedState===null?!1:(f&2)!==0),C?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),dt(Tt,f&1),r===null)return Nh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=bu(w,h,0,null),r=Ws(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=id(a),s.memoizedState=rd,r):sd(s,w));if(f=r.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return zw(r,s,w,h,C,f,a);if(g){g=h.fallback,w=s.mode,f=r.child,C=f.sibling;var D={mode:"hidden",children:h.children};return!(w&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=D,s.deletions=null):(h=rs(f,D),h.subtreeFlags=f.subtreeFlags&14680064),C!==null?g=rs(C,g):(g=Ws(g,w,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?id(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=rd,h}return g=r.child,r=g.sibling,h=rs(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function sd(r,s){return s=bu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Iu(r,s,a,h){return h!==null&&Dh(h),Mo(s,r.child,null,a),r=sd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function zw(r,s,a,h,f,g,w){if(a)return s.flags&256?(s.flags&=-257,h=Zh(Error(t(422))),Iu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=bu({mode:"visible",children:h.children},f,0,null),g=Ws(g,f,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&Mo(s,r.child,null,w),s.child.memoizedState=id(w),s.memoizedState=rd,g);if(!(s.mode&1))return Iu(r,s,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var C=h.dgst;return h=C,g=Error(t(419)),h=Zh(g,h,void 0),Iu(r,s,w,h)}if(C=(w&r.childLanes)!==0,Pn||C){if(h=zt,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,ci(r,f),wr(h,r,f,-1))}return Ed(),h=Zh(Error(t(421))),Iu(r,s,w,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=tE.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,zn=Gi(f.nextSibling),Bn=s,wt=!0,gr=null,r!==null&&(Kn[Qn++]=li,Kn[Qn++]=ui,Kn[Qn++]=bs,li=r.id,ui=r.overflow,bs=s),s=sd(s,h.children),s.flags|=4096,s)}function og(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),bh(r.return,s,a)}function od(r,s,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function ag(r,s,a){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(vn(r,s,h.children,a),h=Tt.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&og(r,a,s);else if(r.tag===19)og(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(dt(Tt,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&gu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),od(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&gu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}od(s,!0,a,null,g);break;case"together":od(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Au(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function di(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Bs|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=rs(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=rs(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function Hw(r,s,a){switch(s.tag){case 3:rg(s),bo();break;case 5:Em(s);break;case 1:Cn(s.type)&&ou(s);break;case 4:Fh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;dt(du,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(dt(Tt,Tt.current&1),s.flags|=128,null):a&s.child.childLanes?sg(r,s,a):(dt(Tt,Tt.current&1),r=di(r,s,a),r!==null?r.sibling:null);dt(Tt,Tt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return ag(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),dt(Tt,Tt.current),h)break;return null;case 22:case 23:return s.lanes=0,eg(r,s,a)}return di(r,s,a)}var lg,ad,ug,cg;lg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},ad=function(){},ug=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,Fs(Mr.current);var g=null;switch(a){case"input":f=Qr(r,f),h=Qr(r,h),g=[];break;case"select":f=de({},f,{value:void 0}),h=de({},h,{value:void 0}),g=[];break;case"textarea":f=rr(r,f),h=rr(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=ru)}kr(a,h);var w;a=null;for(G in f)if(!h.hasOwnProperty(G)&&f.hasOwnProperty(G)&&f[G]!=null)if(G==="style"){var C=f[G];for(w in C)C.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?g||(g=[]):(g=g||[]).push(G,null));for(G in h){var D=h[G];if(C=f!=null?f[G]:void 0,h.hasOwnProperty(G)&&D!==C&&(D!=null||C!=null))if(G==="style")if(C){for(w in C)!C.hasOwnProperty(w)||D&&D.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in D)D.hasOwnProperty(w)&&C[w]!==D[w]&&(a||(a={}),a[w]=D[w])}else a||(g||(g=[]),g.push(G,a)),a=D;else G==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,C=C?C.__html:void 0,D!=null&&C!==D&&(g=g||[]).push(G,D)):G==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(G,""+D):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(D!=null&&G==="onScroll"&&gt("scroll",r),g||C===D||(g=[])):(g=g||[]).push(G,D))}a&&(g=g||[]).push("style",a);var G=g;(s.updateQueue=G)&&(s.flags|=4)}},cg=function(r,s,a,h){a!==h&&(s.flags|=4)};function qa(r,s){if(!wt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function un(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function qw(r,s,a){var h=s.pendingProps;switch(kh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(s),null;case 1:return Cn(s.type)&&su(),un(s),null;case 3:return h=s.stateNode,jo(),yt(Rn),yt(an),zh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(cu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,gr!==null&&(vd(gr),gr=null))),ad(r,s),un(s),null;case 5:jh(s);var f=Fs(Fa.current);if(a=s.type,r!==null&&s.stateNode!=null)ug(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return un(s),null}if(r=Fs(Mr.current),cu(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[br]=s,h[Oa]=g,r=(s.mode&1)!==0,a){case"dialog":gt("cancel",h),gt("close",h);break;case"iframe":case"object":case"embed":gt("load",h);break;case"video":case"audio":for(f=0;f<Na.length;f++)gt(Na[f],h);break;case"source":gt("error",h);break;case"img":case"image":case"link":gt("error",h),gt("load",h);break;case"details":gt("toggle",h);break;case"input":xi(h,g),gt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},gt("invalid",h);break;case"textarea":Yr(h,g),gt("invalid",h)}kr(a,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var C=g[w];w==="children"?typeof C=="string"?h.textContent!==C&&(g.suppressHydrationWarning!==!0&&nu(h.textContent,C,r),f=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&nu(h.textContent,C,r),f=["children",""+C]):o.hasOwnProperty(w)&&C!=null&&w==="onScroll"&&gt("scroll",h)}switch(a){case"input":Wn(h),co(h,g,!0);break;case"textarea":Wn(h),En(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=ru)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ut(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(a,{is:h.is}):(r=w.createElement(a),a==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,a),r[br]=s,r[Oa]=h,lg(r,s,!1,!1),s.stateNode=r;e:{switch(w=Vi(a,h),a){case"dialog":gt("cancel",r),gt("close",r),f=h;break;case"iframe":case"object":case"embed":gt("load",r),f=h;break;case"video":case"audio":for(f=0;f<Na.length;f++)gt(Na[f],r);f=h;break;case"source":gt("error",r),f=h;break;case"img":case"image":case"link":gt("error",r),gt("load",r),f=h;break;case"details":gt("toggle",r),f=h;break;case"input":xi(r,h),f=Qr(r,h),gt("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=de({},h,{value:void 0}),gt("invalid",r);break;case"textarea":Yr(r,h),f=rr(r,h),gt("invalid",r);break;default:f=h}kr(a,f),C=f;for(g in C)if(C.hasOwnProperty(g)){var D=C[g];g==="style"?Rs(r,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Ss(r,D)):g==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&Gt(r,D):typeof D=="number"&&Gt(r,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?D!=null&&g==="onScroll"&&gt("scroll",r):D!=null&&Z(r,g,D,w))}switch(a){case"input":Wn(r),co(r,h,!1);break;case"textarea":Wn(r),En(r);break;case"option":h.value!=null&&r.setAttribute("value",""+et(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Wt(r,!!h.multiple,g,!1):h.defaultValue!=null&&Wt(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=ru)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return un(s),null;case 6:if(r&&s.stateNode!=null)cg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Fs(Fa.current),Fs(Mr.current),cu(s)){if(h=s.stateNode,a=s.memoizedProps,h[br]=s,(g=h.nodeValue!==a)&&(r=Bn,r!==null))switch(r.tag){case 3:nu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&nu(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[br]=s,s.stateNode=h}return un(s),null;case 13:if(yt(Tt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(wt&&zn!==null&&s.mode&1&&!(s.flags&128))fm(),bo(),s.flags|=98560,g=!1;else if(g=cu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[br]=s}else bo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;un(s),g=!1}else gr!==null&&(vd(gr),gr=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||Tt.current&1?Mt===0&&(Mt=3):Ed())),s.updateQueue!==null&&(s.flags|=4),un(s),null);case 4:return jo(),ad(r,s),r===null&&Da(s.stateNode.containerInfo),un(s),null;case 10:return Vh(s.type._context),un(s),null;case 17:return Cn(s.type)&&su(),un(s),null;case 19:if(yt(Tt),g=s.memoizedState,g===null)return un(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)qa(g,!1);else{if(Mt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=gu(r),w!==null){for(s.flags|=128,qa(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return dt(Tt,Tt.current&1|2),s.child}r=r.sibling}g.tail!==null&&ot()>qo&&(s.flags|=128,h=!0,qa(g,!1),s.lanes=4194304)}else{if(!h)if(r=gu(w),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),qa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!wt)return un(s),null}else 2*ot()-g.renderingStartTime>qo&&a!==1073741824&&(s.flags|=128,h=!0,qa(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ot(),s.sibling=null,a=Tt.current,dt(Tt,h?a&1|2:a&1),s):(un(s),null);case 22:case 23:return wd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?Hn&1073741824&&(un(s),s.subtreeFlags&6&&(s.flags|=8192)):un(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Ww(r,s){switch(kh(s),s.tag){case 1:return Cn(s.type)&&su(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return jo(),yt(Rn),yt(an),zh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return jh(s),null;case 13:if(yt(Tt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));bo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return yt(Tt),null;case 4:return jo(),null;case 10:return Vh(s.type._context),null;case 22:case 23:return wd(),null;case 24:return null;default:return null}}var Su=!1,cn=!1,Gw=typeof WeakSet=="function"?WeakSet:Set,_e=null;function zo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){Ct(r,s,h)}else a.current=null}function ld(r,s,a){try{a()}catch(h){Ct(r,s,h)}}var hg=!1;function $w(r,s){if(wh=Hi,r=Hp(),dh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,C=-1,D=-1,G=0,re=0,ie=r,ne=null;t:for(;;){for(var me;ie!==a||f!==0&&ie.nodeType!==3||(C=w+f),ie!==g||h!==0&&ie.nodeType!==3||(D=w+h),ie.nodeType===3&&(w+=ie.nodeValue.length),(me=ie.firstChild)!==null;)ne=ie,ie=me;for(;;){if(ie===r)break t;if(ne===a&&++G===f&&(C=w),ne===g&&++re===h&&(D=w),(me=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=me}a=C===-1||D===-1?null:{start:C,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Eh={focusedElem:r,selectionRange:a},Hi=!1,_e=s;_e!==null;)if(s=_e,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,_e=r;else for(;_e!==null;){s=_e;try{var Te=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Ae=Te.memoizedProps,kt=Te.memoizedState,H=s.stateNode,b=H.getSnapshotBeforeUpdate(s.elementType===s.type?Ae:yr(s.type,Ae),kt);H.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){Ct(s,s.return,oe)}if(r=s.sibling,r!==null){r.return=s.return,_e=r;break}_e=s.return}return Te=hg,hg=!1,Te}function Wa(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&ld(s,a,g)}f=f.next}while(f!==h)}}function Ru(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function ud(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function dg(r){var s=r.alternate;s!==null&&(r.alternate=null,dg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[br],delete s[Oa],delete s[Sh],delete s[kw],delete s[xw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function fg(r){return r.tag===5||r.tag===3||r.tag===4}function pg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||fg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function cd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ru));else if(h!==4&&(r=r.child,r!==null))for(cd(r,s,a),r=r.sibling;r!==null;)cd(r,s,a),r=r.sibling}function hd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(hd(r,s,a),r=r.sibling;r!==null;)hd(r,s,a),r=r.sibling}var Xt=null,vr=!1;function Ji(r,s,a){for(a=a.child;a!==null;)mg(r,s,a),a=a.sibling}function mg(r,s,a){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(In,a)}catch{}switch(a.tag){case 5:cn||zo(a,s);case 6:var h=Xt,f=vr;Xt=null,Ji(r,s,a),Xt=h,vr=f,Xt!==null&&(vr?(r=Xt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Xt.removeChild(a.stateNode));break;case 18:Xt!==null&&(vr?(r=Xt,a=a.stateNode,r.nodeType===8?Ah(r.parentNode,a):r.nodeType===1&&Ah(r,a),fr(r)):Ah(Xt,a.stateNode));break;case 4:h=Xt,f=vr,Xt=a.stateNode.containerInfo,vr=!0,Ji(r,s,a),Xt=h,vr=f;break;case 0:case 11:case 14:case 15:if(!cn&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&ld(a,s,w),f=f.next}while(f!==h)}Ji(r,s,a);break;case 1:if(!cn&&(zo(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(C){Ct(a,s,C)}Ji(r,s,a);break;case 21:Ji(r,s,a);break;case 22:a.mode&1?(cn=(h=cn)||a.memoizedState!==null,Ji(r,s,a),cn=h):Ji(r,s,a);break;default:Ji(r,s,a)}}function gg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new Gw),s.forEach(function(h){var f=nE.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function _r(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,w=s,C=w;e:for(;C!==null;){switch(C.tag){case 5:Xt=C.stateNode,vr=!1;break e;case 3:Xt=C.stateNode.containerInfo,vr=!0;break e;case 4:Xt=C.stateNode.containerInfo,vr=!0;break e}C=C.return}if(Xt===null)throw Error(t(160));mg(g,w,f),Xt=null,vr=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(G){Ct(f,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)yg(s,r),s=s.sibling}function yg(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(_r(s,r),Fr(r),h&4){try{Wa(3,r,r.return),Ru(3,r)}catch(Ae){Ct(r,r.return,Ae)}try{Wa(5,r,r.return)}catch(Ae){Ct(r,r.return,Ae)}}break;case 1:_r(s,r),Fr(r),h&512&&a!==null&&zo(a,a.return);break;case 5:if(_r(s,r),Fr(r),h&512&&a!==null&&zo(a,a.return),r.flags&32){var f=r.stateNode;try{Gt(f,"")}catch(Ae){Ct(r,r.return,Ae)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,C=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Ni(f,g),Vi(C,w);var G=Vi(C,g);for(w=0;w<D.length;w+=2){var re=D[w],ie=D[w+1];re==="style"?Rs(f,ie):re==="dangerouslySetInnerHTML"?Ss(f,ie):re==="children"?Gt(f,ie):Z(f,re,ie,G)}switch(C){case"input":As(f,g);break;case"textarea":Rr(f,g);break;case"select":var ne=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var me=g.value;me!=null?Wt(f,!!g.multiple,me,!1):ne!==!!g.multiple&&(g.defaultValue!=null?Wt(f,!!g.multiple,g.defaultValue,!0):Wt(f,!!g.multiple,g.multiple?[]:"",!1))}f[Oa]=g}catch(Ae){Ct(r,r.return,Ae)}}break;case 6:if(_r(s,r),Fr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(Ae){Ct(r,r.return,Ae)}}break;case 3:if(_r(s,r),Fr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{fr(s.containerInfo)}catch(Ae){Ct(r,r.return,Ae)}break;case 4:_r(s,r),Fr(r);break;case 13:_r(s,r),Fr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(pd=ot())),h&4&&gg(r);break;case 22:if(re=a!==null&&a.memoizedState!==null,r.mode&1?(cn=(G=cn)||re,_r(s,r),cn=G):_r(s,r),Fr(r),h&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!re&&r.mode&1)for(_e=r,re=r.child;re!==null;){for(ie=_e=re;_e!==null;){switch(ne=_e,me=ne.child,ne.tag){case 0:case 11:case 14:case 15:Wa(4,ne,ne.return);break;case 1:zo(ne,ne.return);var Te=ne.stateNode;if(typeof Te.componentWillUnmount=="function"){h=ne,a=ne.return;try{s=h,Te.props=s.memoizedProps,Te.state=s.memoizedState,Te.componentWillUnmount()}catch(Ae){Ct(h,a,Ae)}}break;case 5:zo(ne,ne.return);break;case 22:if(ne.memoizedState!==null){wg(ie);continue}}me!==null?(me.return=ne,_e=me):wg(ie)}re=re.sibling}e:for(re=null,ie=r;;){if(ie.tag===5){if(re===null){re=ie;try{f=ie.stateNode,G?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=ie.stateNode,D=ie.memoizedProps.style,w=D!=null&&D.hasOwnProperty("display")?D.display:null,C.style.display=Li("display",w))}catch(Ae){Ct(r,r.return,Ae)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=G?"":ie.memoizedProps}catch(Ae){Ct(r,r.return,Ae)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===r)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===r)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===r)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:_r(s,r),Fr(r),h&4&&gg(r);break;case 21:break;default:_r(s,r),Fr(r)}}function Fr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(fg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Gt(f,""),h.flags&=-33);var g=pg(r);hd(r,g,f);break;case 3:case 4:var w=h.stateNode.containerInfo,C=pg(r);cd(r,C,w);break;default:throw Error(t(161))}}catch(D){Ct(r,r.return,D)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Kw(r,s,a){_e=r,vg(r)}function vg(r,s,a){for(var h=(r.mode&1)!==0;_e!==null;){var f=_e,g=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||Su;if(!w){var C=f.alternate,D=C!==null&&C.memoizedState!==null||cn;C=Su;var G=cn;if(Su=w,(cn=D)&&!G)for(_e=f;_e!==null;)w=_e,D=w.child,w.tag===22&&w.memoizedState!==null?Eg(f):D!==null?(D.return=w,_e=D):Eg(f);for(;g!==null;)_e=g,vg(g),g=g.sibling;_e=f,Su=C,cn=G}_g(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,_e=g):_g(r)}}function _g(r){for(;_e!==null;){var s=_e;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:cn||Ru(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!cn)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:yr(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&wm(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}wm(s,w,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var re=G.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&fr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}cn||s.flags&512&&ud(s)}catch(ne){Ct(s,s.return,ne)}}if(s===r){_e=null;break}if(a=s.sibling,a!==null){a.return=s.return,_e=a;break}_e=s.return}}function wg(r){for(;_e!==null;){var s=_e;if(s===r){_e=null;break}var a=s.sibling;if(a!==null){a.return=s.return,_e=a;break}_e=s.return}}function Eg(r){for(;_e!==null;){var s=_e;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Ru(4,s)}catch(D){Ct(s,a,D)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(D){Ct(s,f,D)}}var g=s.return;try{ud(s)}catch(D){Ct(s,g,D)}break;case 5:var w=s.return;try{ud(s)}catch(D){Ct(s,w,D)}}}catch(D){Ct(s,s.return,D)}if(s===r){_e=null;break}var C=s.sibling;if(C!==null){C.return=s.return,_e=C;break}_e=s.return}}var Qw=Math.ceil,Cu=ae.ReactCurrentDispatcher,dd=ae.ReactCurrentOwner,Jn=ae.ReactCurrentBatchConfig,nt=0,zt=null,Dt=null,Jt=0,Hn=0,Ho=$i(0),Mt=0,Ga=null,Bs=0,Pu=0,fd=0,$a=null,kn=null,pd=0,qo=1/0,fi=null,ku=!1,md=null,Zi=null,xu=!1,es=null,Nu=0,Ka=0,gd=null,Du=-1,Lu=0;function _n(){return nt&6?ot():Du!==-1?Du:Du=ot()}function ts(r){return r.mode&1?nt&2&&Jt!==0?Jt&-Jt:Dw.transition!==null?(Lu===0&&(Lu=ks()),Lu):(r=$e,r!==0||(r=window.event,r=r===void 0?16:Ta(r.type)),r):1}function wr(r,s,a,h){if(50<Ka)throw Ka=0,gd=null,Error(t(185));Fi(r,a,h),(!(nt&2)||r!==zt)&&(r===zt&&(!(nt&2)&&(Pu|=a),Mt===4&&ns(r,Jt)),xn(r,h),a===1&&nt===0&&!(s.mode&1)&&(qo=ot()+500,au&&Qi()))}function xn(r,s){var a=r.callbackNode;ti(r,s);var h=Ps(r,r===zt?Jt:0);if(h===0)a!==null&&Zr(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&Zr(a),s===1)r.tag===0?Nw(Ig.bind(null,r)):lm(Ig.bind(null,r)),Cw(function(){!(nt&6)&&Qi()}),a=null;else{switch(Bi(h)){case 1:a=Ye;break;case 4:a=pt;break;case 16:a=Kt;break;case 536870912:a=mt;break;default:a=Kt}a=Ng(a,Tg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Tg(r,s){if(Du=-1,Lu=0,nt&6)throw Error(t(327));var a=r.callbackNode;if(Wo()&&r.callbackNode!==a)return null;var h=Ps(r,r===zt?Jt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Ou(r,h);else{s=h;var f=nt;nt|=2;var g=Sg();(zt!==r||Jt!==s)&&(fi=null,qo=ot()+500,Hs(r,s));do try{Jw();break}catch(C){Ag(r,C)}while(!0);Oh(),Cu.current=g,nt=f,Dt!==null?s=0:(zt=null,Jt=0,s=Mt)}if(s!==0){if(s===2&&(f=Un(r),f!==0&&(h=f,s=yd(r,f))),s===1)throw a=Ga,Hs(r,0),ns(r,h),xn(r,ot()),a;if(s===6)ns(r,h);else{if(f=r.current.alternate,!(h&30)&&!Yw(f)&&(s=Ou(r,h),s===2&&(g=Un(r),g!==0&&(h=g,s=yd(r,g))),s===1))throw a=Ga,Hs(r,0),ns(r,h),xn(r,ot()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:qs(r,kn,fi);break;case 3:if(ns(r,h),(h&130023424)===h&&(s=pd+500-ot(),10<s)){if(Ps(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){_n(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Ih(qs.bind(null,r,kn,fi),s);break}qs(r,kn,fi);break;case 4:if(ns(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var w=31-gn(h);g=1<<w,w=s[w],w>f&&(f=w),h&=~g}if(h=f,h=ot()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Qw(h/1960))-h,10<h){r.timeoutHandle=Ih(qs.bind(null,r,kn,fi),h);break}qs(r,kn,fi);break;case 5:qs(r,kn,fi);break;default:throw Error(t(329))}}}return xn(r,ot()),r.callbackNode===a?Tg.bind(null,r):null}function yd(r,s){var a=$a;return r.current.memoizedState.isDehydrated&&(Hs(r,s).flags|=256),r=Ou(r,s),r!==2&&(s=kn,kn=a,s!==null&&vd(s)),r}function vd(r){kn===null?kn=r:kn.push.apply(kn,r)}function Yw(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!mr(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ns(r,s){for(s&=~fd,s&=~Pu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-gn(s),h=1<<a;r[a]=-1,s&=~h}}function Ig(r){if(nt&6)throw Error(t(327));Wo();var s=Ps(r,0);if(!(s&1))return xn(r,ot()),null;var a=Ou(r,s);if(r.tag!==0&&a===2){var h=Un(r);h!==0&&(s=h,a=yd(r,h))}if(a===1)throw a=Ga,Hs(r,0),ns(r,s),xn(r,ot()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,qs(r,kn,fi),xn(r,ot()),null}function _d(r,s){var a=nt;nt|=1;try{return r(s)}finally{nt=a,nt===0&&(qo=ot()+500,au&&Qi())}}function zs(r){es!==null&&es.tag===0&&!(nt&6)&&Wo();var s=nt;nt|=1;var a=Jn.transition,h=$e;try{if(Jn.transition=null,$e=1,r)return r()}finally{$e=h,Jn.transition=a,nt=s,!(nt&6)&&Qi()}}function wd(){Hn=Ho.current,yt(Ho)}function Hs(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Rw(a)),Dt!==null)for(a=Dt.return;a!==null;){var h=a;switch(kh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&su();break;case 3:jo(),yt(Rn),yt(an),zh();break;case 5:jh(h);break;case 4:jo();break;case 13:yt(Tt);break;case 19:yt(Tt);break;case 10:Vh(h.type._context);break;case 22:case 23:wd()}a=a.return}if(zt=r,Dt=r=rs(r.current,null),Jt=Hn=s,Mt=0,Ga=null,fd=Pu=Bs=0,kn=$a=null,Us!==null){for(s=0;s<Us.length;s++)if(a=Us[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var w=g.next;g.next=f,h.next=w}a.pending=h}Us=null}return r}function Ag(r,s){do{var a=Dt;try{if(Oh(),yu.current=Eu,vu){for(var h=It.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}vu=!1}if(js=0,Bt=bt=It=null,ja=!1,Ba=0,dd.current=null,a===null||a.return===null){Mt=1,Ga=s,Dt=null;break}e:{var g=r,w=a.return,C=a,D=s;if(s=Jt,C.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var G=D,re=C,ie=re.tag;if(!(re.mode&1)&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var me=Qm(w);if(me!==null){me.flags&=-257,Ym(me,w,C,g,s),me.mode&1&&Km(g,G,s),s=me,D=G;var Te=s.updateQueue;if(Te===null){var Ae=new Set;Ae.add(D),s.updateQueue=Ae}else Te.add(D);break e}else{if(!(s&1)){Km(g,G,s),Ed();break e}D=Error(t(426))}}else if(wt&&C.mode&1){var kt=Qm(w);if(kt!==null){!(kt.flags&65536)&&(kt.flags|=256),Ym(kt,w,C,g,s),Dh(Bo(D,C));break e}}g=D=Bo(D,C),Mt!==4&&(Mt=2),$a===null?$a=[g]:$a.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var H=Gm(g,D,s);_m(g,H);break e;case 1:C=D;var b=g.type,W=g.stateNode;if(!(g.flags&128)&&(typeof b.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Zi===null||!Zi.has(W)))){g.flags|=65536,s&=-s,g.lanes|=s;var oe=$m(g,C,s);_m(g,oe);break e}}g=g.return}while(g!==null)}Cg(a)}catch(Se){s=Se,Dt===a&&a!==null&&(Dt=a=a.return);continue}break}while(!0)}function Sg(){var r=Cu.current;return Cu.current=Eu,r===null?Eu:r}function Ed(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),zt===null||!(Bs&268435455)&&!(Pu&268435455)||ns(zt,Jt)}function Ou(r,s){var a=nt;nt|=2;var h=Sg();(zt!==r||Jt!==s)&&(fi=null,Hs(r,s));do try{Xw();break}catch(f){Ag(r,f)}while(!0);if(Oh(),nt=a,Cu.current=h,Dt!==null)throw Error(t(261));return zt=null,Jt=0,Mt}function Xw(){for(;Dt!==null;)Rg(Dt)}function Jw(){for(;Dt!==null&&!xr();)Rg(Dt)}function Rg(r){var s=xg(r.alternate,r,Hn);r.memoizedProps=r.pendingProps,s===null?Cg(r):Dt=s,dd.current=null}function Cg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=Ww(a,s),a!==null){a.flags&=32767,Dt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Mt=6,Dt=null;return}}else if(a=qw(a,s,Hn),a!==null){Dt=a;return}if(s=s.sibling,s!==null){Dt=s;return}Dt=s=r}while(s!==null);Mt===0&&(Mt=5)}function qs(r,s,a){var h=$e,f=Jn.transition;try{Jn.transition=null,$e=1,Zw(r,s,a,h)}finally{Jn.transition=f,$e=h}return null}function Zw(r,s,a,h){do Wo();while(es!==null);if(nt&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(ht(r,g),r===zt&&(Dt=zt=null,Jt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||xu||(xu=!0,Ng(Kt,function(){return Wo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Jn.transition,Jn.transition=null;var w=$e;$e=1;var C=nt;nt|=4,dd.current=null,$w(r,a),yg(a,r),_w(Eh),Hi=!!wh,Eh=wh=null,r.current=a,Kw(a),lr(),nt=C,$e=w,Jn.transition=g}else r.current=a;if(xu&&(xu=!1,es=r,Nu=f),g=r.pendingLanes,g===0&&(Zi=null),ho(a.stateNode),xn(r,ot()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(ku)throw ku=!1,r=md,md=null,r;return Nu&1&&r.tag!==0&&Wo(),g=r.pendingLanes,g&1?r===gd?Ka++:(Ka=0,gd=r):Ka=0,Qi(),null}function Wo(){if(es!==null){var r=Bi(Nu),s=Jn.transition,a=$e;try{if(Jn.transition=null,$e=16>r?16:r,es===null)var h=!1;else{if(r=es,es=null,Nu=0,nt&6)throw Error(t(331));var f=nt;for(nt|=4,_e=r.current;_e!==null;){var g=_e,w=g.child;if(_e.flags&16){var C=g.deletions;if(C!==null){for(var D=0;D<C.length;D++){var G=C[D];for(_e=G;_e!==null;){var re=_e;switch(re.tag){case 0:case 11:case 15:Wa(8,re,g)}var ie=re.child;if(ie!==null)ie.return=re,_e=ie;else for(;_e!==null;){re=_e;var ne=re.sibling,me=re.return;if(dg(re),re===G){_e=null;break}if(ne!==null){ne.return=me,_e=ne;break}_e=me}}}var Te=g.alternate;if(Te!==null){var Ae=Te.child;if(Ae!==null){Te.child=null;do{var kt=Ae.sibling;Ae.sibling=null,Ae=kt}while(Ae!==null)}}_e=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,_e=w;else e:for(;_e!==null;){if(g=_e,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Wa(9,g,g.return)}var H=g.sibling;if(H!==null){H.return=g.return,_e=H;break e}_e=g.return}}var b=r.current;for(_e=b;_e!==null;){w=_e;var W=w.child;if(w.subtreeFlags&2064&&W!==null)W.return=w,_e=W;else e:for(w=b;_e!==null;){if(C=_e,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Ru(9,C)}}catch(Se){Ct(C,C.return,Se)}if(C===w){_e=null;break e}var oe=C.sibling;if(oe!==null){oe.return=C.return,_e=oe;break e}_e=C.return}}if(nt=f,Qi(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(In,r)}catch{}h=!0}return h}finally{$e=a,Jn.transition=s}}return!1}function Pg(r,s,a){s=Bo(a,s),s=Gm(r,s,1),r=Xi(r,s,1),s=_n(),r!==null&&(Fi(r,1,s),xn(r,s))}function Ct(r,s,a){if(r.tag===3)Pg(r,r,a);else for(;s!==null;){if(s.tag===3){Pg(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Zi===null||!Zi.has(h))){r=Bo(a,r),r=$m(s,r,1),s=Xi(s,r,1),r=_n(),s!==null&&(Fi(s,1,r),xn(s,r));break}}s=s.return}}function eE(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=_n(),r.pingedLanes|=r.suspendedLanes&a,zt===r&&(Jt&a)===a&&(Mt===4||Mt===3&&(Jt&130023424)===Jt&&500>ot()-pd?Hs(r,0):fd|=a),xn(r,s)}function kg(r,s){s===0&&(r.mode&1?(s=po,po<<=1,!(po&130023424)&&(po=4194304)):s=1);var a=_n();r=ci(r,s),r!==null&&(Fi(r,s,a),xn(r,a))}function tE(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),kg(r,a)}function nE(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),kg(r,a)}var xg;xg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Rn.current)Pn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return Pn=!1,Hw(r,s,a);Pn=!!(r.flags&131072)}else Pn=!1,wt&&s.flags&1048576&&um(s,uu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Au(r,s),r=s.pendingProps;var f=Lo(s,an.current);Fo(s,a),f=Wh(null,s,h,r,f,a);var g=Gh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Cn(h)?(g=!0,ou(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Uh(s),f.updater=Tu,s.stateNode=f,f._reactInternals=s,Jh(s,h,r,a),s=nd(null,s,h,!0,g,a)):(s.tag=0,wt&&g&&Ph(s),vn(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Au(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=iE(h),r=yr(h,r),f){case 0:s=td(null,s,h,r,a);break e;case 1:s=ng(null,s,h,r,a);break e;case 11:s=Xm(null,s,h,r,a);break e;case 14:s=Jm(null,s,h,yr(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:yr(h,f),td(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:yr(h,f),ng(r,s,h,f,a);case 3:e:{if(rg(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,vm(r,s),mu(s,h,null,a);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Bo(Error(t(423)),s),s=ig(r,s,h,a,f);break e}else if(h!==f){f=Bo(Error(t(424)),s),s=ig(r,s,h,a,f);break e}else for(zn=Gi(s.stateNode.containerInfo.firstChild),Bn=s,wt=!0,gr=null,a=gm(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(bo(),h===f){s=di(r,s,a);break e}vn(r,s,h,a)}s=s.child}return s;case 5:return Em(s),r===null&&Nh(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,Th(h,f)?w=null:g!==null&&Th(h,g)&&(s.flags|=32),tg(r,s),vn(r,s,w,a),s.child;case 6:return r===null&&Nh(s),null;case 13:return sg(r,s,a);case 4:return Fh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Mo(s,null,h,a):vn(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:yr(h,f),Xm(r,s,h,f,a);case 7:return vn(r,s,s.pendingProps,a),s.child;case 8:return vn(r,s,s.pendingProps.children,a),s.child;case 12:return vn(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,dt(du,h._currentValue),h._currentValue=w,g!==null)if(mr(g.value,w)){if(g.children===f.children&&!Rn.current){s=di(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var C=g.dependencies;if(C!==null){w=g.child;for(var D=C.firstContext;D!==null;){if(D.context===h){if(g.tag===1){D=hi(-1,a&-a),D.tag=2;var G=g.updateQueue;if(G!==null){G=G.shared;var re=G.pending;re===null?D.next=D:(D.next=re.next,re.next=D),G.pending=D}}g.lanes|=a,D=g.alternate,D!==null&&(D.lanes|=a),bh(g.return,a,s),C.lanes|=a;break}D=D.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,C=w.alternate,C!==null&&(C.lanes|=a),bh(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}vn(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,Fo(s,a),f=Yn(f),h=h(f),s.flags|=1,vn(r,s,h,a),s.child;case 14:return h=s.type,f=yr(h,s.pendingProps),f=yr(h.type,f),Jm(r,s,h,f,a);case 15:return Zm(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:yr(h,f),Au(r,s),s.tag=1,Cn(h)?(r=!0,ou(s)):r=!1,Fo(s,a),qm(s,h,f),Jh(s,h,f,a),nd(null,s,h,!0,r,a);case 19:return ag(r,s,a);case 22:return eg(r,s,a)}throw Error(t(156,s.tag))};function Ng(r,s){return $t(r,s)}function rE(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(r,s,a,h){return new rE(r,s,a,h)}function Td(r){return r=r.prototype,!(!r||!r.isReactComponent)}function iE(r){if(typeof r=="function")return Td(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===ze)return 14}return 2}function rs(r,s){var a=r.alternate;return a===null?(a=Zn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Vu(r,s,a,h,f,g){var w=2;if(h=r,typeof r=="function")Td(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case x:return Ws(a.children,f,g,s);case I:w=8,f|=8;break;case S:return r=Zn(12,a,s,f|2),r.elementType=S,r.lanes=g,r;case P:return r=Zn(13,a,s,f),r.elementType=P,r.lanes=g,r;case at:return r=Zn(19,a,s,f),r.elementType=at,r.lanes=g,r;case Be:return bu(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:w=10;break e;case V:w=9;break e;case F:w=11;break e;case ze:w=14;break e;case Et:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Zn(w,a,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function Ws(r,s,a,h){return r=Zn(7,r,h,s),r.lanes=a,r}function bu(r,s,a,h){return r=Zn(22,r,h,s),r.elementType=Be,r.lanes=a,r.stateNode={isHidden:!1},r}function Id(r,s,a){return r=Zn(6,r,null,s),r.lanes=a,r}function Ad(r,s,a){return s=Zn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function sE(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Sd(r,s,a,h,f,g,w,C,D){return r=new sE(r,s,a,C,D),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Zn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uh(g),r}function oE(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function Dg(r){if(!r)return Ki;r=r._reactInternals;e:{if(Ge(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Cn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Cn(a))return om(r,a,s)}return s}function Lg(r,s,a,h,f,g,w,C,D){return r=Sd(a,h,!0,r,f,g,w,C,D),r.context=Dg(null),a=r.current,h=_n(),f=ts(a),g=hi(h,f),g.callback=s??null,Xi(a,g,f),r.current.lanes=f,Fi(r,f,h),xn(r,h),r}function Mu(r,s,a,h){var f=s.current,g=_n(),w=ts(f);return a=Dg(a),s.context===null?s.context=a:s.pendingContext=a,s=hi(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Xi(f,s,w),r!==null&&(wr(r,f,w,g),pu(r,f,w)),w}function Uu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Og(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Rd(r,s){Og(r,s),(r=r.alternate)&&Og(r,s)}function aE(){return null}var Vg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Cd(r){this._internalRoot=r}Fu.prototype.render=Cd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Mu(r,s,null,null)},Fu.prototype.unmount=Cd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;zs(function(){Mu(null,r,null,null)}),s[oi]=null}};function Fu(r){this._internalRoot=r}Fu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Fl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Dr.length&&s!==0&&s<Dr[a].priority;a++);Dr.splice(a,0,r),a===0&&zl(r)}};function Pd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ju(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function bg(){}function lE(r,s,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var G=Uu(w);g.call(G)}}var w=Lg(s,h,r,0,null,!1,!1,"",bg);return r._reactRootContainer=w,r[oi]=w.current,Da(r.nodeType===8?r.parentNode:r),zs(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var C=h;h=function(){var G=Uu(D);C.call(G)}}var D=Sd(r,0,!1,null,null,!1,!1,"",bg);return r._reactRootContainer=D,r[oi]=D.current,Da(r.nodeType===8?r.parentNode:r),zs(function(){Mu(s,D,a,h)}),D}function Bu(r,s,a,h,f){var g=a._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var C=f;f=function(){var D=Uu(w);C.call(D)}}Mu(s,w,r,f)}else w=lE(a,s,r,f,h);return Uu(w)}Ml=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Mi(s.pendingLanes);a!==0&&(ji(s,a|1),xn(s,ot()),!(nt&6)&&(qo=ot()+500,Qi()))}break;case 13:zs(function(){var h=ci(r,1);if(h!==null){var f=_n();wr(h,r,1,f)}}),Rd(r,1)}},mo=function(r){if(r.tag===13){var s=ci(r,134217728);if(s!==null){var a=_n();wr(s,r,134217728,a)}Rd(r,134217728)}},Ul=function(r){if(r.tag===13){var s=ts(r),a=ci(r,s);if(a!==null){var h=_n();wr(a,r,s,h)}Rd(r,s)}},Fl=function(){return $e},jl=function(r,s){var a=$e;try{return $e=r,s()}finally{$e=a}},Xr=function(r,s,a){switch(s){case"input":if(As(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=iu(h);if(!f)throw Error(t(90));ki(h),As(h,f)}}}break;case"textarea":Rr(r,a);break;case"select":s=a.value,s!=null&&Wt(r,!!a.multiple,s,!1)}},Jr=_d,L=zs;var uE={usingClientEntryPoint:!1,Events:[Va,No,iu,mn,Cs,_d]},Qa={findFiberByHostInstance:Os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cE={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ar(r),r===null?null:r.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||aE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{In=zu.inject(cE),on=zu}catch{}}return Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uE,Nn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pd(s))throw Error(t(200));return oE(r,s,null,a)},Nn.createRoot=function(r,s){if(!Pd(r))throw Error(t(299));var a=!1,h="",f=Vg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Sd(r,1,!1,null,null,a,!1,h,f),r[oi]=s.current,Da(r.nodeType===8?r.parentNode:r),new Cd(s)},Nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ar(s),r=r===null?null:r.stateNode,r},Nn.flushSync=function(r){return zs(r)},Nn.hydrate=function(r,s,a){if(!ju(s))throw Error(t(200));return Bu(null,r,s,!0,a)},Nn.hydrateRoot=function(r,s,a){if(!Pd(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",w=Vg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=Lg(s,null,r,1,a??null,f,!1,g,w),r[oi]=s.current,Da(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Fu(s)},Nn.render=function(r,s,a){if(!ju(s))throw Error(t(200));return Bu(null,r,s,!1,a)},Nn.unmountComponentAtNode=function(r){if(!ju(r))throw Error(t(40));return r._reactRootContainer?(zs(function(){Bu(null,null,r,!1,function(){r._reactRootContainer=null,r[oi]=null})}),!0):!1},Nn.unstable_batchedUpdates=_d,Nn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!ju(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Bu(r,s,a,!1,h)},Nn.version="18.3.1-next-f1338f8080-20240426",Nn}var qg;function xv(){if(qg)return Nd.exports;qg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Nd.exports=yE(),Nd.exports}var Wg;function vE(){if(Wg)return Hu;Wg=1;var n=xv();return Hu.createRoot=n.createRoot,Hu.hydrateRoot=n.hydrateRoot,Hu}var _E=vE(),Xa={},Gg;function wE(){if(Gg)return Xa;Gg=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.parse=c,Xa.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function c(A,R){const N=new l,O=A.length;if(O<2)return N;const M=(R==null?void 0:R.decode)||_;let q=0;do{const Y=A.indexOf("=",q);if(Y===-1)break;const Z=A.indexOf(";",q),ae=Z===-1?O:Z;if(Y>ae){q=A.lastIndexOf(";",Y-1)+1;continue}const U=d(A,q,Y),ce=p(A,Y,U),x=A.slice(U,ce);if(N[x]===void 0){let I=d(A,Y+1,ae),S=p(A,ae,I);const k=M(A.slice(I,S));N[x]=k}q=ae+1}while(q<O);return N}function d(A,R,N){do{const O=A.charCodeAt(R);if(O!==32&&O!==9)return R}while(++R<N);return N}function p(A,R,N){for(;R>N;){const O=A.charCodeAt(--R);if(O!==32&&O!==9)return R+1}return N}function y(A,R,N){const O=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(A))throw new TypeError(`argument name is invalid: ${A}`);const M=O(R);if(!e.test(M))throw new TypeError(`argument val is invalid: ${R}`);let q=A+"="+M;if(!N)return q;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);q+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);q+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);q+="; Path="+N.path}if(N.expires){if(!E(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);q+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(q+="; HttpOnly"),N.secure&&(q+="; Secure"),N.partitioned&&(q+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return q}function _(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function E(A){return o.call(A)==="[object Date]"}return Xa}wE();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $g="popstate";function EE(n={}){function e(i,o){let{pathname:l,search:c,hash:d}=i.location;return hl("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:gs(o)}return IE(e,t,null,n)}function Qe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TE(){return Math.random().toString(36).substring(2,10)}function Kg(n,e){return{usr:n.state,key:n.key,idx:e}}function hl(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ts(e):e,state:t,key:e&&e.key||i||TE()}}function gs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ts(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function IE(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d="POP",p=null,y=_();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function _(){return(c.state||{idx:null}).idx}function E(){d="POP";let M=_(),q=M==null?null:M-y;y=M,p&&p({action:d,location:O.location,delta:q})}function A(M,q){d="PUSH";let Y=hl(O.location,M,q);y=_()+1;let Z=Kg(Y,y),ae=O.createHref(Y);try{c.pushState(Z,"",ae)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;o.location.assign(ae)}l&&p&&p({action:d,location:O.location,delta:1})}function R(M,q){d="REPLACE";let Y=hl(O.location,M,q);y=_();let Z=Kg(Y,y),ae=O.createHref(Y);c.replaceState(Z,"",ae),l&&p&&p({action:d,location:O.location,delta:0})}function N(M){let q=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof M=="string"?M:gs(M);return Y=Y.replace(/ $/,"%20"),Qe(q,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,q)}let O={get action(){return d},get location(){return n(o,c)},listen(M){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener($g,E),p=M,()=>{o.removeEventListener($g,E),p=null}},createHref(M){return e(o,M)},createURL:N,encodeLocation(M){let q=N(M);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:A,replace:R,go(M){return c.go(M)}};return O}var AE=new Set(["lazy","caseSensitive","path","id","index","children"]);function SE(n){return n.index===!0}function fc(n,e,t=[],i={}){return n.map((o,l)=>{let c=[...t,String(l)],d=typeof o.id=="string"?o.id:c.join("-");if(Qe(o.index!==!0||!o.children,"Cannot specify children on an index route"),Qe(!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),SE(o)){let p={...o,...e(o),id:d};return i[d]=p,p}else{let p={...o,...e(o),id:d,children:void 0};return i[d]=p,o.children&&(p.children=fc(o.children,e,c,i)),p}})}function as(n,e,t="/"){return Zu(n,e,t,!1)}function Zu(n,e,t,i){let o=typeof e=="string"?Ts(e):e,l=Ar(o.pathname||"/",t);if(l==null)return null;let c=Nv(n);CE(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let y=UE(l);d=bE(c[p],y,i)}return d}function RE(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function Nv(n,e=[],t=[],i=""){let o=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(Qe(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=jr([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(Qe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Nv(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:OE(y,l.index),routesMeta:_})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let p of Dv(l.path))o(l,c,p)}),e}function Dv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=Dv(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function CE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:VE(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var PE=/^:[\w-]+$/,kE=3,xE=2,NE=1,DE=10,LE=-2,Qg=n=>n==="*";function OE(n,e){let t=n.split("/"),i=t.length;return t.some(Qg)&&(i+=LE),e&&(i+=xE),t.filter(o=>!Qg(o)).reduce((o,l)=>o+(PE.test(l)?kE:l===""?NE:DE),i)}function VE(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function bE(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=pc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),A=p.route;if(!E&&y&&t&&!i[i.length-1].route.index&&(E=pc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:jr([l,E.pathname]),pathnameBase:BE(jr([l,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(l=jr([l,E.pathnameBase]))}return c}function pc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=ME(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:E},A)=>{if(_==="*"){let N=d[A]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const R=d[A];return E&&!R?y[_]=void 0:y[_]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:n}}function ME(n,e=!1,t=!0){tn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function UE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ar(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function FE(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ts(n):n;return{pathname:t?t.startsWith("/")?t:jE(t,e):e,search:zE(i),hash:HE(o)}}function jE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Od(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lv(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Af(n){let e=Lv(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Sf(n,e,t,i=!1){let o;typeof n=="string"?o=Ts(n):(o={...n},Qe(!o.pathname||!o.pathname.includes("?"),Od("?","pathname","search",o)),Qe(!o.pathname||!o.pathname.includes("#"),Od("#","pathname","hash",o)),Qe(!o.search||!o.search.includes("#"),Od("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),E-=1;o.pathname=A.join("/")}d=E>=0?e[E]:"/"}let p=FE(o,d),y=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var jr=n=>n.join("/").replace(/\/\/+/g,"/"),BE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,HE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,mc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Oc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Ov=["POST","PUT","PATCH","DELETE"],qE=new Set(Ov),WE=["GET",...Ov],GE=new Set(WE),$E=new Set([301,302,303,307,308]),KE=new Set([307,308]),Vd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},QE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ja={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Rf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YE=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Vv="remix-router-transitions",bv=Symbol("ResetLoaderData");function XE(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Qe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||YE,o={},l=fc(n.routes,i,void 0,o),c,d=n.basename||"/",p=n.dataStrategy||nT,y=n.patchRoutesOnNavigation,_={...n.future},E=null,A=new Set,R=null,N=null,O=null,M=n.hydrationData!=null,q=as(l,n.history.location,d),Y=null;if(q==null&&!y){let L=er(404,{pathname:n.history.location.pathname}),{matches:B,route:K}=oy(l);q=B,Y={[K.id]:L}}q&&!n.hydrationData&&sr(q,l,n.history.location.pathname).active&&(q=null);let Z;if(q)if(q.some(L=>L.route.lazy))Z=!1;else if(!q.some(L=>L.route.loader))Z=!0;else{let L=n.hydrationData?n.hydrationData.loaderData:null,B=n.hydrationData?n.hydrationData.errors:null;if(B){let K=q.findIndex(J=>B[J.route.id]!==void 0);Z=q.slice(0,K+1).every(J=>!Xd(J.route,L,B))}else Z=q.every(K=>!Xd(K.route,L,B))}else{Z=!1,q=[];let L=sr(null,l,n.history.location.pathname);L.active&&L.matches&&(q=L.matches)}let ae,U={historyAction:n.history.action,location:n.history.location,matches:q,initialized:Z,navigation:Vd,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||Y,fetchers:new Map,blockers:new Map},ce="POP",x=!1,I,S=!1,k=new Map,V=null,F=!1,P=!1,at=new Set,ze=new Map,Et=0,Be=-1,le=new Map,Ie=new Set,de=new Map,j=new Map,X=new Set,Ee=new Map,be,Le=null;function He(){if(E=n.history.listen(({action:L,location:B,delta:K})=>{if(be){be(),be=void 0;return}tn(Ee.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=Vi({currentLocation:U.location,nextLocation:B,historyAction:L});if(J&&K!=null){let fe=new Promise(ve=>{be=ve});n.history.go(K*-1),kr(J,{state:"blocked",location:B,proceed(){kr(J,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),fe.then(()=>n.history.go(K))},reset(){let ve=new Map(U.blockers);ve.set(J,Ja),Ue({blockers:ve})}});return}return rn(L,B)}),t){fT(e,k);let L=()=>pT(e,k);e.addEventListener("pagehide",L),V=()=>e.removeEventListener("pagehide",L)}return U.initialized||rn("POP",U.location,{initialHydration:!0}),ae}function Ze(){E&&E(),V&&V(),A.clear(),I&&I.abort(),U.fetchers.forEach((L,B)=>bn(B)),U.blockers.forEach((L,B)=>Oi(B))}function et(L){return A.add(L),()=>A.delete(L)}function Ue(L,B={}){U={...U,...L};let K=[],J=[];U.fetchers.forEach((fe,ve)=>{fe.state==="idle"&&(X.has(ve)?K.push(ve):J.push(ve))}),[...A].forEach(fe=>fe(U,{deletedFetchers:K,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),K.forEach(fe=>bn(fe)),J.forEach(fe=>U.fetchers.delete(fe))}function ft(L,B,{flushSync:K}={}){var ue,xe;let J=U.actionData!=null&&U.navigation.formMethod!=null&&Er(U.navigation.formMethod)&&U.navigation.state==="loading"&&((ue=L.state)==null?void 0:ue._isRedirect)!==!0,fe;B.actionData?Object.keys(B.actionData).length>0?fe=B.actionData:fe=null:J?fe=U.actionData:fe=null;let ve=B.loaderData?iy(U.loaderData,B.loaderData,B.matches||[],B.errors):U.loaderData,Ce=U.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((Fe,it)=>Ce.set(it,Ja)));let pe=x===!0||U.navigation.formMethod!=null&&Er(U.navigation.formMethod)&&((xe=L.state)==null?void 0:xe._isRedirect)!==!0;c&&(l=c,c=void 0),F||ce==="POP"||(ce==="PUSH"?n.history.push(L,L.state):ce==="REPLACE"&&n.history.replace(L,L.state));let we;if(ce==="POP"){let Fe=k.get(U.location.pathname);Fe&&Fe.has(L.pathname)?we={currentLocation:U.location,nextLocation:L}:k.has(L.pathname)&&(we={currentLocation:L,nextLocation:U.location})}else if(S){let Fe=k.get(U.location.pathname);Fe?Fe.add(L.pathname):(Fe=new Set([L.pathname]),k.set(U.location.pathname,Fe)),we={currentLocation:U.location,nextLocation:L}}Ue({...B,actionData:fe,loaderData:ve,historyAction:ce,location:L,initialized:!0,navigation:Vd,revalidation:"idle",restoreScrollPosition:Mn(L,B.matches||U.matches),preventScrollReset:pe,blockers:Ce},{viewTransitionOpts:we,flushSync:K===!0}),ce="POP",x=!1,S=!1,F=!1,P=!1,Le==null||Le.resolve(),Le=null}async function Wn(L,B){if(typeof L=="number"){n.history.go(L);return}let K=Yd(U.location,U.matches,d,L,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:J,submission:fe,error:ve}=Yg(!1,K,B),Ce=U.location,pe=hl(U.location,J,B&&B.state);pe={...pe,...n.history.encodeLocation(pe)};let we=B&&B.replace!=null?B.replace:void 0,ue="PUSH";we===!0?ue="REPLACE":we===!1||fe!=null&&Er(fe.formMethod)&&fe.formAction===U.location.pathname+U.location.search&&(ue="REPLACE");let xe=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,Fe=(B&&B.flushSync)===!0,it=Vi({currentLocation:Ce,nextLocation:pe,historyAction:ue});if(it){kr(it,{state:"blocked",location:pe,proceed(){kr(it,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),Wn(L,B)},reset(){let Rt=new Map(U.blockers);Rt.set(it,Ja),Ue({blockers:Rt})}});return}await rn(ue,pe,{submission:fe,pendingError:ve,preventScrollReset:xe,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:Fe})}function ki(){Le||(Le=mT()),Rr(),Ue({revalidation:"loading"});let L=Le.promise;return U.navigation.state==="submitting"?L:U.navigation.state==="idle"?(rn(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),L):(rn(ce||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:S===!0}),L)}async function rn(L,B,K){I&&I.abort(),I=null,ce=L,F=(K&&K.startUninterruptedRevalidation)===!0,Tn(U.location,U.matches),x=(K&&K.preventScrollReset)===!0,S=(K&&K.enableViewTransition)===!0;let J=c||l,fe=K&&K.overrideNavigation,ve=as(J,B,d),Ce=(K&&K.flushSync)===!0,pe=sr(ve,J,B.pathname);if(pe.active&&pe.matches&&(ve=pe.matches),!ve){let{error:Ge,notFoundMatches:tt,route:st}=ir(B.pathname);ft(B,{matches:tt,loaderData:{},errors:{[st.id]:Ge}},{flushSync:Ce});return}if(U.initialized&&!P&&lT(U.location,B)&&!(K&&K.submission&&Er(K.submission.formMethod))){ft(B,{matches:ve},{flushSync:Ce});return}I=new AbortController;let we=Go(n.history,B,I.signal,K&&K.submission),ue;if(K&&K.pendingError)ue=[$s(ve).route.id,{type:"error",error:K.pendingError}];else if(K&&K.submission&&Er(K.submission.formMethod)){let Ge=await Qr(we,B,K.submission,ve,pe.active,{replace:K.replace,flushSync:Ce});if(Ge.shortCircuited)return;if(Ge.pendingActionResult){let[tt,st]=Ge.pendingActionResult;if(qn(st)&&Oc(st.error)&&st.error.status===404){I=null,ft(B,{matches:Ge.matches,loaderData:{},errors:{[tt]:st.error}});return}}ve=Ge.matches||ve,ue=Ge.pendingActionResult,fe=bd(B,K.submission),Ce=!1,pe.active=!1,we=Go(n.history,we.url,we.signal)}let{shortCircuited:xe,matches:Fe,loaderData:it,errors:Rt}=await xi(we,B,ve,pe.active,fe,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Ce,ue);xe||(I=null,ft(B,{matches:Fe||ve,...sy(ue),loaderData:it,errors:Rt}))}async function Qr(L,B,K,J,fe,ve={}){Rr();let Ce=hT(B,K);if(Ue({navigation:Ce},{flushSync:ve.flushSync===!0}),fe){let ue=await mn(J,B.pathname,L.signal);if(ue.type==="aborted")return{shortCircuited:!0};if(ue.type==="error"){let xe=$s(ue.partialMatches).route.id;return{matches:ue.partialMatches,pendingActionResult:[xe,{type:"error",error:ue.error}]}}else if(ue.matches)J=ue.matches;else{let{notFoundMatches:xe,error:Fe,route:it}=ir(B.pathname);return{matches:xe,pendingActionResult:[it.id,{type:"error",error:Fe}]}}}let pe,we=tl(J,B);if(!we.route.action&&!we.route.lazy)pe={type:"error",error:er(405,{method:L.method,pathname:B.pathname,routeId:we.route.id})};else if(pe=(await rr("action",U,L,[we],J,null))[we.route.id],L.signal.aborted)return{shortCircuited:!0};if(Ks(pe)){let ue;return ve&&ve.replace!=null?ue=ve.replace:ue=ty(pe.response.headers.get("Location"),new URL(L.url),d)===U.location.pathname+U.location.search,await Wt(L,pe,!0,{submission:K,replace:ue}),{shortCircuited:!0}}if(qn(pe)){let ue=$s(J,we.route.id);return(ve&&ve.replace)!==!0&&(ce="PUSH"),{matches:J,pendingActionResult:[ue.route.id,pe]}}return{matches:J,pendingActionResult:[we.route.id,pe]}}async function xi(L,B,K,J,fe,ve,Ce,pe,we,ue,xe){let Fe=fe||bd(B,ve),it=ve||Ce||ly(Fe),Rt=!F&&!we;if(J){if(Rt){let pt=Ni(xe);Ue({navigation:Fe,...pt!==void 0?{actionData:pt}:{}},{flushSync:ue})}let Ye=await mn(K,B.pathname,L.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let pt=$s(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[pt]:Ye.error}}}else if(Ye.matches)K=Ye.matches;else{let{error:pt,notFoundMatches:Kt,route:ur}=ir(B.pathname);return{matches:Kt,loaderData:{},errors:{[ur.id]:pt}}}}let Ge=c||l,[tt,st]=Jg(n.history,U,K,it,B,we===!0,P,at,X,de,Ie,Ge,d,xe);if(Be=++Et,tt.length===0&&st.length===0){let Ye=Pr();return ft(B,{matches:K,loaderData:{},errors:xe&&qn(xe[1])?{[xe[0]]:xe[1].error}:null,...sy(xe),...Ye?{fetchers:new Map(U.fetchers)}:{}},{flushSync:ue}),{shortCircuited:!0}}if(Rt){let Ye={};if(!J){Ye.navigation=Fe;let pt=Ni(xe);pt!==void 0&&(Ye.actionData=pt)}st.length>0&&(Ye.fetchers=As(st)),Ue(Ye,{flushSync:ue})}st.forEach(Ye=>{Gt(Ye.key),Ye.controller&&ze.set(Ye.key,Ye.controller)});let or=()=>st.forEach(Ye=>Gt(Ye.key));I&&I.signal.addEventListener("abort",or);let{loaderResults:ar,fetcherResults:sn}=await Yr(U,K,tt,st,L);if(L.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",or),st.forEach(Ye=>ze.delete(Ye.key));let $t=qu(ar);if($t)return await Wt(L,$t.result,!0,{replace:pe}),{shortCircuited:!0};if($t=qu(sn),$t)return Ie.add($t.key),await Wt(L,$t.result,!0,{replace:pe}),{shortCircuited:!0};let{loaderData:Zr,errors:xr}=ry(U,K,ar,xe,st,sn);we&&U.errors&&(xr={...U.errors,...xr});let lr=Pr(),ot=Li(Be),ei=lr||ot||st.length>0;return{matches:K,loaderData:Zr,errors:xr,...ei?{fetchers:new Map(U.fetchers)}:{}}}function Ni(L){if(L&&!qn(L[1]))return{[L[0]]:L[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function As(L){return L.forEach(B=>{let K=U.fetchers.get(B.key),J=Za(void 0,K?K.data:void 0);U.fetchers.set(B.key,J)}),new Map(U.fetchers)}async function co(L,B,K,J){Gt(L);let fe=(J&&J.flushSync)===!0,ve=c||l,Ce=Yd(U.location,U.matches,d,K,B,J==null?void 0:J.relative),pe=as(ve,Ce,d),we=sr(pe,ve,Ce);if(we.active&&we.matches&&(pe=we.matches),!pe){ut(L,B,er(404,{pathname:Ce}),{flushSync:fe});return}let{path:ue,submission:xe,error:Fe}=Yg(!0,Ce,J);if(Fe){ut(L,B,Fe,{flushSync:fe});return}let it=tl(pe,ue),Rt=(J&&J.preventScrollReset)===!0;if(xe&&Er(xe.formMethod)){await Di(L,B,ue,it,pe,we.active,fe,Rt,xe);return}de.set(L,{routeId:B,path:ue}),await nr(L,B,ue,it,pe,we.active,fe,Rt,xe)}async function Di(L,B,K,J,fe,ve,Ce,pe,we){Rr(),de.delete(L);function ue(mt){if(!mt.route.action&&!mt.route.lazy){let In=er(405,{method:we.formMethod,pathname:K,routeId:B});return ut(L,B,In,{flushSync:Ce}),!0}return!1}if(!ve&&ue(J))return;let xe=U.fetchers.get(L);En(L,dT(we,xe),{flushSync:Ce});let Fe=new AbortController,it=Go(n.history,K,Fe.signal,we);if(ve){let mt=await mn(fe,K,it.signal);if(mt.type==="aborted")return;if(mt.type==="error"){ut(L,B,mt.error,{flushSync:Ce});return}else if(mt.matches){if(fe=mt.matches,J=tl(fe,K),ue(J))return}else{ut(L,B,er(404,{pathname:K}),{flushSync:Ce});return}}ze.set(L,Fe);let Rt=Et,tt=(await rr("action",U,it,[J],fe,L))[J.route.id];if(it.signal.aborted){ze.get(L)===Fe&&ze.delete(L);return}if(X.has(L)){if(Ks(tt)||qn(tt)){En(L,os(void 0));return}}else{if(Ks(tt))if(ze.delete(L),Be>Rt){En(L,os(void 0));return}else return Ie.add(L),En(L,Za(we)),Wt(it,tt,!1,{fetcherSubmission:we,preventScrollReset:pe});if(qn(tt)){ut(L,B,tt.error);return}}let st=U.navigation.location||U.location,or=Go(n.history,st,Fe.signal),ar=c||l,sn=U.navigation.state!=="idle"?as(ar,U.navigation.location,d):U.matches;Qe(sn,"Didn't find any matches after fetcher action");let $t=++Et;le.set(L,$t);let Zr=Za(we,tt.data);U.fetchers.set(L,Zr);let[xr,lr]=Jg(n.history,U,sn,we,st,!1,P,at,X,de,Ie,ar,d,[J.route.id,tt]);lr.filter(mt=>mt.key!==L).forEach(mt=>{let In=mt.key,on=U.fetchers.get(In),ho=Za(void 0,on?on.data:void 0);U.fetchers.set(In,ho),Gt(In),mt.controller&&ze.set(In,mt.controller)}),Ue({fetchers:new Map(U.fetchers)});let ot=()=>lr.forEach(mt=>Gt(mt.key));Fe.signal.addEventListener("abort",ot);let{loaderResults:ei,fetcherResults:Ye}=await Yr(U,sn,xr,lr,or);if(Fe.signal.aborted)return;Fe.signal.removeEventListener("abort",ot),le.delete(L),ze.delete(L),lr.forEach(mt=>ze.delete(mt.key));let pt=qu(ei);if(pt)return Wt(or,pt.result,!1,{preventScrollReset:pe});if(pt=qu(Ye),pt)return Ie.add(pt.key),Wt(or,pt.result,!1,{preventScrollReset:pe});let{loaderData:Kt,errors:ur}=ry(U,sn,ei,void 0,lr,Ye);if(U.fetchers.has(L)){let mt=os(tt.data);U.fetchers.set(L,mt)}Li($t),U.navigation.state==="loading"&&$t>Be?(Qe(ce,"Expected pending action"),I&&I.abort(),ft(U.navigation.location,{matches:sn,loaderData:Kt,errors:ur,fetchers:new Map(U.fetchers)})):(Ue({errors:ur,loaderData:iy(U.loaderData,Kt,sn,ur),fetchers:new Map(U.fetchers)}),P=!1)}async function nr(L,B,K,J,fe,ve,Ce,pe,we){let ue=U.fetchers.get(L);En(L,Za(we,ue?ue.data:void 0),{flushSync:Ce});let xe=new AbortController,Fe=Go(n.history,K,xe.signal);if(ve){let tt=await mn(fe,K,Fe.signal);if(tt.type==="aborted")return;if(tt.type==="error"){ut(L,B,tt.error,{flushSync:Ce});return}else if(tt.matches)fe=tt.matches,J=tl(fe,K);else{ut(L,B,er(404,{pathname:K}),{flushSync:Ce});return}}ze.set(L,xe);let it=Et,Ge=(await rr("loader",U,Fe,[J],fe,L))[J.route.id];if(ze.get(L)===xe&&ze.delete(L),!Fe.signal.aborted){if(X.has(L)){En(L,os(void 0));return}if(Ks(Ge))if(Be>it){En(L,os(void 0));return}else{Ie.add(L),await Wt(Fe,Ge,!1,{preventScrollReset:pe});return}if(qn(Ge)){ut(L,B,Ge.error);return}En(L,os(Ge.data))}}async function Wt(L,B,K,{submission:J,fetcherSubmission:fe,preventScrollReset:ve,replace:Ce}={}){B.response.headers.has("X-Remix-Revalidate")&&(P=!0);let pe=B.response.headers.get("Location");Qe(pe,"Expected a Location header on the redirect Response"),pe=ty(pe,new URL(L.url),d);let we=hl(U.location,pe,{_isRedirect:!0});if(t){let Ge=!1;if(B.response.headers.has("X-Remix-Reload-Document"))Ge=!0;else if(Rf.test(pe)){const tt=n.history.createURL(pe);Ge=tt.origin!==e.location.origin||Ar(tt.pathname,d)==null}if(Ge){Ce?e.location.replace(pe):e.location.assign(pe);return}}I=null;let ue=Ce===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:xe,formAction:Fe,formEncType:it}=U.navigation;!J&&!fe&&xe&&Fe&&it&&(J=ly(U.navigation));let Rt=J||fe;if(KE.has(B.response.status)&&Rt&&Er(Rt.formMethod))await rn(ue,we,{submission:{...Rt,formAction:pe},preventScrollReset:ve||x,enableViewTransition:K?S:void 0});else{let Ge=bd(we,J);await rn(ue,we,{overrideNavigation:Ge,fetcherSubmission:fe,preventScrollReset:ve||x,enableViewTransition:K?S:void 0})}}async function rr(L,B,K,J,fe,ve){let Ce,pe={};try{Ce=await rT(p,L,B,K,J,fe,ve,o,i)}catch(we){return J.forEach(ue=>{pe[ue.route.id]={type:"error",error:we}}),pe}for(let[we,ue]of Object.entries(Ce))if(uT(ue)){let xe=ue.result;pe[we]={type:"redirect",response:oT(xe,K,we,fe,d)}}else pe[we]=await sT(ue);return pe}async function Yr(L,B,K,J,fe){let ve=rr("loader",L,fe,K,B,null),Ce=Promise.all(J.map(async ue=>{if(ue.matches&&ue.match&&ue.controller){let Fe=(await rr("loader",L,Go(n.history,ue.path,ue.controller.signal),[ue.match],ue.matches,ue.key))[ue.match.route.id];return{[ue.key]:Fe}}else return Promise.resolve({[ue.key]:{type:"error",error:er(404,{pathname:ue.path})}})})),pe=await ve,we=(await Ce).reduce((ue,xe)=>Object.assign(ue,xe),{});return{loaderResults:pe,fetcherResults:we}}function Rr(){P=!0,de.forEach((L,B)=>{ze.has(B)&&at.add(B),Gt(B)})}function En(L,B,K={}){U.fetchers.set(L,B),Ue({fetchers:new Map(U.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function ut(L,B,K,J={}){let fe=$s(U.matches,B);bn(L),Ue({errors:{[fe.route.id]:K},fetchers:new Map(U.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function St(L){return j.set(L,(j.get(L)||0)+1),X.has(L)&&X.delete(L),U.fetchers.get(L)||QE}function bn(L){let B=U.fetchers.get(L);ze.has(L)&&!(B&&B.state==="loading"&&le.has(L))&&Gt(L),de.delete(L),le.delete(L),Ie.delete(L),X.delete(L),at.delete(L),U.fetchers.delete(L)}function Ss(L){let B=(j.get(L)||0)-1;B<=0?(j.delete(L),X.add(L)):j.set(L,B),Ue({fetchers:new Map(U.fetchers)})}function Gt(L){let B=ze.get(L);B&&(B.abort(),ze.delete(L))}function Cr(L){for(let B of L){let K=St(B),J=os(K.data);U.fetchers.set(B,J)}}function Pr(){let L=[],B=!1;for(let K of Ie){let J=U.fetchers.get(K);Qe(J,`Expected fetcher: ${K}`),J.state==="loading"&&(Ie.delete(K),L.push(K),B=!0)}return Cr(L),B}function Li(L){let B=[];for(let[K,J]of le)if(J<L){let fe=U.fetchers.get(K);Qe(fe,`Expected fetcher: ${K}`),fe.state==="loading"&&(Gt(K),le.delete(K),B.push(K))}return Cr(B),B.length>0}function Rs(L,B){let K=U.blockers.get(L)||Ja;return Ee.get(L)!==B&&Ee.set(L,B),K}function Oi(L){U.blockers.delete(L),Ee.delete(L)}function kr(L,B){let K=U.blockers.get(L)||Ja;Qe(K.state==="unblocked"&&B.state==="blocked"||K.state==="blocked"&&B.state==="blocked"||K.state==="blocked"&&B.state==="proceeding"||K.state==="blocked"&&B.state==="unblocked"||K.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${K.state} -> ${B.state}`);let J=new Map(U.blockers);J.set(L,B),Ue({blockers:J})}function Vi({currentLocation:L,nextLocation:B,historyAction:K}){if(Ee.size===0)return;Ee.size>1&&tn(!1,"A router only supports one blocker at a time");let J=Array.from(Ee.entries()),[fe,ve]=J[J.length-1],Ce=U.blockers.get(fe);if(!(Ce&&Ce.state==="proceeding")&&ve({currentLocation:L,nextLocation:B,historyAction:K}))return fe}function ir(L){let B=er(404,{pathname:L}),K=c||l,{matches:J,route:fe}=oy(K);return{notFoundMatches:J,route:fe,error:B}}function bi(L,B,K){if(R=L,O=B,N=K||null,!M&&U.navigation===Vd){M=!0;let J=Mn(U.location,U.matches);J!=null&&Ue({restoreScrollPosition:J})}return()=>{R=null,O=null,N=null}}function Xr(L,B){return N&&N(L,B.map(J=>RE(J,U.loaderData)))||L.key}function Tn(L,B){if(R&&O){let K=Xr(L,B);R[K]=O()}}function Mn(L,B){if(R){let K=Xr(L,B),J=R[K];if(typeof J=="number")return J}return null}function sr(L,B,K){if(y)if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:Zu(B,K,d,!0)}}else return{active:!0,matches:Zu(B,K,d,!0)||[]};return{active:!1,matches:null}}async function mn(L,B,K){if(!y)return{type:"success",matches:L};let J=L;for(;;){let fe=c==null,ve=c||l,Ce=o;try{await y({path:B,matches:J,patch:(ue,xe)=>{K.aborted||ey(ue,xe,ve,Ce,i)}})}catch(ue){return{type:"error",error:ue,partialMatches:J}}finally{fe&&!K.aborted&&(l=[...l])}if(K.aborted)return{type:"aborted"};let pe=as(ve,B,d);if(pe)return{type:"success",matches:pe};let we=Zu(ve,B,d,!0);if(!we||J.length===we.length&&J.every((ue,xe)=>ue.route.id===we[xe].route.id))return{type:"success",matches:null};J=we}}function Cs(L){o={},c=fc(L,i,void 0,o)}function Jr(L,B){let K=c==null;ey(L,B,c||l,o,i),K&&(l=[...l],Ue({}))}return ae={get basename(){return d},get future(){return _},get state(){return U},get routes(){return l},get window(){return e},initialize:He,subscribe:et,enableScrollRestoration:bi,navigate:Wn,fetch:co,revalidate:ki,createHref:L=>n.history.createHref(L),encodeLocation:L=>n.history.encodeLocation(L),getFetcher:St,deleteFetcher:Ss,dispose:Ze,getBlocker:Rs,deleteBlocker:Oi,patchRoutes:Jr,_internalFetchControllers:ze,_internalSetRoutes:Cs},ae}function JE(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Yd(n,e,t,i,o,l){let c,d;if(o){c=[];for(let y of e)if(c.push(y),y.route.id===o){d=y;break}}else c=e,d=e[e.length-1];let p=Sf(i||".",Af(c),Ar(n.pathname,t)||n.pathname,l==="path");if(i==null&&(p.search=n.search,p.hash=n.hash),(i==null||i===""||i===".")&&d){let y=Cf(p.search);if(d.route.index&&!y)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&y){let _=new URLSearchParams(p.search),E=_.getAll("index");_.delete("index"),E.filter(R=>R).forEach(R=>_.append("index",R));let A=_.toString();p.search=A?`?${A}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:jr([t,p.pathname])),gs(p)}function Yg(n,e,t){if(!t||!JE(t))return{path:e};if(t.formMethod&&!cT(t.formMethod))return{path:e,error:er(405,{method:t.formMethod})};let i=()=>({path:e,error:er(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=Uv(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Er(l))return i();let E=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((A,[R,N])=>`${A}${R}=${N}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:E}}}else if(t.formEncType==="application/json"){if(!Er(l))return i();try{let E=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:E,text:void 0}}}catch{return i()}}}Qe(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=Jd(t.formData),p=t.formData;else if(t.body instanceof FormData)d=Jd(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=ny(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=ny(d)}catch{return i()}let y={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Er(y.formMethod))return{path:e,submission:y};let _=Ts(e);return n&&_.search&&Cf(_.search)&&d.append("index",""),_.search=`?${d}`,{path:gs(_),submission:y}}function Xg(n,e,t=!1){let i=n.findIndex(o=>o.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function Jg(n,e,t,i,o,l,c,d,p,y,_,E,A,R){let N=R?qn(R[1])?R[1].error:R[1].data:void 0,O=n.createURL(e.location),M=n.createURL(o),q=t;l&&e.errors?q=Xg(t,Object.keys(e.errors)[0],!0):R&&qn(R[1])&&(q=Xg(t,R[0]));let Y=R?R[1].statusCode:void 0,Z=Y&&Y>=400,ae=q.filter((ce,x)=>{let{route:I}=ce;if(I.lazy)return!0;if(I.loader==null)return!1;if(l)return Xd(I,e.loaderData,e.errors);if(ZE(e.loaderData,e.matches[x],ce))return!0;let S=e.matches[x],k=ce;return Zg(ce,{currentUrl:O,currentParams:S.params,nextUrl:M,nextParams:k.params,...i,actionResult:N,actionStatus:Y,defaultShouldRevalidate:Z?!1:c||O.pathname+O.search===M.pathname+M.search||O.search!==M.search||eT(S,k)})}),U=[];return y.forEach((ce,x)=>{if(l||!t.some(F=>F.route.id===ce.routeId)||p.has(x))return;let I=as(E,ce.path,A);if(!I){U.push({key:x,routeId:ce.routeId,path:ce.path,matches:null,match:null,controller:null});return}let S=e.fetchers.get(x),k=tl(I,ce.path),V=!1;_.has(x)?V=!1:d.has(x)?(d.delete(x),V=!0):S&&S.state!=="idle"&&S.data===void 0?V=c:V=Zg(k,{currentUrl:O,currentParams:e.matches[e.matches.length-1].params,nextUrl:M,nextParams:t[t.length-1].params,...i,actionResult:N,actionStatus:Y,defaultShouldRevalidate:Z?!1:c}),V&&U.push({key:x,routeId:ce.routeId,path:ce.path,matches:I,match:k,controller:new AbortController})}),[ae,U]}function Xd(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function ZE(n,e,t){let i=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return i||o}function eT(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Zg(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function ey(n,e,t,i,o){let l;if(n){let p=i[n];Qe(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let c=e.filter(p=>!l.some(y=>Mv(p,y))),d=fc(c,o,[n||"_","patch",String((l==null?void 0:l.length)||"0")],i);l.push(...d)}function Mv(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(l=>Mv(t,l))}):!1}async function tT(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];Qe(o,"No route found in manifest");let l={};for(let c in i){let p=o[c]!==void 0&&c!=="hasErrorBoundary";tn(!p,`Route "${o.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!p&&!AE.has(c)&&(l[c]=i[c])}Object.assign(o,l),Object.assign(o,{...e(o),lazy:void 0})}async function nT({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,o,l)=>Object.assign(i,{[e[l].route.id]:o}),{})}async function rT(n,e,t,i,o,l,c,d,p,y){let _=l.map(R=>R.route.lazy?tT(R.route,p,d):void 0),E=l.map((R,N)=>{let O=_[N],M=o.some(Y=>Y.route.id===R.route.id);return{...R,shouldLoad:M,resolve:async Y=>(Y&&i.method==="GET"&&(R.route.lazy||R.route.loader)&&(M=!0),M?iT(e,i,R,O,Y,y):Promise.resolve({type:"data",result:void 0}))}}),A=await n({matches:E,request:i,params:l[0].params,fetcherKey:c,context:y});try{await Promise.all(_)}catch{}return A}async function iT(n,e,t,i,o,l){let c,d,p=y=>{let _,E=new Promise((N,O)=>_=O);d=()=>_(),e.signal.addEventListener("abort",d);let A=N=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):y({request:e,params:t.params,context:l},...N!==void 0?[N]:[]),R=(async()=>{try{return{type:"data",result:await(o?o(O=>A(O)):A())}}catch(N){return{type:"error",result:N}}})();return Promise.race([R,E])};try{let y=t.route[n];if(i)if(y){let _,[E]=await Promise.all([p(y).catch(A=>{_=A}),i]);if(_!==void 0)throw _;c=E}else if(await i,y=t.route[n],y)c=await p(y);else if(n==="action"){let _=new URL(e.url),E=_.pathname+_.search;throw er(405,{method:e.method,pathname:E,routeId:t.route.id})}else return{type:"data",result:void 0};else if(y)c=await p(y);else{let _=new URL(e.url),E=_.pathname+_.search;throw er(404,{pathname:E})}}catch(y){return{type:"error",result:y}}finally{d&&e.signal.removeEventListener("abort",d)}return c}async function sT(n){var i,o,l,c;let{result:e,type:t}=n;if(Fv(e)){let d;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new mc(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(t==="error"){if(ay(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new mc(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Oc(e)?e.status:void 0}}return ay(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function oT(n,e,t,i,o){let l=n.headers.get("Location");if(Qe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Rf.test(l)){let c=i.slice(0,i.findIndex(d=>d.route.id===t)+1);l=Yd(new URL(e.url),c,o,l),n.headers.set("Location",l)}return n}function ty(n,e,t){if(Rf.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=Ar(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return n}function Go(n,e,t,i){let o=n.createURL(Uv(e)).toString(),l={signal:t};if(i&&Er(i.formMethod)){let{formMethod:c,formEncType:d}=i;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(i.json)):d==="text/plain"?l.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?l.body=Jd(i.formData):l.body=i.formData}return new Request(o,l)}function Jd(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function ny(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function aT(n,e,t,i=!1,o=!1){let l={},c=null,d,p=!1,y={},_=t&&qn(t[1])?t[1].error:void 0;return n.forEach(E=>{if(!(E.route.id in e))return;let A=E.route.id,R=e[A];if(Qe(!Ks(R),"Cannot handle redirect results in processLoaderData"),qn(R)){let N=R.error;if(_!==void 0&&(N=_,_=void 0),c=c||{},o)c[A]=N;else{let O=$s(n,A);c[O.route.id]==null&&(c[O.route.id]=N)}i||(l[A]=bv),p||(p=!0,d=Oc(R.error)?R.error.status:500),R.headers&&(y[A]=R.headers)}else l[A]=R.data,R.statusCode&&R.statusCode!==200&&!p&&(d=R.statusCode),R.headers&&(y[A]=R.headers)}),_!==void 0&&t&&(c={[t[0]]:_},l[t[0]]=void 0),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:y}}function ry(n,e,t,i,o,l){let{loaderData:c,errors:d}=aT(e,t,i);return o.forEach(p=>{let{key:y,match:_,controller:E}=p,A=l[y];if(Qe(A,"Did not find corresponding fetcher result"),!(E&&E.signal.aborted))if(qn(A)){let R=$s(n.matches,_==null?void 0:_.route.id);d&&d[R.route.id]||(d={...d,[R.route.id]:A.error}),n.fetchers.delete(y)}else if(Ks(A))Qe(!1,"Unhandled fetcher revalidation redirect");else{let R=os(A.data);n.fetchers.set(y,R)}}),{loaderData:c,errors:d}}function iy(n,e,t,i){let o=Object.entries(e).filter(([,l])=>l!==bv).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(o[c]=n[c]),i&&i.hasOwnProperty(c))break}return o}function sy(n){return n?qn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function $s(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function oy(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function er(n,{pathname:e,routeId:t,method:i,type:o,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",d=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new mc(n||500,c,new Error(d),!0)}function qu(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(Ks(o))return{key:i,result:o}}}function Uv(n){let e=typeof n=="string"?Ts(n):n;return gs({...e,hash:""})}function lT(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function uT(n){return Fv(n.result)&&$E.has(n.result.status)}function qn(n){return n.type==="error"}function Ks(n){return(n&&n.type)==="redirect"}function ay(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Fv(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function cT(n){return GE.has(n.toUpperCase())}function Er(n){return qE.has(n.toUpperCase())}function Cf(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function tl(n,e){let t=typeof e=="string"?Ts(e).search:e.search;if(n[n.length-1].route.index&&Cf(t||""))return n[n.length-1];let i=Lv(n);return i[i.length-1]}function ly(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:l,json:c}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function bd(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function hT(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Za(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function dT(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function os(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function fT(n,e){try{let t=n.sessionStorage.getItem(Vv);if(t){let i=JSON.parse(t);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function pT(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(Vv,JSON.stringify(t))}catch(i){tn(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function mT(){let n,e,t=new Promise((i,o)=>{n=async l=>{i(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var io=$.createContext(null);io.displayName="DataRouter";var Il=$.createContext(null);Il.displayName="DataRouterState";var Pf=$.createContext({isTransitioning:!1});Pf.displayName="ViewTransition";var jv=$.createContext(new Map);jv.displayName="Fetchers";var gT=$.createContext(null);gT.displayName="Await";var Kr=$.createContext(null);Kr.displayName="Navigation";var Vc=$.createContext(null);Vc.displayName="Location";var Ci=$.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var kf=$.createContext(null);kf.displayName="RouteError";function yT(n,{relative:e}={}){Qe(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=$.useContext(Kr),{hash:o,pathname:l,search:c}=Sl(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:jr([t,l])),i.createHref({pathname:d,search:c,hash:o})}function Al(){return $.useContext(Vc)!=null}function so(){return Qe(Al(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Vc).location}var Bv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zv(n){$.useContext(Kr).static||$.useLayoutEffect(n)}function bc(){let{isDataRoute:n}=$.useContext(Ci);return n?xT():vT()}function vT(){Qe(Al(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(io),{basename:e,navigator:t}=$.useContext(Kr),{matches:i}=$.useContext(Ci),{pathname:o}=so(),l=JSON.stringify(Af(i)),c=$.useRef(!1);return zv(()=>{c.current=!0}),$.useCallback((p,y={})=>{if(tn(c.current,Bv),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=Sf(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:jr([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,o,n])}$.createContext(null);function Sl(n,{relative:e}={}){let{matches:t}=$.useContext(Ci),{pathname:i}=so(),o=JSON.stringify(Af(t));return $.useMemo(()=>Sf(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function _T(n,e,t,i){Qe(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(Kr),{matches:l}=$.useContext(Ci),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",y=c?c.pathnameBase:"/",_=c&&c.route;{let q=_&&_.path||"";Hv(p,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=so(),A;A=E;let R=A.pathname||"/",N=R;if(y!=="/"){let q=y.replace(/^\//,"").split("/");N="/"+R.replace(/^\//,"").split("/").slice(q.length).join("/")}let O=as(n,{pathname:N});return tn(_||O!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),tn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),AT(O&&O.map(q=>Object.assign({},q,{params:Object.assign({},d,q.params),pathname:jr([y,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:jr([y,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),l,t,i)}function wT(){let n=kT(),e=Oc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,c)}var ET=$.createElement(wT,null),TT=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(Ci.Provider,{value:this.props.routeContext},$.createElement(kf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IT({routeContext:n,match:e,children:t}){let i=$.useContext(io);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Ci.Provider,{value:n},t)}function AT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);Qe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:_,errors:E}=t,A=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||A){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let E,A=!1,R=null,N=null;t&&(E=l&&y.route.id?l[y.route.id]:void 0,R=y.route.errorElement||ET,c&&(d<0&&_===0?(Hv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,N=null):d===_&&(A=!0,N=y.route.hydrateFallbackElement||null)));let O=e.concat(o.slice(0,_+1)),M=()=>{let q;return E?q=R:A?q=N:y.route.Component?q=$.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=p,$.createElement(IT,{match:y,routeContext:{outlet:p,matches:O,isDataRoute:t!=null},children:q})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?$.createElement(TT,{location:t.location,revalidation:t.revalidation,component:R,error:E,children:M(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):M()},null)}function xf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ST(n){let e=$.useContext(io);return Qe(e,xf(n)),e}function RT(n){let e=$.useContext(Il);return Qe(e,xf(n)),e}function CT(n){let e=$.useContext(Ci);return Qe(e,xf(n)),e}function Nf(n){let e=CT(n),t=e.matches[e.matches.length-1];return Qe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function PT(){return Nf("useRouteId")}function kT(){var i;let n=$.useContext(kf),e=RT("useRouteError"),t=Nf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function xT(){let{router:n}=ST("useNavigate"),e=Nf("useNavigate"),t=$.useRef(!1);return zv(()=>{t.current=!0}),$.useCallback(async(o,l={})=>{tn(t.current,Bv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var uy={};function Hv(n,e,t){!e&&!uy[n]&&(uy[n]=!0,tn(!1,t))}var cy={};function hy(n,e){!n&&!cy[e]&&(cy[e]=!0,console.warn(e))}function NT(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&tn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:$.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&tn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:$.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&tn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:$.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var DT=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function LT({router:n,flushSync:e}){let[t,i]=$.useState(n.state),[o,l]=$.useState(),[c,d]=$.useState({isTransitioning:!1}),[p,y]=$.useState(),[_,E]=$.useState(),[A,R]=$.useState(),N=$.useRef(new Map),O=$.useCallback((Z,{deletedFetchers:ae,flushSync:U,viewTransitionOpts:ce})=>{ae.forEach(I=>N.current.delete(I)),Z.fetchers.forEach((I,S)=>{I.data!==void 0&&N.current.set(S,I.data)}),hy(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let x=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(hy(ce==null||x,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ce||!x){e&&U?e(()=>i(Z)):$.startTransition(()=>i(Z));return}if(e&&U){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let I=n.window.document.startViewTransition(()=>{e(()=>i(Z))});I.finished.finally(()=>{e(()=>{y(void 0),E(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>E(I));return}_?(p&&p.resolve(),_.skipTransition(),R({state:Z,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(l(Z),d({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[n.window,e,_,p]);$.useLayoutEffect(()=>n.subscribe(O),[n,O]),$.useEffect(()=>{c.isTransitioning&&!c.flushSync&&y(new DT)},[c]),$.useEffect(()=>{if(p&&o&&n.window){let Z=o,ae=p.promise,U=n.window.document.startViewTransition(async()=>{$.startTransition(()=>i(Z)),await ae});U.finished.finally(()=>{y(void 0),E(void 0),l(void 0),d({isTransitioning:!1})}),E(U)}},[o,p,n.window]),$.useEffect(()=>{p&&o&&t.location.key===o.location.key&&p.resolve()},[p,_,t.location,o]),$.useEffect(()=>{!c.isTransitioning&&A&&(l(A.state),d({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),R(void 0))},[c.isTransitioning,A]);let M=$.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Z=>n.navigate(Z),push:(Z,ae,U)=>n.navigate(Z,{state:ae,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(Z,ae,U)=>n.navigate(Z,{replace:!0,state:ae,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[n]),q=n.basename||"/",Y=$.useMemo(()=>({router:n,navigator:M,static:!1,basename:q}),[n,M,q]);return $.createElement($.Fragment,null,$.createElement(io.Provider,{value:Y},$.createElement(Il.Provider,{value:t},$.createElement(jv.Provider,{value:N.current},$.createElement(Pf.Provider,{value:c},$.createElement(bT,{basename:q,location:t.location,navigationType:t.historyAction,navigator:M},$.createElement(OT,{routes:n.routes,future:n.future,state:t})))))),null)}var OT=$.memo(VT);function VT({routes:n,future:e,state:t}){return _T(n,void 0,t,e)}function bT({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){Qe(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=Ts(t));let{pathname:p="/",search:y="",hash:_="",state:E=null,key:A="default"}=t,R=$.useMemo(()=>{let N=Ar(p,c);return N==null?null:{location:{pathname:N,search:y,hash:_,state:E,key:A},navigationType:i}},[c,p,y,_,E,A,i]);return tn(R!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:$.createElement(Kr.Provider,{value:d},$.createElement(Vc.Provider,{children:e,value:R}))}var ec="get",tc="application/x-www-form-urlencoded";function Mc(n){return n!=null&&typeof n.tagName=="string"}function MT(n){return Mc(n)&&n.tagName.toLowerCase()==="button"}function UT(n){return Mc(n)&&n.tagName.toLowerCase()==="form"}function FT(n){return Mc(n)&&n.tagName.toLowerCase()==="input"}function jT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function BT(n,e){return n.button===0&&(!e||e==="_self")&&!jT(n)}var Wu=null;function zT(){if(Wu===null)try{new FormData(document.createElement("form"),0),Wu=!1}catch{Wu=!0}return Wu}var HT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Md(n){return n!=null&&!HT.has(n)?(tn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tc}"`),null):n}function qT(n,e){let t,i,o,l,c;if(UT(n)){let d=n.getAttribute("action");i=d?Ar(d,e):null,t=n.getAttribute("method")||ec,o=Md(n.getAttribute("enctype"))||tc,l=new FormData(n)}else if(MT(n)||FT(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Ar(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||ec,o=Md(n.getAttribute("formenctype"))||Md(d.getAttribute("enctype"))||tc,l=new FormData(d,n),!zT()){let{name:y,type:_,value:E}=n;if(_==="image"){let A=y?`${y}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else y&&l.append(y,E)}}else{if(Mc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ec,i=null,o=tc,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}function Df(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function WT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function $T(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await WT(l,t);return c.links?c.links():[]}return[]}));return XT(i.flat(1).filter(GT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function dy(n,e,t,i,o,l){let c=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,d=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>c(p,y)||d(p,y)):l==="data"?e.filter((p,y)=>{var E;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function KT(n,e){return QT(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function QT(n){return[...new Set(n)]}function YT(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function XT(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(YT(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function JT(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ZT(){let n=$.useContext(io);return Df(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function eI(){let n=$.useContext(Il);return Df(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Lf=$.createContext(void 0);Lf.displayName="FrameworkContext";function qv(){let n=$.useContext(Lf);return Df(n,"You must render this element inside a <HydratedRouter> element"),n}function tI(n,e){let t=$.useContext(Lf),[i,o]=$.useState(!1),[l,c]=$.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:E}=e,A=$.useRef(null);$.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let O=q=>{q.forEach(Y=>{c(Y.isIntersecting)})},M=new IntersectionObserver(O,{threshold:.5});return A.current&&M.observe(A.current),()=>{M.disconnect()}}},[n]),$.useEffect(()=>{if(i){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[i]);let R=()=>{o(!0)},N=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,A,{}]:[l,A,{onFocus:el(d,R),onBlur:el(p,N),onMouseEnter:el(y,R),onMouseLeave:el(_,N),onTouchStart:el(E,R)}]:[!1,A,{}]}function el(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function nI({page:n,...e}){let{router:t}=ZT(),i=$.useMemo(()=>as(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?$.createElement(iI,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function rI(n){let{manifest:e,routeModules:t}=qv(),[i,o]=$.useState([]);return $.useEffect(()=>{let l=!1;return $T(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),i}function iI({page:n,matches:e,...t}){let i=so(),{manifest:o,routeModules:l}=qv(),{loaderData:c,matches:d}=eI(),p=$.useMemo(()=>dy(n,e,d,o,i,"data"),[n,e,d,o,i]),y=$.useMemo(()=>dy(n,e,d,o,i,"assets"),[n,e,d,o,i]),_=$.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,N=!1;if(e.forEach(M=>{var Y;let q=o.routes[M.route.id];!q||!q.hasLoader||(!p.some(Z=>Z.route.id===M.route.id)&&M.route.id in c&&((Y=l[M.route.id])!=null&&Y.shouldRevalidate)||q.hasClientLoader?N=!0:R.add(M.route.id))}),R.size===0)return[];let O=JT(n);return N&&R.size>0&&O.searchParams.set("_routes",e.filter(M=>R.has(M.route.id)).map(M=>M.route.id).join(",")),[O.pathname+O.search]},[c,i,o,p,e,n,l]),E=$.useMemo(()=>KT(y,o),[y,o]),A=rI(y);return $.createElement($.Fragment,null,_.map(R=>$.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),E.map(R=>$.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),A.map(({key:R,link:N})=>$.createElement("link",{key:R,...N})))}function sI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Wv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wv&&(window.__reactRouterVersion="7.0.2")}catch{}function oI(n,e){return XE({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:EE({window:e==null?void 0:e.window}),hydrationData:aI(),routes:n,mapRouteProperties:NT,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function aI(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:lI(n.errors)}),n}function lI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new mc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let l=new Error(o.message);l.stack="",t[i]=l}}else t[i]=o;return t}var Gv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Of=$.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:y,preventScrollReset:_,viewTransition:E,...A},R){let{basename:N}=$.useContext(Kr),O=typeof y=="string"&&Gv.test(y),M,q=!1;if(typeof y=="string"&&O&&(M=y,Wv))try{let S=new URL(window.location.href),k=y.startsWith("//")?new URL(S.protocol+y):new URL(y),V=Ar(k.pathname,N);k.origin===S.origin&&V!=null?y=V+k.search+k.hash:q=!0}catch{tn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=yT(y,{relative:o}),[Z,ae,U]=tI(i,A),ce=dI(y,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:E});function x(S){e&&e(S),S.defaultPrevented||ce(S)}let I=$.createElement("a",{...A,...U,href:M||Y,onClick:q||l?e:x,ref:sI(R,ae),target:p,"data-discover":!O&&t==="render"?"true":void 0});return Z&&!O?$.createElement($.Fragment,null,I,$.createElement(nI,{page:Y})):I});Of.displayName="Link";var uI=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:p,...y},_){let E=Sl(c,{relative:y.relative}),A=so(),R=$.useContext(Il),{navigator:N,basename:O}=$.useContext(Kr),M=R!=null&&yI(E)&&d===!0,q=N.encodeLocation?N.encodeLocation(E).pathname:E.pathname,Y=A.pathname,Z=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),Z=Z?Z.toLowerCase():null,q=q.toLowerCase()),Z&&O&&(Z=Ar(Z,O)||Z);const ae=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let U=Y===q||!o&&Y.startsWith(q)&&Y.charAt(ae)==="/",ce=Z!=null&&(Z===q||!o&&Z.startsWith(q)&&Z.charAt(q.length)==="/"),x={isActive:U,isPending:ce,isTransitioning:M},I=U?e:void 0,S;typeof i=="function"?S=i(x):S=[i,U?"active":null,ce?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(x):l;return $.createElement(Of,{...y,"aria-current":I,className:S,ref:_,style:k,to:c,viewTransition:d},typeof p=="function"?p(x):p)});uI.displayName="NavLink";var cI=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=ec,action:d,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:E,...A},R)=>{let N=mI(),O=gI(d,{relative:y}),M=c.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&Gv.test(d),Y=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let ae=Z.nativeEvent.submitter,U=(ae==null?void 0:ae.getAttribute("formmethod"))||c;N(ae||Z.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:o,state:l,relative:y,preventScrollReset:_,viewTransition:E})};return $.createElement("form",{ref:R,method:M,action:O,onSubmit:i?p:Y,...A,"data-discover":!q&&n==="render"?"true":void 0})});cI.displayName="Form";function hI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $v(n){let e=$.useContext(io);return Qe(e,hI(n)),e}function dI(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=bc(),p=so(),y=Sl(n,{relative:l});return $.useCallback(_=>{if(BT(_,e)){_.preventDefault();let E=t!==void 0?t:gs(p)===gs(y);d(n,{replace:E,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[p,d,y,t,i,e,n,o,l,c])}var fI=0,pI=()=>`__${String(++fI)}__`;function mI(){let{router:n}=$v("useSubmit"),{basename:e}=$.useContext(Kr),t=PT();return $.useCallback(async(i,o={})=>{let{action:l,method:c,encType:d,formData:p,body:y}=qT(i,e);if(o.navigate===!1){let _=o.fetcherKey||pI();await n.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function gI(n,{relative:e}={}){let{basename:t}=$.useContext(Kr),i=$.useContext(Ci);Qe(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Sl(n||".",{relative:e})},c=so();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:jr([t,l.pathname])),gs(l)}function yI(n,e={}){let t=$.useContext(Pf);Qe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$v("useViewTransitionState"),o=Sl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ar(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Ar(t.nextLocation.pathname,i)||t.nextLocation.pathname;return pc(o.pathname,c)!=null||pc(o.pathname,l)!=null}new TextEncoder;var vI=xv();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _I(n){return $.createElement(LT,{flushSync:vI.flushSync,...n})}function wI(){return se.jsx("div",{className:"pageNotFound h-[100vh] w-[100vw] flex items-center justify-center",children:se.jsxs("div",{className:"backdrop-blur relative bg-[#212121] bg-opacity-70 min-h-[400px] h-[50%] aspect-square flex items-center justify-start flex-col rounded-[50px] ",children:[se.jsx("h1",{className:"mt-[15%] text-white font-bold text-5xl font-inria",children:"Page Not Found"}),se.jsx(Of,{to:"/",children:se.jsx("button",{className:"absolute left-1/2 top-3/4 transform -translate-x-1/2 -translate-y-[70%] bg-[#915472] min-w-[250px] px-3 py-5 rounded-[20px] text-2xl font-inria text-white",children:"Go to Home Page"})})]})})}var fy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},EI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=l>>2,E=(l&3)<<4|d>>4;let A=(d&15)<<2|y>>6,R=y&63;p||(R=64,c||(A=64)),i.push(t[_],t[E],t[A],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Kv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):EI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||y==null||E==null)throw new TI;const A=l<<2|d>>4;if(i.push(A),y!==64){const R=d<<4&240|y>>2;if(i.push(R),E!==64){const N=y<<6&192|E;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class TI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const II=function(n){const e=Kv(n);return Qv.encodeByteArray(e,!0)},gc=function(n){return II(n).replace(/\./g,"")},Yv=function(n){try{return Qv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=()=>AI().__FIREBASE_DEFAULTS__,RI=()=>{if(typeof process>"u"||typeof fy>"u")return;const n=fy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},CI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Yv(n[1]);return e&&JSON.parse(e)},Uc=()=>{try{return SI()||RI()||CI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Xv=n=>{var e,t;return(t=(e=Uc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},PI=n=>{const e=Xv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Jv=()=>{var n;return(n=Uc())===null||n===void 0?void 0:n.config},Zv=n=>{var e;return(e=Uc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[gc(JSON.stringify(t)),gc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function DI(){var n;const e=(n=Uc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function VI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bI(){const n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function MI(){return!DI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UI(){try{return typeof indexedDB=="object"}catch{return!1}}function FI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="FirebaseError";class Pi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=jI,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?BI(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Pi(o,d,i)}}function BI(n,e){return n.replace(zI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const zI=/\{\$([^}]+)}/g;function HI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(py(l)&&py(c)){if(!yc(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function py(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function qI(n,e){const t=new WI(n,e);return t.subscribe.bind(t)}class WI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");GI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(n){return n&&n._delegate?n._delegate:n}class to{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new kI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QI(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:KI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KI(n){return n===Gs?void 0:n}function QI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $I(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qe||(qe={}));const XI={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},JI=qe.INFO,ZI={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},eA=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=ZI[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vf{constructor(e){this.name=e,this._logLevel=JI,this._logHandler=eA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const tA=(n,e)=>e.some(t=>n instanceof t);let my,gy;function nA(){return my||(my=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rA(){return gy||(gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e_=new WeakMap,Zd=new WeakMap,t_=new WeakMap,Fd=new WeakMap,bf=new WeakMap;function iA(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ds(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&e_.set(t,n)}).catch(()=>{}),bf.set(e,n),e}function sA(n){if(Zd.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Zd.set(n,e)}let ef={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Zd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||t_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ds(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function oA(n){ef=n(ef)}function aA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(jd(this),e,...t);return t_.set(i,e.sort?e.sort():[e]),ds(i)}:rA().includes(n)?function(...e){return n.apply(jd(this),e),ds(e_.get(this))}:function(...e){return ds(n.apply(jd(this),e))}}function lA(n){return typeof n=="function"?aA(n):(n instanceof IDBTransaction&&sA(n),tA(n,nA())?new Proxy(n,ef):n)}function ds(n){if(n instanceof IDBRequest)return iA(n);if(Fd.has(n))return Fd.get(n);const e=lA(n);return e!==n&&(Fd.set(n,e),bf.set(e,n)),e}const jd=n=>bf.get(n);function uA(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=ds(c);return i&&c.addEventListener("upgradeneeded",p=>{i(ds(c.result),p.oldVersion,p.newVersion,ds(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const cA=["get","getKey","getAll","getAllKeys","count"],hA=["put","add","delete","clear"],Bd=new Map;function yy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=hA.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||cA.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return Bd.set(e,l),l}oA(n=>({...n,get:(e,t,i)=>yy(e,t)||n.get(e,t,i),has:(e,t)=>!!yy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(fA(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function fA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tf="@firebase/app",vy="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Vf("@firebase/app"),pA="@firebase/app-compat",mA="@firebase/analytics-compat",gA="@firebase/analytics",yA="@firebase/app-check-compat",vA="@firebase/app-check",_A="@firebase/auth",wA="@firebase/auth-compat",EA="@firebase/database",TA="@firebase/data-connect",IA="@firebase/database-compat",AA="@firebase/functions",SA="@firebase/functions-compat",RA="@firebase/installations",CA="@firebase/installations-compat",PA="@firebase/messaging",kA="@firebase/messaging-compat",xA="@firebase/performance",NA="@firebase/performance-compat",DA="@firebase/remote-config",LA="@firebase/remote-config-compat",OA="@firebase/storage",VA="@firebase/storage-compat",bA="@firebase/firestore",MA="@firebase/vertexai",UA="@firebase/firestore-compat",FA="firebase",jA="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="[DEFAULT]",BA={[tf]:"fire-core",[pA]:"fire-core-compat",[gA]:"fire-analytics",[mA]:"fire-analytics-compat",[vA]:"fire-app-check",[yA]:"fire-app-check-compat",[_A]:"fire-auth",[wA]:"fire-auth-compat",[EA]:"fire-rtdb",[TA]:"fire-data-connect",[IA]:"fire-rtdb-compat",[AA]:"fire-fn",[SA]:"fire-fn-compat",[RA]:"fire-iid",[CA]:"fire-iid-compat",[PA]:"fire-fcm",[kA]:"fire-fcm-compat",[xA]:"fire-perf",[NA]:"fire-perf-compat",[DA]:"fire-rc",[LA]:"fire-rc-compat",[OA]:"fire-gcs",[VA]:"fire-gcs-compat",[bA]:"fire-fst",[UA]:"fire-fst-compat",[MA]:"fire-vertex","fire-js":"fire-js",[FA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,zA=new Map,rf=new Map;function _y(n,e){try{n.container.addComponent(e)}catch(t){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function na(n){const e=n.name;if(rf.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;rf.set(e,n);for(const t of vc.values())_y(t,n);for(const t of zA.values())_y(t,n);return!0}function Mf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function mi(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new Rl("app","Firebase",HA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=jA;function n_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:nf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(t||(t=Jv()),!t)throw fs.create("no-options");const l=vc.get(o);if(l){if(yc(t,l.options)&&yc(i,l.config))return l;throw fs.create("duplicate-app",{appName:o})}const c=new YI(o);for(const p of rf.values())c.addComponent(p);const d=new qA(t,i,c);return vc.set(o,d),d}function r_(n=nf){const e=vc.get(n);if(!e&&n===nf&&Jv())return n_();if(!e)throw fs.create("no-app",{appName:n});return e}function ps(n,e,t){var i;let o=(i=BA[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(d.join(" "));return}na(new to(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="firebase-heartbeat-database",GA=1,dl="firebase-heartbeat-store";let zd=null;function i_(){return zd||(zd=uA(WA,GA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(dl)}catch(t){console.warn(t)}}}}).catch(n=>{throw fs.create("idb-open",{originalErrorMessage:n.message})})),zd}async function $A(n){try{const t=(await i_()).transaction(dl),i=await t.objectStore(dl).get(s_(n));return await t.done,i}catch(e){if(e instanceof Pi)Ii.warn(e.message);else{const t=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(t.message)}}}async function wy(n,e){try{const i=(await i_()).transaction(dl,"readwrite");await i.objectStore(dl).put(e,s_(n)),await i.done}catch(t){if(t instanceof Pi)Ii.warn(t.message);else{const i=fs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ii.warn(i.message)}}}function s_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=1024,QA=30*24*60*60*1e3;class YA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new JA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ey();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=QA}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ii.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ey(),{heartbeatsToSend:i,unsentEntries:o}=XA(this._heartbeatsCache.heartbeats),l=gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ii.warn(t),""}}}function Ey(){return new Date().toISOString().substring(0,10)}function XA(n,e=KA){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Ty(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ty(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class JA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UI()?FI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $A(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return wy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return wy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ty(n){return gc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(n){na(new to("platform-logger",e=>new dA(e),"PRIVATE")),na(new to("heartbeat",e=>new YA(e),"PRIVATE")),ps(tf,vy,n),ps(tf,vy,"esm2017"),ps("fire-js","")}ZA("");var Iy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,o_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,I){function S(){}S.prototype=I.prototype,x.D=I.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(k,V,F){for(var P=Array(arguments.length-2),at=2;at<arguments.length;at++)P[at-2]=arguments[at];return I.prototype[V].apply(k,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,I,S){S||(S=0);var k=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)k[V]=I.charCodeAt(S++)|I.charCodeAt(S++)<<8|I.charCodeAt(S++)<<16|I.charCodeAt(S++)<<24;else for(V=0;16>V;++V)k[V]=I[S++]|I[S++]<<8|I[S++]<<16|I[S++]<<24;I=x.g[0],S=x.g[1],V=x.g[2];var F=x.g[3],P=I+(F^S&(V^F))+k[0]+3614090360&4294967295;I=S+(P<<7&4294967295|P>>>25),P=F+(V^I&(S^V))+k[1]+3905402710&4294967295,F=I+(P<<12&4294967295|P>>>20),P=V+(S^F&(I^S))+k[2]+606105819&4294967295,V=F+(P<<17&4294967295|P>>>15),P=S+(I^V&(F^I))+k[3]+3250441966&4294967295,S=V+(P<<22&4294967295|P>>>10),P=I+(F^S&(V^F))+k[4]+4118548399&4294967295,I=S+(P<<7&4294967295|P>>>25),P=F+(V^I&(S^V))+k[5]+1200080426&4294967295,F=I+(P<<12&4294967295|P>>>20),P=V+(S^F&(I^S))+k[6]+2821735955&4294967295,V=F+(P<<17&4294967295|P>>>15),P=S+(I^V&(F^I))+k[7]+4249261313&4294967295,S=V+(P<<22&4294967295|P>>>10),P=I+(F^S&(V^F))+k[8]+1770035416&4294967295,I=S+(P<<7&4294967295|P>>>25),P=F+(V^I&(S^V))+k[9]+2336552879&4294967295,F=I+(P<<12&4294967295|P>>>20),P=V+(S^F&(I^S))+k[10]+4294925233&4294967295,V=F+(P<<17&4294967295|P>>>15),P=S+(I^V&(F^I))+k[11]+2304563134&4294967295,S=V+(P<<22&4294967295|P>>>10),P=I+(F^S&(V^F))+k[12]+1804603682&4294967295,I=S+(P<<7&4294967295|P>>>25),P=F+(V^I&(S^V))+k[13]+4254626195&4294967295,F=I+(P<<12&4294967295|P>>>20),P=V+(S^F&(I^S))+k[14]+2792965006&4294967295,V=F+(P<<17&4294967295|P>>>15),P=S+(I^V&(F^I))+k[15]+1236535329&4294967295,S=V+(P<<22&4294967295|P>>>10),P=I+(V^F&(S^V))+k[1]+4129170786&4294967295,I=S+(P<<5&4294967295|P>>>27),P=F+(S^V&(I^S))+k[6]+3225465664&4294967295,F=I+(P<<9&4294967295|P>>>23),P=V+(I^S&(F^I))+k[11]+643717713&4294967295,V=F+(P<<14&4294967295|P>>>18),P=S+(F^I&(V^F))+k[0]+3921069994&4294967295,S=V+(P<<20&4294967295|P>>>12),P=I+(V^F&(S^V))+k[5]+3593408605&4294967295,I=S+(P<<5&4294967295|P>>>27),P=F+(S^V&(I^S))+k[10]+38016083&4294967295,F=I+(P<<9&4294967295|P>>>23),P=V+(I^S&(F^I))+k[15]+3634488961&4294967295,V=F+(P<<14&4294967295|P>>>18),P=S+(F^I&(V^F))+k[4]+3889429448&4294967295,S=V+(P<<20&4294967295|P>>>12),P=I+(V^F&(S^V))+k[9]+568446438&4294967295,I=S+(P<<5&4294967295|P>>>27),P=F+(S^V&(I^S))+k[14]+3275163606&4294967295,F=I+(P<<9&4294967295|P>>>23),P=V+(I^S&(F^I))+k[3]+4107603335&4294967295,V=F+(P<<14&4294967295|P>>>18),P=S+(F^I&(V^F))+k[8]+1163531501&4294967295,S=V+(P<<20&4294967295|P>>>12),P=I+(V^F&(S^V))+k[13]+2850285829&4294967295,I=S+(P<<5&4294967295|P>>>27),P=F+(S^V&(I^S))+k[2]+4243563512&4294967295,F=I+(P<<9&4294967295|P>>>23),P=V+(I^S&(F^I))+k[7]+1735328473&4294967295,V=F+(P<<14&4294967295|P>>>18),P=S+(F^I&(V^F))+k[12]+2368359562&4294967295,S=V+(P<<20&4294967295|P>>>12),P=I+(S^V^F)+k[5]+4294588738&4294967295,I=S+(P<<4&4294967295|P>>>28),P=F+(I^S^V)+k[8]+2272392833&4294967295,F=I+(P<<11&4294967295|P>>>21),P=V+(F^I^S)+k[11]+1839030562&4294967295,V=F+(P<<16&4294967295|P>>>16),P=S+(V^F^I)+k[14]+4259657740&4294967295,S=V+(P<<23&4294967295|P>>>9),P=I+(S^V^F)+k[1]+2763975236&4294967295,I=S+(P<<4&4294967295|P>>>28),P=F+(I^S^V)+k[4]+1272893353&4294967295,F=I+(P<<11&4294967295|P>>>21),P=V+(F^I^S)+k[7]+4139469664&4294967295,V=F+(P<<16&4294967295|P>>>16),P=S+(V^F^I)+k[10]+3200236656&4294967295,S=V+(P<<23&4294967295|P>>>9),P=I+(S^V^F)+k[13]+681279174&4294967295,I=S+(P<<4&4294967295|P>>>28),P=F+(I^S^V)+k[0]+3936430074&4294967295,F=I+(P<<11&4294967295|P>>>21),P=V+(F^I^S)+k[3]+3572445317&4294967295,V=F+(P<<16&4294967295|P>>>16),P=S+(V^F^I)+k[6]+76029189&4294967295,S=V+(P<<23&4294967295|P>>>9),P=I+(S^V^F)+k[9]+3654602809&4294967295,I=S+(P<<4&4294967295|P>>>28),P=F+(I^S^V)+k[12]+3873151461&4294967295,F=I+(P<<11&4294967295|P>>>21),P=V+(F^I^S)+k[15]+530742520&4294967295,V=F+(P<<16&4294967295|P>>>16),P=S+(V^F^I)+k[2]+3299628645&4294967295,S=V+(P<<23&4294967295|P>>>9),P=I+(V^(S|~F))+k[0]+4096336452&4294967295,I=S+(P<<6&4294967295|P>>>26),P=F+(S^(I|~V))+k[7]+1126891415&4294967295,F=I+(P<<10&4294967295|P>>>22),P=V+(I^(F|~S))+k[14]+2878612391&4294967295,V=F+(P<<15&4294967295|P>>>17),P=S+(F^(V|~I))+k[5]+4237533241&4294967295,S=V+(P<<21&4294967295|P>>>11),P=I+(V^(S|~F))+k[12]+1700485571&4294967295,I=S+(P<<6&4294967295|P>>>26),P=F+(S^(I|~V))+k[3]+2399980690&4294967295,F=I+(P<<10&4294967295|P>>>22),P=V+(I^(F|~S))+k[10]+4293915773&4294967295,V=F+(P<<15&4294967295|P>>>17),P=S+(F^(V|~I))+k[1]+2240044497&4294967295,S=V+(P<<21&4294967295|P>>>11),P=I+(V^(S|~F))+k[8]+1873313359&4294967295,I=S+(P<<6&4294967295|P>>>26),P=F+(S^(I|~V))+k[15]+4264355552&4294967295,F=I+(P<<10&4294967295|P>>>22),P=V+(I^(F|~S))+k[6]+2734768916&4294967295,V=F+(P<<15&4294967295|P>>>17),P=S+(F^(V|~I))+k[13]+1309151649&4294967295,S=V+(P<<21&4294967295|P>>>11),P=I+(V^(S|~F))+k[4]+4149444226&4294967295,I=S+(P<<6&4294967295|P>>>26),P=F+(S^(I|~V))+k[11]+3174756917&4294967295,F=I+(P<<10&4294967295|P>>>22),P=V+(I^(F|~S))+k[2]+718787259&4294967295,V=F+(P<<15&4294967295|P>>>17),P=S+(F^(V|~I))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+F&4294967295}i.prototype.u=function(x,I){I===void 0&&(I=x.length);for(var S=I-this.blockSize,k=this.B,V=this.h,F=0;F<I;){if(V==0)for(;F<=S;)o(this,x,F),F+=this.blockSize;if(typeof x=="string"){for(;F<I;)if(k[V++]=x.charCodeAt(F++),V==this.blockSize){o(this,k),V=0;break}}else for(;F<I;)if(k[V++]=x[F++],V==this.blockSize){o(this,k),V=0;break}}this.h=V,this.o+=I},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;var S=8*this.o;for(I=x.length-8;I<x.length;++I)x[I]=S&255,S/=256;for(this.u(x),x=Array(16),I=S=0;4>I;++I)for(var k=0;32>k;k+=8)x[S++]=this.g[I]>>>k&255;return x};function l(x,I){var S=d;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=I(x)}function c(x,I){this.h=I;for(var S=[],k=!0,V=x.length-1;0<=V;V--){var F=x[V]|0;k&&F==I||(S[V]=F,k=!1)}this.g=S}var d={};function p(x){return-128<=x&&128>x?l(x,function(I){return new c([I|0],0>I?-1:0)}):new c([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return E;if(0>x)return M(y(-x));for(var I=[],S=1,k=0;x>=S;k++)I[k]=x/S|0,S*=4294967296;return new c(I,0)}function _(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return M(_(x.substring(1),I));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(I,8)),k=E,V=0;V<x.length;V+=8){var F=Math.min(8,x.length-V),P=parseInt(x.substring(V,V+F),I);8>F?(F=y(Math.pow(I,F)),k=k.j(F).add(y(P))):(k=k.j(S),k=k.add(y(P)))}return k}var E=p(0),A=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(O(this))return-M(this).m();for(var x=0,I=1,S=0;S<this.g.length;S++){var k=this.i(S);x+=(0<=k?k:4294967296+k)*I,I*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(N(this))return"0";if(O(this))return"-"+M(this).toString(x);for(var I=y(Math.pow(x,6)),S=this,k="";;){var V=ae(S,I).g;S=q(S,V.j(I));var F=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=V,N(S))return F+k;for(;6>F.length;)F="0"+F;k=F+k}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function N(x){if(x.h!=0)return!1;for(var I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function O(x){return x.h==-1}n.l=function(x){return x=q(this,x),O(x)?-1:N(x)?0:1};function M(x){for(var I=x.g.length,S=[],k=0;k<I;k++)S[k]=~x.g[k];return new c(S,~x.h).add(A)}n.abs=function(){return O(this)?M(this):this},n.add=function(x){for(var I=Math.max(this.g.length,x.g.length),S=[],k=0,V=0;V<=I;V++){var F=k+(this.i(V)&65535)+(x.i(V)&65535),P=(F>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);k=P>>>16,F&=65535,P&=65535,S[V]=P<<16|F}return new c(S,S[S.length-1]&-2147483648?-1:0)};function q(x,I){return x.add(M(I))}n.j=function(x){if(N(this)||N(x))return E;if(O(this))return O(x)?M(this).j(M(x)):M(M(this).j(x));if(O(x))return M(this.j(M(x)));if(0>this.l(R)&&0>x.l(R))return y(this.m()*x.m());for(var I=this.g.length+x.g.length,S=[],k=0;k<2*I;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<x.g.length;V++){var F=this.i(k)>>>16,P=this.i(k)&65535,at=x.i(V)>>>16,ze=x.i(V)&65535;S[2*k+2*V]+=P*ze,Y(S,2*k+2*V),S[2*k+2*V+1]+=F*ze,Y(S,2*k+2*V+1),S[2*k+2*V+1]+=P*at,Y(S,2*k+2*V+1),S[2*k+2*V+2]+=F*at,Y(S,2*k+2*V+2)}for(k=0;k<I;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=I;k<2*I;k++)S[k]=0;return new c(S,0)};function Y(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function Z(x,I){this.g=x,this.h=I}function ae(x,I){if(N(I))throw Error("division by zero");if(N(x))return new Z(E,E);if(O(x))return I=ae(M(x),I),new Z(M(I.g),M(I.h));if(O(I))return I=ae(x,M(I)),new Z(M(I.g),I.h);if(30<x.g.length){if(O(x)||O(I))throw Error("slowDivide_ only works with positive integers.");for(var S=A,k=I;0>=k.l(x);)S=U(S),k=U(k);var V=ce(S,1),F=ce(k,1);for(k=ce(k,2),S=ce(S,2);!N(k);){var P=F.add(k);0>=P.l(x)&&(V=V.add(S),F=P),k=ce(k,1),S=ce(S,1)}return I=q(x,V.j(I)),new Z(V,I)}for(V=E;0<=x.l(I);){for(S=Math.max(1,Math.floor(x.m()/I.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),F=y(S),P=F.j(I);O(P)||0<P.l(x);)S-=k,F=y(S),P=F.j(I);N(F)&&(F=A),V=V.add(F),x=q(x,P)}return new Z(V,x)}n.A=function(x){return ae(this,x).h},n.and=function(x){for(var I=Math.max(this.g.length,x.g.length),S=[],k=0;k<I;k++)S[k]=this.i(k)&x.i(k);return new c(S,this.h&x.h)},n.or=function(x){for(var I=Math.max(this.g.length,x.g.length),S=[],k=0;k<I;k++)S[k]=this.i(k)|x.i(k);return new c(S,this.h|x.h)},n.xor=function(x){for(var I=Math.max(this.g.length,x.g.length),S=[],k=0;k<I;k++)S[k]=this.i(k)^x.i(k);return new c(S,this.h^x.h)};function U(x){for(var I=x.g.length+1,S=[],k=0;k<I;k++)S[k]=x.i(k)<<1|x.i(k-1)>>>31;return new c(S,x.h)}function ce(x,I){var S=I>>5;I%=32;for(var k=x.g.length-S,V=[],F=0;F<k;F++)V[F]=0<I?x.i(F+S)>>>I|x.i(F+S+1)<<32-I:x.i(F+S);return new c(V,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,o_=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,Xs=c}).apply(typeof Iy<"u"?Iy:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a_,nl,l_,nc,sf,u_,c_,h_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in v))break e;v=v[z]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,T=!1,z={next:function(){if(!T&&v<u.length){var Q=v++;return{value:m(Q,u[Q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function E(u,m,v){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function A(u,m,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,A.apply(null,arguments)}function R(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function N(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(T,z,Q){for(var he=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)he[ct-2]=arguments[ct];return m.prototype[z].apply(T,he)}}function O(u){const m=u.length;if(0<m){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function M(u,m){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(p(T)){const z=u.length||0,Q=T.length||0;u.length=z+Q;for(let he=0;he<Q;he++)u[z+he]=T[he]}else u.push(T)}}class q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(u){return/^[\s\xa0]*$/.test(u)}function Z(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function ae(u){return ae[" "](u),u}ae[" "]=function(){};var U=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ce(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function x(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function I(u){const m={};for(const v in u)m[v]=u[v];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,m){let v,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(v in T)u[v]=T[v];for(let Q=0;Q<S.length;Q++)v=S[Q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function V(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function F(u){d.setTimeout(()=>{throw u},0)}function P(){var u=Ie;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class at{constructor(){this.h=this.g=null}add(m,v){const T=ze.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ze=new q(()=>new Et,u=>u.reset());class Et{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,le=!1,Ie=new at,de=()=>{const u=d.Promise.resolve(void 0);Be=()=>{u.then(j)}};var j=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(v){F(v)}var m=ze;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}le=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function Le(u,m){if(Ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(U){e:{try{ae(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:He[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Le.aa.h.call(this)}}N(Le,Ee);var He={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),et=0;function Ue(u,m,v,T,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=z,this.key=++et,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Wn(u){this.src=u,this.g={},this.h=0}Wn.prototype.add=function(u,m,v,T,z){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var he=rn(u,m,T,z);return-1<he?(m=u[he],v||(m.fa=!1)):(m=new Ue(m,this.src,Q,!!T,z),m.fa=v,u.push(m)),m};function ki(u,m){var v=m.type;if(v in u.g){var T=u.g[v],z=Array.prototype.indexOf.call(T,m,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(T,z,1),Q&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function rn(u,m,v,T){for(var z=0;z<u.length;++z){var Q=u[z];if(!Q.da&&Q.listener==m&&Q.capture==!!v&&Q.ha==T)return z}return-1}var Qr="closure_lm_"+(1e6*Math.random()|0),xi={};function Ni(u,m,v,T,z){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Ni(u,m[Q],v,T,z);return null}return v=En(v),u&&u[Ze]?u.K(m,v,y(T)?!!T.capture:!!T,z):As(u,m,v,!1,T,z)}function As(u,m,v,T,z,Q){if(!m)throw Error("Invalid event type");var he=y(z)?!!z.capture:!!z,ct=Yr(u);if(ct||(u[Qr]=ct=new Wn(u)),v=ct.add(m,v,T,he,Q),v.proxy)return v;if(T=co(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)be||(z=he),z===void 0&&(z=!1),u.addEventListener(m.toString(),T,z);else if(u.attachEvent)u.attachEvent(Wt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function co(){function u(v){return m.call(u.src,u.listener,v)}const m=rr;return u}function Di(u,m,v,T,z){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)Di(u,m[Q],v,T,z);else T=y(T)?!!T.capture:!!T,v=En(v),u&&u[Ze]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],v=rn(Q,v,T,z),-1<v&&(ft(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Yr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=rn(m,v,T,z)),(v=-1<u?m[u]:null)&&nr(v))}function nr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ze])ki(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Wt(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Yr(m))?(ki(v,u),v.h==0&&(v.src=null,m[Qr]=null)):ft(u)}}}function Wt(u){return u in xi?xi[u]:xi[u]="on"+u}function rr(u,m){if(u.da)u=!0;else{m=new Le(m,this);var v=u.listener,T=u.ha||u.src;u.fa&&nr(u),u=v.call(T,m)}return u}function Yr(u){return u=u[Qr],u instanceof Wn?u:null}var Rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(u){return typeof u=="function"?u:(u[Rr]||(u[Rr]=function(m){return u.handleEvent(m)}),u[Rr])}function ut(){X.call(this),this.i=new Wn(this),this.M=this,this.F=null}N(ut,X),ut.prototype[Ze]=!0,ut.prototype.removeEventListener=function(u,m,v,T){Di(this,u,m,v,T)};function St(u,m){var v,T=u.F;if(T)for(v=[];T;T=T.F)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new Ee(m,u);else if(m instanceof Ee)m.target=m.target||u;else{var z=m;m=new Ee(T,u),k(m,z)}if(z=!0,v)for(var Q=v.length-1;0<=Q;Q--){var he=m.g=v[Q];z=bn(he,T,!0,m)&&z}if(he=m.g=u,z=bn(he,T,!0,m)&&z,z=bn(he,T,!1,m)&&z,v)for(Q=0;Q<v.length;Q++)he=m.g=v[Q],z=bn(he,T,!1,m)&&z}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.F=null},ut.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ut.prototype.L=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function bn(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,Q=0;Q<m.length;++Q){var he=m[Q];if(he&&!he.da&&he.capture==v){var ct=he.listener,Vt=he.ha||he.src;he.fa&&ki(u.i,he),z=ct.call(Vt,T)!==!1&&z}}return z&&!T.defaultPrevented}function Ss(u,m,v){if(typeof u=="function")v&&(u=A(u,v));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function Gt(u){u.g=Ss(()=>{u.g=null,u.i&&(u.i=!1,Gt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Cr extends X{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Gt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(u){X.call(this),this.h=u,this.g={}}N(Pr,X);var Li=[];function Rs(u){ce(u.g,function(m,v){this.g.hasOwnProperty(v)&&nr(m)},u),u.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),Rs(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oi=d.JSON.stringify,kr=d.JSON.parse,Vi=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ir(){}ir.prototype.h=null;function bi(u){return u.h||(u.h=u.i())}function Xr(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mn(){Ee.call(this,"d")}N(Mn,Ee);function sr(){Ee.call(this,"c")}N(sr,Ee);var mn={},Cs=null;function Jr(){return Cs=Cs||new ut}mn.La="serverreachability";function L(u){Ee.call(this,mn.La,u)}N(L,Ee);function B(u){const m=Jr();St(m,new L(m))}mn.STAT_EVENT="statevent";function K(u,m){Ee.call(this,mn.STAT_EVENT,u),this.stat=m}N(K,Ee);function J(u){const m=Jr();St(m,new K(m,u))}mn.Ma="timingevent";function fe(u,m){Ee.call(this,mn.Ma,u),this.size=m}N(fe,Ee);function ve(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ce(){this.g=!0}Ce.prototype.xa=function(){this.g=!1};function pe(u,m,v,T,z,Q){u.info(function(){if(u.g)if(Q)for(var he="",ct=Q.split("&"),Vt=0;Vt<ct.length;Vt++){var Xe=ct[Vt].split("=");if(1<Xe.length){var jt=Xe[0];Xe=Xe[1];var Nt=jt.split("_");he=2<=Nt.length&&Nt[1]=="type"?he+(jt+"="+Xe+"&"):he+(jt+"=redacted&")}}else he=null;else he=Q;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+v+`
`+he})}function we(u,m,v,T,z,Q,he){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+v+`
`+Q+" "+he})}function ue(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fe(u,v)+(T?" "+T:"")})}function xe(u,m){u.info(function(){return"TIMEOUT: "+m})}Ce.prototype.info=function(){};function Fe(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var T=v[u];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var he=1;he<z.length;he++)z[he]=""}}}}return Oi(v)}catch{return m}}var it={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ge;function tt(){}N(tt,ir),tt.prototype.g=function(){return new XMLHttpRequest},tt.prototype.i=function(){return{}},Ge=new tt;function st(u,m,v,T){this.j=u,this.i=m,this.l=v,this.R=T||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new or}function or(){this.i=null,this.g="",this.h=!1}var ar={},sn={};function $t(u,m,v){u.L=1,u.v=ji(Un(m)),u.m=v,u.P=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),ot(u),u.A=Un(u.v);var v=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),zi(v.i,"t",T),u.C=0,v=u.j.J,u.h=new or,u.g=Kl(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Cr(A(u.Y,u,u.g),u.O)),m=u.U,v=u.g,T=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Li[0]=z.toString()),z=Li);for(var Q=0;Q<z.length;Q++){var he=Ni(v,z[Q],T||m.handleEvent,!1,m.h||m);if(!he)break;m.g[he.key]=he}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),B(),pe(u.i,u.u,u.A,u.l,u.R,u.m)}st.prototype.ca=function(u){u=u.target;const m=this.M;m&&Sn(u)==3?m.j():this.Y(u)},st.prototype.Y=function(u){try{if(u==this.g)e:{const Nt=Sn(this.g);var m=this.g.Ba();const $n=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Ia(this.g)))){this.J||Nt!=4||m==7||(m==8||0>=$n?B(3):B(2)),Ye(this);var v=this.g.Z();this.X=v;t:if(xr(this)){var T=Ia(this.g);u="";var z=T.length,Q=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),pt(this);var he="";break t}this.h.i=new d.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(Q&&m==z-1)});T.length=0,this.h.g+=u,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=v==200,we(this.i,this.u,this.A,this.l,this.R,Nt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,Vt=this.g;if((ct=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(ct)){var Xe=ct;break t}}Xe=null}if(v=Xe)ue(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ur(this,v);else{this.o=!1,this.s=3,J(12),Kt(this),pt(this);break e}}if(this.P){v=!0;let jn;for(;!this.J&&this.C<he.length;)if(jn=lr(this,he),jn==sn){Nt==4&&(this.s=4,J(14),v=!1),ue(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==ar){this.s=4,J(15),ue(this.i,this.l,he,"[Invalid Chunk]"),v=!1;break}else ue(this.i,this.l,jn,null),ur(this,jn);if(xr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||he.length!=0||this.h.h||(this.s=1,J(16),v=!1),this.o=this.o&&v,!v)ue(this.i,this.l,he,"[Invalid Chunked Response]"),Kt(this),pt(this);else if(0<he.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Sa(jt),jt.M=!0,J(11))}}else ue(this.i,this.l,he,null),ur(this,he);Nt==4&&Kt(this),this.o&&!this.J&&(Nt==4?Io(this.j,this):(this.o=!1,ot(this)))}else vo(this.g),v==400&&0<he.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),Kt(this),pt(this)}}}catch{}finally{}};function xr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function lr(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?sn:(v=Number(m.substring(v,T)),isNaN(v)?ar:(T+=1,T+v>m.length?sn:(m=m.slice(T,T+v),u.C=T+v,m)))}st.prototype.cancel=function(){this.J=!0,Kt(this)};function ot(u){u.S=Date.now()+u.I,ei(u,u.I)}function ei(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ve(A(u.ba,u),m)}function Ye(u){u.B&&(d.clearTimeout(u.B),u.B=null)}st.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(xe(this.i,this.A),this.L!=2&&(B(),J(17)),Kt(this),this.s=2,pt(this)):ei(this,this.S-u)};function pt(u){u.j.G==0||u.J||Io(u.j,u)}function Kt(u){Ye(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Rs(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ur(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||gn(v.h,u))){if(!u.K&&gn(v.h,u)&&v.G==3){try{var T=v.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)To(v),pr(v);else break e;Eo(v),J(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=ve(A(v.Za,v),6e3));if(1>=ho(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else si(v,11)}else if((u.K||v.g==u)&&To(v),!Y(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let Xe=z[m];if(v.T=Xe[0],Xe=Xe[1],v.G==2)if(Xe[0]=="c"){v.K=Xe[1],v.ia=Xe[2];const jt=Xe[3];jt!=null&&(v.la=jt,v.j.info("VER="+v.la));const Nt=Xe[4];Nt!=null&&(v.Aa=Nt,v.j.info("SVER="+v.Aa));const $n=Xe[5];$n!=null&&typeof $n=="number"&&0<$n&&(T=1.5*$n,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const jn=u.g;if(jn){const Ls=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var Q=T.h;Q.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(_a(Q,Q.h),Q.h=null))}if(T.D){const So=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(T.ya=So,ht(T.I,T.D,So))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var he=u;if(T.qa=$l(T,T.J?T.ia:null,T.W),he.K){Vl(T.h,he);var ct=he,Vt=T.L;Vt&&(ct.I=Vt),ct.B&&(Ye(ct),ot(ct)),T.g=he}else Ds(T);0<v.i.length&&Or(v)}else Xe[0]!="stop"&&Xe[0]!="close"||si(v,7);else v.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?si(v,7):Yt(v):Xe[0]!="noop"&&v.l&&v.l.ta(Xe),v.v=0)}}B(4)}catch{}}var mt=class{constructor(u,m){this.g=u,this.map=m}};function In(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ho(u){return u.h?1:u.g?u.g.size:0}function gn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _a(u,m){u.g?u.g.add(m):u.h=m}function Vl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}In.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return O(u.i)}function fo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,T=0;T<v;T++)m.push(u[T]);return m}m=[],v=0;for(T in u)m[v++]=u[T];return m}function po(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const T in u)m[v++]=T;return m}}}function Mi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=po(u),T=fo(u),z=T.length,Q=0;Q<z;Q++)m.call(void 0,T[Q],v&&v[Q],u)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var T=u[v].indexOf("="),z=null;if(0<=T){var Q=u[v].substring(0,T);z=u[v].substring(T+1)}else Q=u[v];m(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ti(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ti){this.h=u.h,ks(this,u.j),this.o=u.o,this.g=u.g,Ui(this,u.s),this.l=u.l;var m=u.i,v=new Nr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Fi(this,v),this.m=u.m}else u&&(m=String(u).match(Ps))?(this.h=!1,ks(this,m[1]||"",!0),this.o=$e(m[2]||""),this.g=$e(m[3]||"",!0),Ui(this,m[4]),this.l=$e(m[5]||"",!0),Fi(this,m[6]||"",!0),this.m=$e(m[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}ti.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Bi(m,mo,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Bi(m,mo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Bi(v,v.charAt(0)=="/"?Fl:Ul,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Bi(v,wa)),u.join("")};function Un(u){return new ti(u)}function ks(u,m,v){u.j=v?$e(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ui(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Fi(u,m,v){m instanceof Nr?(u.i=m,Dr(u.i,u.h)):(v||(m=Bi(m,jl)),u.i=new Nr(m,u.h))}function ht(u,m,v){u.i.set(m,v)}function ji(u){return ht(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function $e(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Bi(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Ml),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ml(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var mo=/[#\/\?@]/g,Ul=/[#\?:]/g,Fl=/[#\?]/g,jl=/[#\?@]/g,wa=/#/g;function Nr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Qt(u){u.g||(u.g=new Map,u.h=0,u.i&&sh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Nr.prototype,n.add=function(u,m){Qt(this),this.i=null,u=Gn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cr(u,m){Qt(u),m=Gn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function hr(u,m){return Qt(u),m=Gn(u,m),u.g.has(m)}n.forEach=function(u,m){Qt(this),this.g.forEach(function(v,T){v.forEach(function(z){u.call(m,z,T,this)},this)},this)},n.na=function(){Qt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let T=0;T<m.length;T++){const z=u[T];for(let Q=0;Q<z.length;Q++)v.push(m[T])}return v},n.V=function(u){Qt(this);let m=[];if(typeof u=="string")hr(this,u)&&(m=m.concat(this.g.get(Gn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Qt(this),this.i=null,u=Gn(this,u),hr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function zi(u,m,v){cr(u,m),0<v.length&&(u.i=null,u.g.set(Gn(u,m),O(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var T=m[v];const Q=encodeURIComponent(String(T)),he=this.V(T);for(T=0;T<he.length;T++){var z=Q;he[T]!==""&&(z+="="+encodeURIComponent(String(he[T]))),u.push(z)}}return this.i=u.join("&")};function Gn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Dr(u,m){m&&!u.j&&(Qt(u),u.i=null,u.g.forEach(function(v,T){var z=T.toLowerCase();T!=z&&(cr(this,T),zi(this,z,v))},u)),u.j=m}function oh(u,m){const v=new Ce;if(d.Image){const T=new Image;T.onload=R(An,v,"TestLoadImage: loaded",!0,m,T),T.onerror=R(An,v,"TestLoadImage: error",!1,m,T),T.onabort=R(An,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=R(An,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Bl(u,m){const v=new Ce,T=new AbortController,z=setTimeout(()=>{T.abort(),An(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(Q=>{clearTimeout(z),Q.ok?An(v,"TestPingServer: ok",!0,m):An(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),An(v,"TestPingServer: error",!1,m)})}function An(u,m,v,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(v)}catch{}}function ah(){this.g=new Vi}function zl(u,m,v){const T=v||"";try{Mi(u,function(z,Q){let he=z;y(z)&&(he=Oi(z)),m.push(T+Q+"="+encodeURIComponent(he))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function ni(u){this.l=u.Ub||null,this.j=u.eb||!1}N(ni,ir),ni.prototype.g=function(){return new xs(this.l,this.j)},ni.prototype.i=function(u){return function(){return u}}({});function xs(u,m){ut.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(xs,ut),n=xs.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,fr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?dr(this):fr(this),this.readyState==3&&Hl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,dr(this))},n.Qa=function(u){this.g&&(this.response=u,dr(this))},n.ga=function(){this.g&&dr(this)};function dr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,fr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function fr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ri(u){let m="";return ce(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Hi(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=ri(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):ht(u,m,v))}function _t(u){ut.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(_t,ut);var lh=/^https?$/i,Ea=["POST","PUT"];n=_t.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ge.g(),this.v=this.o?bi(this.o):bi(Ge),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){Ns(this,Q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)v.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Q of T.keys())v.set(Q,T.get(Q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ea,m,void 0))||T||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,he]of v)this.g.setRequestHeader(Q,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yo(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){Ns(this,Q)}};function Ns(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,go(u),Fn(u)}function go(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,St(this,"complete"),St(this,"abort"),Fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),_t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},n.bb=function(){Ta(this)};function Ta(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Sn(u)!=4||u.Z()!=2)){if(u.u&&Sn(u)==4)Ss(u.Ea,0,u);else if(St(u,"readystatechange"),Sn(u)==4){u.h=!1;try{const he=u.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=he===0){var z=String(u.D).match(Ps)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),T=!lh.test(z?z.toLowerCase():"")}v=T}if(v)St(u,"complete"),St(u,"success");else{u.m=6;try{var Q=2<Sn(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",go(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){yo(u);const v=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||St(u,"ready");try{v.onreadystatechange=T}catch{}}}function yo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Sn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),kr(m)}};function Ia(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vo(u){const m={};u=(u.g&&2<=Sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(Y(u[T]))continue;var v=V(u[T]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=m[z]||[];m[z]=Q,Q.push(v)}x(m,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Aa(u){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lr("baseRetryDelayMs",5e3,u),this.cb=Lr("retryDelaySeedMs",1e4,u),this.Wa=Lr("forwardChannelMaxRetries",2,u),this.wa=Lr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new In(u&&u.concurrentRequestLimit),this.Da=new ah,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Aa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,T){J(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=$l(this,null,this.W),Or(this)};function Yt(u){if(_o(u),u.G==3){var m=u.U++,v=Un(u.I);if(ht(v,"SID",u.K),ht(v,"RID",m),ht(v,"TYPE","terminate"),ii(u,v),m=new st(u,u.j,m),m.L=2,m.v=ji(Un(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=Kl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ot(m)}Gl(u)}function pr(u){u.g&&(Sa(u),u.g.cancel(),u.g=null)}function _o(u){pr(u),u.u&&(d.clearTimeout(u.u),u.u=null),To(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Or(u){if(!on(u.h)&&!u.s){u.s=!0;var m=u.Ga;Be||de(),le||(Be(),le=!0),Ie.add(m,u),u.B=0}}function uh(u,m){return ho(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ve(A(u.Ga,u,m),Wl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new st(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=I(Q),k(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=qi(this,z,m),v=Un(this.I),ht(v,"RID",u),ht(v,"CVER",22),this.D&&ht(v,"X-HTTP-Session-Id",this.D),ii(this,v),Q&&(this.O?m="headers="+encodeURIComponent(String(ri(Q)))+"&"+m:this.m&&Hi(v,this.m,Q)),_a(this.h,z),this.Ua&&ht(v,"TYPE","init"),this.P?(ht(v,"$req",m),ht(v,"SID","null"),z.T=!0,$t(z,v,null)):$t(z,v,m),this.G=2}}else this.G==3&&(u?wo(this,u):this.i.length==0||on(this.h)||wo(this))};function wo(u,m){var v;m?v=m.l:v=u.U++;const T=Un(u.I);ht(T,"SID",u.K),ht(T,"RID",v),ht(T,"AID",u.T),ii(u,T),u.m&&u.o&&Hi(T,u.m,u.o),v=new st(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=qi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),_a(u.h,v),$t(v,T,m)}function ii(u,m){u.H&&ce(u.H,function(v,T){ht(m,T,v)}),u.l&&Mi({},function(v,T){ht(m,T,v)})}function qi(u,m,v){v=Math.min(u.i.length,v);var T=u.l?A(u.l.Na,u.l,u):null;e:{var z=u.i;let Q=-1;for(;;){const he=["count="+v];Q==-1?0<v?(Q=z[0].g,he.push("ofs="+Q)):Q=0:he.push("ofs="+Q);let ct=!0;for(let Vt=0;Vt<v;Vt++){let Xe=z[Vt].g;const jt=z[Vt].map;if(Xe-=Q,0>Xe)Q=Math.max(0,z[Vt].g-100),ct=!1;else try{zl(jt,he,"req"+Xe+"_")}catch{T&&T(jt)}}if(ct){T=he.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,T}function Ds(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Be||de(),le||(Be(),le=!0),Ie.add(m,u),u.v=0}}function Eo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ve(A(u.Fa,u),Wl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,ql(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ve(A(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),pr(this),ql(this))};function Sa(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function ql(u){u.g=new st(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Un(u.qa);ht(m,"RID","rpc"),ht(m,"SID",u.K),ht(m,"AID",u.T),ht(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ht(m,"TO",u.ja),ht(m,"TYPE","xmlhttp"),ii(u,m),u.m&&u.o&&Hi(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=ji(Un(m)),v.m=null,v.P=!0,Zr(v,u)}n.Za=function(){this.C!=null&&(this.C=null,pr(this),Eo(this),J(19))};function To(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Io(u,m){var v=null;if(u.g==m){To(u),Sa(u),u.g=null;var T=2}else if(gn(u.h,m))v=m.D,Vl(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;T=Jr(),St(T,new fe(T,v)),Or(u)}else Ds(u);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&uh(u,m)||T==2&&Eo(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),z){case 1:si(u,5);break;case 4:si(u,10);break;case 3:si(u,6);break;default:si(u,2)}}}function Wl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function si(u,m){if(u.j.info("Error code "+m),m==2){var v=A(u.fb,u),T=u.Xa;const z=!T;T=new ti(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ks(T,"https"),ji(T),z?oh(T.toString(),v):Bl(T.toString(),v)}else J(2);u.G=0,u.l&&u.l.sa(m),Gl(u),_o(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function Gl(u){if(u.G=0,u.ka=[],u.l){const m=bl(u.h);(m.length!=0||u.i.length!=0)&&(M(u.ka,m),M(u.ka,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.ra()}}function $l(u,m,v){var T=v instanceof ti?Un(v):new ti(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ui(T,T.s);else{var z=d.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var Q=new ti(null);T&&ks(Q,T),m&&(Q.g=m),z&&Ui(Q,z),v&&(Q.l=v),T=Q}return v=u.D,m=u.ya,v&&m&&ht(T,v,m),ht(T,"VER",u.la),ii(u,T),T}function Kl(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new _t(new ni({eb:v})):new _t(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ra(){}n=Ra.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ao(){}Ao.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){ut.call(this),this.g=new Aa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Y(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Y(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vr(this)}N(yn,ut),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Yt(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Oi(u),u=v);m.i.push(new mt(m.Ya++,u)),m.G==3&&Or(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,yn.aa.N.call(this)};function Ql(u){Mn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}N(Ql,Mn);function Yl(){sr.call(this),this.status=1}N(Yl,sr);function Vr(u){this.g=u}N(Vr,Ra),Vr.prototype.ua=function(){St(this.g,"a")},Vr.prototype.ta=function(u){St(this.g,new Ql(u))},Vr.prototype.sa=function(u){St(this.g,new Yl)},Vr.prototype.ra=function(){St(this.g,"b")},Ao.prototype.createWebChannel=Ao.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,h_=function(){return new Ao},c_=function(){return Jr()},u_=mn,sf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},it.NO_ERROR=0,it.TIMEOUT=8,it.HTTP_ERROR=6,nc=it,Rt.COMPLETE="complete",l_=Rt,Xr.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,nl=Xr,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,a_=_t}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});const Ay="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new Vf("@firebase/firestore");function $o(){return no.logLevel}function ge(n,...e){if(no.logLevel<=qe.DEBUG){const t=e.map(Uf);no.debug(`Firestore (${fa}): ${n}`,...t)}}function Ai(n,...e){if(no.logLevel<=qe.ERROR){const t=e.map(Uf);no.error(`Firestore (${fa}): ${n}`,...t)}}function ra(n,...e){if(no.logLevel<=qe.WARN){const t=e.map(Uf);no.warn(`Firestore (${fa}): ${n}`,...t)}}function Uf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n="Unexpected state"){const e=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: `+n;throw Ai(e),new Error(e)}function lt(n,e){n||De()}function Me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Pi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class tS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nS{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){lt(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new _i,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new _i)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lt(typeof i.accessToken=="string"),new d_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string"),new dn(e)}}class rS{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class iS{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new rS(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){lt(this.o===void 0);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt(typeof t.token=="string"),this.R=t.token,new sS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=aS(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Ke(n,e){return n<e?-1:n>e?1:0}function ia(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ut(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Ut(0,0))}static max(){return new Ve(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(),i===void 0?i=e.length-t:i>e.length-t&&De(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return fl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),c=t.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vt extends fl{construct(e,t,i){return new vt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const lS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends fl{construct(e,t,i){return new en(e,t,i)}static isValidIdentifier(e){return lS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ye(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ye(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new ye(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(vt.fromString(e))}static fromName(e){return new Re(vt.fromString(e).popFirst(5))}static empty(){return new Re(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new vt(e.slice()))}}function uS(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(i===1e9?new Ut(t+1,0):new Ut(t,i));return new ys(o,Re.empty(),e)}function cS(n){return new ys(n.readTime,n.key,-1)}class ys{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ys(Ve.min(),Re.empty(),-1)}static max(){return new ys(Ve.max(),Re.empty(),-1)}}function hS(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==dS)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,i)=>{t(e)})}static reject(e){return new ee((t,i)=>{i(e)})}static waitFor(e){return new ee((t,i)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=ee.resolve(!1);for(const i of e)t=t.next(o=>o?ee.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new ee((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{c[y]=_,++d,d===l&&i(c)},_=>o(_))}})}static doWhile(e,t){return new ee((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function pS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ma(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Fc.oe=-1;function jc(n){return n==null}function _c(n){return n===0&&1/n==-1/0}function mS(n){return typeof n=="number"&&Number.isInteger(n)&&!_c(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Sy(e)),e=yS(n.get(t),e);return Sy(e)}function yS(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Sy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function oo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function p_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Zt.RED,this.left=o??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Zt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cy(this.data.getIterator())}getIteratorFrom(e){return new Cy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class Cy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Tr([])}unionWith(e){let t=new Ft(en.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new m_("Invalid base64 string: "+l):l}}(e);return new nn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const vS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(n){if(lt(!!n),typeof n=="string"){let e=0;const t=vS.exec(n);if(lt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:xt(n.seconds),nanos:xt(n.nanos)}}function xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _s(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Bc(n){const e=n.mapValue.fields.__previous_value__;return Ff(e)?Bc(e):e}function pl(n){const e=vs(n.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t,i,o,l,c,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}class ml{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ml("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ws(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ff(n)?4:ES(n)?9007199254740991:wS(n)?10:11:De()}function Gr(n,e){if(n===e)return!0;const t=ws(n);if(t!==ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pl(n).isEqual(pl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=vs(o.timestampValue),d=vs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return _s(o.bytesValue).isEqual(_s(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return xt(o.geoPointValue.latitude)===xt(l.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return xt(o.integerValue)===xt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=xt(o.doubleValue),d=xt(l.doubleValue);return c===d?_c(c)===_c(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return ia(n.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(Ry(c)!==Ry(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Gr(c[p],d[p])))return!1;return!0}(n,e);default:return De()}}function gl(n,e){return(n.values||[]).find(t=>Gr(t,e))!==void 0}function sa(n,e){if(n===e)return 0;const t=ws(n),i=ws(e);if(t!==i)return Ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=xt(l.integerValue||l.doubleValue),p=xt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Py(n.timestampValue,e.timestampValue);case 4:return Py(pl(n),pl(e));case 5:return Ke(n.stringValue,e.stringValue);case 6:return function(l,c){const d=_s(l),p=_s(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=Ke(d[y],p[y]);if(_!==0)return _}return Ke(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Ke(xt(l.latitude),xt(c.latitude));return d!==0?d:Ke(xt(l.longitude),xt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ky(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,y,_;const E=l.fields||{},A=c.fields||{},R=(d=E.value)===null||d===void 0?void 0:d.arrayValue,N=(p=A.value)===null||p===void 0?void 0:p.arrayValue,O=Ke(((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return O!==0?O:ky(R,N)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Ku.mapValue&&c===Ku.mapValue)return 0;if(l===Ku.mapValue)return 1;if(c===Ku.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),y=c.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const A=Ke(p[E],_[E]);if(A!==0)return A;const R=sa(d[p[E]],y[_[E]]);if(R!==0)return R}return Ke(p.length,_.length)}(n.mapValue,e.mapValue);default:throw De()}}function Py(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=vs(n),i=vs(e),o=Ke(t.seconds,i.seconds);return o!==0?o:Ke(t.nanos,i.nanos)}function ky(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=sa(t[o],i[o]);if(l)return l}return Ke(t.length,i.length)}function oa(n){return of(n)}function of(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=vs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _s(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=of(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${of(t.fields[c])}`;return o+"}"}(n.mapValue):De()}function rc(n){switch(ws(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bc(n);return e?16+rc(e):16;case 5:return 2*n.stringValue.length;case 6:return _s(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+rc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return oo(i.fields,(l,c)=>{o+=l.length+rc(c)}),o}(n.mapValue);default:throw De()}}function xy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function af(n){return!!n&&"integerValue"in n}function jf(n){return!!n&&"arrayValue"in n}function Ny(n){return!!n&&"nullValue"in n}function Dy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ic(n){return!!n&&"mapValue"in n}function wS(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ol(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return oo(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ol(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ol(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ES(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ic(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ol(t)}setAll(e){let t=en.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=ol(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());ic(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];ic(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){oo(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new tr(ol(this.value))}}function g_(n){const e=[];return oo(n.fields,(t,i)=>{const o=new en([t]);if(ic(i)){const l=g_(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,i,o,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new fn(e,0,Ve.min(),Ve.min(),Ve.min(),tr.empty(),0)}static newFoundDocument(e,t,i,o){return new fn(e,1,t,Ve.min(),i,o,0)}static newNoDocument(e,t){return new fn(e,2,t,Ve.min(),Ve.min(),tr.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,Ve.min(),Ve.min(),tr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t){this.position=e,this.inclusive=t}}function Ly(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=Re.comparator(Re.fromName(c.referenceValue),t.key):i=sa(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Oy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t="asc"){this.field=e,this.dir=t}}function TS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{}class Ot extends y_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new AS(e,t,i):t==="array-contains"?new CS(e,i):t==="in"?new PS(e,i):t==="not-in"?new kS(e,i):t==="array-contains-any"?new xS(e,i):new Ot(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new SS(e,i):new RS(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(sa(t,this.value)):t!==null&&ws(this.value)===ws(t)&&this.matchesComparison(sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends y_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Sr(e,t)}matches(e){return v_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function v_(n){return n.op==="and"}function __(n){return IS(n)&&v_(n)}function IS(n){for(const e of n.filters)if(e instanceof Sr)return!1;return!0}function lf(n){if(n instanceof Ot)return n.field.canonicalString()+n.op.toString()+oa(n.value);if(__(n))return n.filters.map(e=>lf(e)).join(",");{const e=n.filters.map(t=>lf(t)).join(",");return`${n.op}(${e})`}}function w_(n,e){return n instanceof Ot?function(i,o){return o instanceof Ot&&i.op===o.op&&i.field.isEqual(o.field)&&Gr(i.value,o.value)}(n,e):n instanceof Sr?function(i,o){return o instanceof Sr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,d)=>l&&w_(c,o.filters[d]),!0):!1}(n,e):void De()}function E_(n){return n instanceof Ot?function(t){return`${t.field.canonicalString()} ${t.op} ${oa(t.value)}`}(n):n instanceof Sr?function(t){return t.op.toString()+" {"+t.getFilters().map(E_).join(" ,")+"}"}(n):"Filter"}class AS extends Ot{constructor(e,t,i){super(e,t,i),this.key=Re.fromName(i.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class SS extends Ot{constructor(e,t){super(e,"in",t),this.keys=T_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class RS extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=T_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function T_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Re.fromName(i.referenceValue))}class CS extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jf(t)&&gl(t.arrayValue,this.value)}}class PS extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gl(this.value.arrayValue,t)}}class kS extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!gl(this.value.arrayValue,t)}}class xS extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>gl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,t=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function Vy(n,e=null,t=[],i=[],o=null,l=null,c=null){return new NS(n,e,t,i,o,l,c)}function Bf(n){const e=Me(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>lf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),jc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>oa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>oa(i)).join(",")),e.ue=t}return e.ue}function zf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!TS(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!w_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Oy(n.startAt,e.startAt)&&Oy(n.endAt,e.endAt)}function uf(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t=null,i=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function DS(n,e,t,i,o,l,c,d){return new ga(n,e,t,i,o,l,c,d)}function zc(n){return new ga(n)}function by(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function I_(n){return n.collectionGroup!==null}function al(n){const e=Me(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ft(en.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new yl(l,i))}),t.has(en.keyField().canonicalString())||e.ce.push(new yl(en.keyField(),i))}return e.ce}function Br(n){const e=Me(n);return e.le||(e.le=LS(e,al(n))),e.le}function LS(n,e){if(n.limitType==="F")return Vy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new yl(o.field,l)});const t=n.endAt?new wc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new wc(n.startAt.position,n.startAt.inclusive):null;return Vy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function cf(n,e){const t=n.filters.concat([e]);return new ga(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function hf(n,e,t){return new ga(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hc(n,e){return zf(Br(n),Br(e))&&n.limitType===e.limitType}function A_(n){return`${Bf(Br(n))}|lt:${n.limitType}`}function Ko(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>E_(o)).join(", ")}]`),jc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>oa(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>oa(o)).join(",")),`Target(${i})`}(Br(n))}; limitType=${n.limitType})`}function qc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Re.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of al(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const y=Ly(c,d,p);return c.inclusive?y<=0:y<0}(i.startAt,al(i),o)||i.endAt&&!function(c,d,p){const y=Ly(c,d,p);return c.inclusive?y>=0:y>0}(i.endAt,al(i),o))}(n,e)}function OS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function S_(n){return(e,t)=>{let i=!1;for(const o of al(n)){const l=VS(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function VS(n,e,t){const i=n.field.isKeyField()?Re.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),y=d.data.field(l);return p!==null&&y!==null?sa(p,y):De()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return p_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=new At(Re.comparator);function Si(){return bS}const R_=new At(Re.comparator);function rl(...n){let e=R_;for(const t of n)e=e.insert(t.key,t);return e}function C_(n){let e=R_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Qs(){return ll()}function P_(){return ll()}function ll(){return new ao(n=>n.toString(),(n,e)=>n.isEqual(e))}const MS=new At(Re.comparator),US=new Ft(Re.comparator);function We(...n){let e=US;for(const t of n)e=e.add(t);return e}const FS=new Ft(Ke);function jS(){return FS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function k_(n){return{integerValue:""+n}}function BS(n,e){return mS(e)?k_(e):Hf(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this._=void 0}}function zS(n,e,t){return n instanceof vl?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Ff(l)&&(l=Bc(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof _l?N_(n,e):n instanceof wl?D_(n,e):function(o,l){const c=x_(o,l),d=My(c)+My(o.Pe);return af(c)&&af(o.Pe)?k_(d):Hf(o.serializer,d)}(n,e)}function HS(n,e,t){return n instanceof _l?N_(n,e):n instanceof wl?D_(n,e):t}function x_(n,e){return n instanceof Ec?function(i){return af(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class vl extends Wc{}class _l extends Wc{constructor(e){super(),this.elements=e}}function N_(n,e){const t=L_(e);for(const i of n.elements)t.some(o=>Gr(o,i))||t.push(i);return{arrayValue:{values:t}}}class wl extends Wc{constructor(e){super(),this.elements=e}}function D_(n,e){let t=L_(e);for(const i of n.elements)t=t.filter(o=>!Gr(o,i));return{arrayValue:{values:t}}}class Ec extends Wc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function My(n){return xt(n.integerValue||n.doubleValue)}function L_(n){return jf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t){this.field=e,this.transform=t}}function WS(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof _l&&o instanceof _l||i instanceof wl&&o instanceof wl?ia(i.elements,o.elements,Gr):i instanceof Ec&&o instanceof Ec?Gr(i.Pe,o.Pe):i instanceof vl&&o instanceof vl}(n.transform,e.transform)}class GS{constructor(e,t){this.version=e,this.transformResults=t}}class wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Gc{}function O_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new b_(n.key,wi.none()):new Pl(n.key,n.data,wi.none());{const t=n.data,i=tr.empty();let o=new Ft(en.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new lo(n.key,i,new Tr(o.toArray()),wi.none())}}function $S(n,e,t){n instanceof Pl?function(o,l,c){const d=o.value.clone(),p=Fy(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof lo?function(o,l,c){if(!sc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Fy(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(V_(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function ul(n,e,t,i){return n instanceof Pl?function(l,c,d,p){if(!sc(l.precondition,c))return d;const y=l.value.clone(),_=jy(l.fieldTransforms,p,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof lo?function(l,c,d,p){if(!sc(l.precondition,c))return d;const y=jy(l.fieldTransforms,p,c),_=c.data;return _.setAll(V_(l)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(l,c,d){return sc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function KS(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=x_(i.transform,o||null);l!=null&&(t===null&&(t=tr.empty()),t.set(i.field,l))}return t||null}function Uy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ia(i,o,(l,c)=>WS(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pl extends Gc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class lo extends Gc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function V_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Fy(n,e,t){const i=new Map;lt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,HS(c,d,t[o]))}return i}function jy(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,zS(l,c,e))}return i}class b_ extends Gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QS extends Gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&$S(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ul(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ul(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=P_();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=O_(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ve.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(t,i)=>Uy(t,i))&&ia(this.baseMutations,e.baseMutations,(t,i)=>Uy(t,i))}}class qf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){lt(e.mutations.length===i.length);let o=function(){return MS}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new qf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Je;function ZS(n){switch(n){default:return De();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function M_(n){if(n===void 0)return Ai("GRPC error has no .code"),te.UNKNOWN;switch(n){case Lt.OK:return te.OK;case Lt.CANCELLED:return te.CANCELLED;case Lt.UNKNOWN:return te.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return te.INTERNAL;case Lt.UNAVAILABLE:return te.UNAVAILABLE;case Lt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Lt.NOT_FOUND:return te.NOT_FOUND;case Lt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Lt.ABORTED:return te.ABORTED;case Lt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Lt.DATA_LOSS:return te.DATA_LOSS;default:return De()}}(Je=Lt||(Lt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=new Xs([4294967295,4294967295],0);function By(n){const e=e1().encode(n),t=new o_;return t.update(e),new Uint8Array(t.digest())}function zy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Xs([t,i],0),new Xs([o,l],0)]}class Wf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new il(`Invalid padding: ${t}`);if(i<0)throw new il(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new il(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new il(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Xs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Xs.fromNumber(i)));return o.compare(t1)===1&&(o=new Xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=By(e),[i,o]=zy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Wf(l,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const t=By(e),[i,o]=zy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,kl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new $c(Ve.min(),o,new At(Ke),Si(),We())}}class kl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new kl(i,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class U_{constructor(e,t){this.targetId=e,this.me=t}}class F_{constructor(e,t,i=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Hy{constructor(){this.fe=0,this.ge=qy(),this.pe=nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=We(),t=We(),i=We();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:De()}}),new kl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=qy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,lt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class n1{constructor(e){this.Le=e,this.Be=new Map,this.ke=Si(),this.qe=Qu(),this.Qe=Qu(),this.Ke=new At(Ke)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:De()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(uf(l))if(i===0){const c=new Re(l.path);this.We(t,c,fn.newNoDocument(c,Ve.min()))}else lt(i===1);else{const c=this.Ze(t);if(c!==i){const d=this.Xe(e),p=d?this.et(d,e,c):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=_s(i).toUint8Array()}catch(p){if(p instanceof m_)return ra("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Wf(c,o,l)}catch(p){return ra(p instanceof il?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Le.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,c)=>{const d=this.Ye(c);if(d){if(l.current&&uf(d.target)){const p=new Re(d.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,fn.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let i=We();this.Qe.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new $c(e,t,this.Ke,this.ke,i);return this.ke=Si(),this.qe=Qu(),this.Qe=Qu(),this.Ke=new At(Ke),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Hy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Ft(Ke),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ft(Ke),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Hy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Qu(){return new At(Re.comparator)}function qy(){return new At(Re.comparator)}const r1={asc:"ASCENDING",desc:"DESCENDING"},i1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s1={and:"AND",or:"OR"};class o1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function df(n,e){return n.useProto3Json||jc(e)?e:{value:e}}function Tc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function a1(n,e){return Tc(n,e.toTimestamp())}function zr(n){return lt(!!n),Ve.fromTimestamp(function(t){const i=vs(t);return new Ut(i.seconds,i.nanos)}(n))}function Gf(n,e){return ff(n,e).canonicalString()}function ff(n,e){const t=function(o){return new vt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function B_(n){const e=vt.fromString(n);return lt(G_(e)),e}function pf(n,e){return Gf(n.databaseId,e.path)}function Hd(n,e){const t=B_(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(H_(t))}function z_(n,e){return Gf(n.databaseId,e)}function l1(n){const e=B_(n);return e.length===4?vt.emptyPath():H_(e)}function mf(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function H_(n){return lt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Wy(n,e,t){return{name:pf(n,e),fields:t.value.mapValue.fields}}function u1(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(lt(_===void 0||typeof _=="string"),nn.fromBase64String(_||"")):(lt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),nn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const _=y.code===void 0?te.UNKNOWN:M_(y.code);return new ye(_,y.message||"")}(c);t=new F_(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Hd(n,i.document.name),l=zr(i.document.updateTime),c=i.document.createTime?zr(i.document.createTime):Ve.min(),d=new tr({mapValue:{fields:i.document.fields}}),p=fn.newFoundDocument(o,l,c,d),y=i.targetIds||[],_=i.removedTargetIds||[];t=new oc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Hd(n,i.document),l=i.readTime?zr(i.readTime):Ve.min(),c=fn.newNoDocument(o,l),d=i.removedTargetIds||[];t=new oc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Hd(n,i.document),l=i.removedTargetIds||[];t=new oc([],l,o,null)}else{if(!("filter"in e))return De();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new JS(o,l),d=i.targetId;t=new U_(d,c)}}return t}function c1(n,e){let t;if(e instanceof Pl)t={update:Wy(n,e.key,e.value)};else if(e instanceof b_)t={delete:pf(n,e.key)};else if(e instanceof lo)t={update:Wy(n,e.key,e.data),updateMask:_1(e.fieldMask)};else{if(!(e instanceof QS))return De();t={verify:pf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof vl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof _l)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof wl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ec)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw De()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:a1(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:De()}(n,e.precondition)),t}function h1(n,e){return n&&n.length>0?(lt(e!==void 0),n.map(t=>function(o,l){let c=o.updateTime?zr(o.updateTime):zr(l);return c.isEqual(Ve.min())&&(c=zr(l)),new GS(c,o.transformResults||[])}(t,e))):[]}function d1(n,e){return{documents:[z_(n,e.path)]}}function f1(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=z_(n,o);const l=function(y){if(y.length!==0)return W_(Sr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(_=>function(A){return{field:Qo(A.field),direction:g1(A.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=df(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function p1(n){let e=l1(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){lt(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(E){const A=q_(E);return A instanceof Sr&&__(A)?A.getFilters():[A]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(A=>function(N){return new yl(Yo(N.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(A))}(t.orderBy));let d=null;t.limit&&(d=function(E){let A;return A=typeof E=="object"?E.value:E,jc(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(E){const A=!!E.before,R=E.values||[];return new wc(R,A)}(t.startAt));let y=null;return t.endAt&&(y=function(E){const A=!E.before,R=E.values||[];return new wc(R,A)}(t.endAt)),DS(e,o,c,l,d,"F",p,y)}function m1(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function q_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Yo(t.unaryFilter.field);return Ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Yo(t.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Yo(t.unaryFilter.field);return Ot.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Yo(t.unaryFilter.field);return Ot.create(c,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(n):n.fieldFilter!==void 0?function(t){return Ot.create(Yo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Sr.create(t.compositeFilter.filters.map(i=>q_(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De()}}(t.compositeFilter.op))}(n):De()}function g1(n){return r1[n]}function y1(n){return i1[n]}function v1(n){return s1[n]}function Qo(n){return{fieldPath:n.canonicalString()}}function Yo(n){return en.fromServerFormat(n.fieldPath)}function W_(n){return n instanceof Ot?function(t){if(t.op==="=="){if(Dy(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NAN"}};if(Ny(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Dy(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NAN"}};if(Ny(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(t.field),op:y1(t.op),value:t.value}}}(n):n instanceof Sr?function(t){const i=t.getFilters().map(o=>W_(o));return i.length===1?i[0]:{compositeFilter:{op:v1(t.op),filters:i}}}(n):De()}function _1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function G_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,t,i,o,l=Ve.min(),c=Ve.min(),d=nn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.ht=e}}function E1(n){const e=p1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.ln=new I1}addToCollectionParentIndex(e,t){return this.ln.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(ys.min())}updateCollectionGroup(e,t,i){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class I1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Ft(vt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ft(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(41943040,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new aa(0)}static Qn(){return new aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y([n,e],[t,i]){const o=Ke(n,t);return o===0?Ke(e,i):o}class A1{constructor(e){this.Gn=e,this.buffer=new Ft($y),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();$y(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class S1{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ma(t)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await pa(t)}await this.Yn(3e5)})}}class R1{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(Fc.oe);const i=new A1(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Gy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,c,d,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,d=Date.now(),this.removeTargets(e,i,t))).next(E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(y=Date.now(),$o()<=qe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E})))}}function C1(n,e){return new R1(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.changes=new ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ee.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&ul(i.mutation,o,Tr.empty(),Ut.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,We()).next(()=>i))}getLocalViewOfDocuments(e,t,i=We()){const o=Qs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=rl();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Qs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,We()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let l=Si();const c=ll(),d=function(){return ll()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof lo)?l=l.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),ul(_.mutation,y,_.mutation.getFieldMask(),Ut.now())):c.set(y.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>c.set(y,_)),t.forEach((y,_)=>{var E;return d.set(y,new k1(_,(E=c.get(y))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,t){const i=ll();let o=new At((c,d)=>c-d),l=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||Tr.empty();_=d.applyToLocalView(y,_),i.set(p,_);const E=(o.get(d.batchId)||We()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,E=P_();_.forEach(A=>{if(!l.has(A)){const R=O_(t.get(A),i.get(A));R!==null&&E.set(A,R),l=l.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ee.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):I_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):ee.resolve(Qs());let d=-1,p=l;return c.next(y=>ee.forEach(y,(_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(e,_).next(A=>{p=p.insert(_,A)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,We())).next(_=>({batchId:d,changes:C_(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(i=>{let o=rl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=rl();return this.indexManager.getCollectionParents(e,l).next(d=>ee.forEach(d,p=>{const y=function(E,A){return new ga(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((E,A)=>{c=c.insert(E,A)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,fn.newInvalidDocument(_)))});let d=rl();return c.forEach((p,y)=>{const _=l.get(p);_!==void 0&&ul(_.mutation,y,Tr.empty(),Ut.now()),qc(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ee.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:zr(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:E1(o.bundledQuery),readTime:zr(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.overlays=new At(Re.comparator),this.Er=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Qs();return ee.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),ee.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),ee.resolve()}getOverlaysForCollection(e,t,i){const o=Qs(),l=t.length+1,c=new Re(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new At((y,_)=>y-_);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=Qs(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=Qs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return ee.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new XS(t,i));let l=this.Er.get(t);l===void 0&&(l=We(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this.dr=new Ft(qt.Ar),this.Rr=new Ft(qt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new qt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new qt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Re(new vt([])),i=new qt(t,e),o=new qt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Re(new vt([])),i=new qt(t,e),o=new qt(t,e+1);let l=We();return this.Rr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new qt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class qt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Re.comparator(e.key,t.key)||Ke(e.br,t.br)}static Vr(e,t){return Ke(e.br,t.br)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Ft(qt.Ar)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new YS(l,t,i,o);this.mutationQueue.push(c);for(const d of o)this.vr=this.vr.add(new qt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,t){return ee.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new qt(t,0),o=new qt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],c=>{const d=this.Cr(c.br);l.push(d)}),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ft(Ke);return t.forEach(o=>{const l=new qt(o,0),c=new qt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],d=>{i=i.add(d.br)})}),ee.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Re.isDocumentKey(l)||(l=l.child(""));const c=new qt(new Re(l),0);let d=new Ft(Ke);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.br)),!0)},c),ee.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){lt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return ee.forEach(t.mutations,o=>{const l=new qt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new qt(t,0),o=this.vr.firstAfterOrEqual(i);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.Nr=e,this.docs=function(){return new At(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ee.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let i=Si();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():fn.newInvalidDocument(o))}),ee.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Si();const c=t.path,d=new Re(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||hS(cS(_),i)<=0||(o.has(_.key)||qc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,i,o){De()}Lr(e,t){return ee.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new b1(this)}getSize(e){return ee.resolve(this.size)}}class b1 extends P1{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),ee.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.persistence=e,this.Br=new ao(t=>Bf(t),zf),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.kr=0,this.qr=new $f,this.targetCount=0,this.Qr=aa.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),ee.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new aa(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Un(t),ee.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ee.waitFor(l).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return ee.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),ee.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return ee.resolve(i)}containsKey(e,t){return ee.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Fc(0),this.Ur=!1,this.Ur=!0,this.Wr=new L1,this.referenceDelegate=e(this),this.Gr=new M1(this),this.indexManager=new T1,this.remoteDocumentCache=function(o){return new V1(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new w1(t),this.jr=new N1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new D1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new O1(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const o=new U1(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return ee.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class U1 extends fS{constructor(e){super(),this.currentSequenceNumber=e}}class Kf{constructor(e){this.persistence=e,this.Zr=new $f,this.Xr=null}static ei(e){return new Kf(e)}get ti(){if(this.Xr)return this.Xr;throw De()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),ee.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ti,i=>{const o=Re.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ve.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ee.or([()=>ee.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Ic{constructor(e,t){this.persistence=e,this.ri=new ao(i=>gS(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=C1(this,t)}static ei(e,t){return new Ic(e,t)}Hr(){}Jr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return ee.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?ee.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Ve.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ee.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rc(e.data.value)),t}ir(e,t,i){return ee.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return ee.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=We(),o=We();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Qf(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return MI()?8:pS(pn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new F1;return this.ts(e,t,c).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,c,d.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?($o()<=qe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ee.resolve()):($o()<=qe.DEBUG&&ge("QueryEngine","Query:",Ko(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?($o()<=qe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(t))):ee.resolve())}Xi(e,t){if(by(t))return ee.resolve(null);let i=Br(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=hf(t,null,"F"),i=Br(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=We(...l);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,d);return this.ss(t,y,c,p.readTime)?this.Xi(e,hf(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return by(t)||o.isEqual(Ve.min())?ee.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const c=this.rs(t,l);return this.ss(t,c,i,o)?ee.resolve(null):($o()<=qe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ko(t)),this.os(e,c,t,uS(o,-1)).next(d=>d))})}rs(e,t){let i=new Ft(S_(e));return t.forEach((o,l)=>{qc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return $o()<=qe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Ko(t)),this.Zi.getDocumentsMatchingQuery(e,t,ys.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new At(Ke),this.cs=new ao(l=>Bf(l),zf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x1(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function z1(n,e,t,i){return new B1(n,e,t,i)}async function K_(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=We();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:d}))})})}function H1(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,y,_){const E=y.batch,A=E.keys();let R=ee.resolve();return A.forEach(N=>{R=R.next(()=>_.getEntry(p,N)).next(O=>{const M=y.docVersions.get(N);lt(M!==null),O.version.compareTo(M)<0&&(E.applyToRemoteDocument(O,y),O.isValidDocument()&&(O.setReadTime(y.commitVersion),_.addEntry(O)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=We();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function Q_(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function q1(n,e){const t=Me(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((_,E)=>{const A=o.get(E);if(!A)return;d.push(t.Gr.removeMatchingKeys(l,_.removedDocuments,E).next(()=>t.Gr.addMatchingKeys(l,_.addedDocuments,E)));let R=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(nn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,i)),o=o.insert(E,R),function(O,M,q){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(A,R,_)&&d.push(t.Gr.updateTargetData(l,R))});let p=Si(),y=We();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(W1(l,c,e.documentUpdates).next(_=>{p=_.Is,y=_.Es})),!i.isEqual(Ve.min())){const _=t.Gr.getLastRemoteSnapshotVersion(l).next(E=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return ee.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function W1(n,e,t){let i=We(),o=We();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Si();return t.forEach((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ve.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ge("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Is:c,Es:o}})}function G1(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function $1(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,ee.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new hs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function gf(n,e,t){const i=Me(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!ma(c))throw c;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Ky(n,e,t){const i=Me(n);let o=Ve.min(),l=We();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,_){const E=Me(p),A=E.cs.get(_);return A!==void 0?ee.resolve(E.us.get(A)):E.Gr.getTargetData(y,_)}(i,c,Br(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Ve.min(),t?l:We())).next(d=>(K1(i,OS(e),d),{documents:d,ds:l})))}function K1(n,e,t){let i=n.ls.get(e)||Ve.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class Qy{constructor(){this.activeTargetIds=jS()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q1{constructor(){this._o=new Qy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Qy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu=null;function qd(){return Yu===null?Yu=function(){return 268435456+Math.round(2147483648*Math.random())}():Yu++,"0x"+Yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class Z1 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,c){const d=qd(),p=this.No(t,i.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,c),this.Bo(t,p,y,o).then(_=>(ge("RestConnection",`Received RPC '${t}' ${d}: `,_),_),_=>{throw ra("RestConnection",`RPC '${t}' ${d} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,l,c,d){return this.Oo(t,i,o,l,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),o&&o.headers.forEach((l,c)=>t[c]=l)}No(t,i){const o=X1[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=qd();return new Promise((c,d)=>{const p=new a_;p.setWithCredentials(!0),p.listenOnce(l_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case nc.NO_ERROR:const _=p.getResponseJson();ge(hn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case nc.TIMEOUT:ge(hn,`RPC '${e}' ${l} timed out`),d(new ye(te.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:const E=p.getStatus();if(ge(hn,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const R=A==null?void 0:A.error;if(R&&R.status&&R.message){const N=function(M){const q=M.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(q)>=0?q:te.UNKNOWN}(R.status);d(new ye(N,R.message))}else d(new ye(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ye(te.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{ge(hn,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ge(hn,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=qd(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=h_(),d=c_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");ge(hn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const E=c.createWebChannel(_,p);let A=!1,R=!1;const N=new J1({Eo:M=>{R?ge(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(A||(ge(hn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),ge(hn,`RPC '${e}' stream ${o} sending:`,M),E.send(M))},Ao:()=>E.close()}),O=(M,q,Y)=>{M.listen(q,Z=>{try{Y(Z)}catch(ae){setTimeout(()=>{throw ae},0)}})};return O(E,nl.EventType.OPEN,()=>{R||(ge(hn,`RPC '${e}' stream ${o} transport opened.`),N.So())}),O(E,nl.EventType.CLOSE,()=>{R||(R=!0,ge(hn,`RPC '${e}' stream ${o} transport closed`),N.Do())}),O(E,nl.EventType.ERROR,M=>{R||(R=!0,ra(hn,`RPC '${e}' stream ${o} transport errored:`,M),N.Do(new ye(te.UNAVAILABLE,"The operation could not be completed")))}),O(E,nl.EventType.MESSAGE,M=>{var q;if(!R){const Y=M.data[0];lt(!!Y);const Z=Y,ae=(Z==null?void 0:Z.error)||((q=Z[0])===null||q===void 0?void 0:q.error);if(ae){ge(hn,`RPC '${e}' stream ${o} received error:`,ae);const U=ae.status;let ce=function(S){const k=Lt[S];if(k!==void 0)return M_(k)}(U),x=ae.message;ce===void 0&&(ce=te.INTERNAL,x="Unknown error status: "+U+" with message "+ae.message),R=!0,N.Do(new ye(ce,x)),E.close()}else ge(hn,`RPC '${e}' stream ${o} received:`,Y),N.vo(Y)}}),O(d,u_.STAT_EVENT,M=>{M.stat===sf.PROXY?ge(hn,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===sf.NOPROXY&&ge(hn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.bo()},0),N}}function Wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(n){return new o1(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,t,i,o,l,c,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Y_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ye(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eR extends X_{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=u1(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?zr(c.readTime):Ve.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=mf(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=uf(p)?{documents:d1(l,p)}:{query:f1(l,p).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=j_(l,c.resumeToken);const y=df(l,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Ve.min())>0){d.readTime=Tc(l,c.snapshotVersion.toTimestamp());const y=df(l,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=m1(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=mf(this.serializer),t.removeTarget=e,this.c_(t)}}class tR extends X_{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return lt(!!e.streamToken),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=h1(e.writeResults,e.commitTime),i=zr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=mf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>c1(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ye(te.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,ff(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(te.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,ff(t,i),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(te.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class rR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ai(t),this.C_=!1):ge("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{uo(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Me(p);y.k_.add(4),await xl(y),y.K_.set("Unknown"),y.k_.delete(4),await Qc(y)}(this))})}),this.K_=new rR(i,o)}}async function Qc(n){if(uo(n))for(const e of n.q_)await e(!0)}async function xl(n){for(const e of n.q_)await e(!1)}function J_(n,e){const t=Me(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Zf(t)?Jf(t):ya(t).s_()&&Xf(t,e))}function Yf(n,e){const t=Me(n),i=ya(t);t.B_.delete(e),i.s_()&&Z_(t,e),t.B_.size===0&&(i.s_()?i.a_():uo(t)&&t.K_.set("Unknown"))}function Xf(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ya(n).V_(e)}function Z_(n,e){n.U_.xe(e),ya(n).m_(e)}function Jf(n){n.U_=new n1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ya(n).start(),n.K_.F_()}function Zf(n){return uo(n)&&!ya(n).i_()&&n.B_.size>0}function uo(n){return Me(n).k_.size===0}function e0(n){n.U_=void 0}async function sR(n){n.K_.set("Online")}async function oR(n){n.B_.forEach((e,t)=>{Xf(n,e)})}async function aR(n,e){e0(n),Zf(n)?(n.K_.O_(e),Jf(n)):n.K_.set("Unknown")}async function lR(n,e,t){if(n.K_.set("Online"),e instanceof F_&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ac(n,i)}else if(e instanceof oc?n.U_.$e(e):e instanceof U_?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ve.min()))try{const i=await Q_(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.U_.it(c);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.B_.get(y);_&&l.B_.set(y,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,y)=>{const _=l.B_.get(p);if(!_)return;l.B_.set(p,_.withResumeToken(nn.EMPTY_BYTE_STRING,_.snapshotVersion)),Z_(l,p);const E=new hs(_.target,p,y,_.sequenceNumber);Xf(l,E)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ge("RemoteStore","Failed to raise snapshot:",i),await Ac(n,i)}}async function Ac(n,e,t){if(!ma(e))throw e;n.k_.add(1),await xl(n),n.K_.set("Offline"),t||(t=()=>Q_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Qc(n)})}function t0(n,e){return e().catch(t=>Ac(n,t,e))}async function Yc(n){const e=Me(n),t=Es(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;uR(e);)try{const o=await G1(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,cR(e,o)}catch(o){await Ac(e,o)}n0(e)&&r0(e)}function uR(n){return uo(n)&&n.L_.length<10}function cR(n,e){n.L_.push(e);const t=Es(n);t.s_()&&t.f_&&t.g_(e.mutations)}function n0(n){return uo(n)&&!Es(n).i_()&&n.L_.length>0}function r0(n){Es(n).start()}async function hR(n){Es(n).w_()}async function dR(n){const e=Es(n);for(const t of n.L_)e.g_(t.mutations)}async function fR(n,e,t){const i=n.L_.shift(),o=qf.from(i,e,t);await t0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Yc(n)}async function pR(n,e){e&&Es(n).f_&&await async function(i,o){if(function(c){return ZS(c)&&c!==te.ABORTED}(o.code)){const l=i.L_.shift();Es(i).__(),await t0(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Yc(i)}}(n,e),n0(n)&&r0(n)}async function Xy(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const i=uo(t);t.k_.add(3),await xl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Qc(t)}async function mR(n,e){const t=Me(n);e?(t.k_.delete(2),await Qc(t)):e||(t.k_.add(2),await xl(t),t.K_.set("Unknown"))}function ya(n){return n.W_||(n.W_=function(t,i,o){const l=Me(t);return l.b_(),new eR(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:sR.bind(null,n),mo:oR.bind(null,n),po:aR.bind(null,n),R_:lR.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Zf(n)?Jf(n):n.K_.set("Unknown")):(await n.W_.stop(),e0(n))})),n.W_}function Es(n){return n.G_||(n.G_=function(t,i,o){const l=Me(t);return l.b_(),new tR(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:hR.bind(null,n),po:pR.bind(null,n),p_:dR.bind(null,n),y_:fR.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Yc(n)):(await n.G_.stop(),n.L_.length>0&&(ge("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,d=new ep(e,t,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tp(n,e){if(Ai("AsyncQueue",`${e}: ${n}`),ma(n))return new ye(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static emptySet(e){return new Jo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Re.comparator(t.key,i.key):(t,i)=>Re.comparator(t.key,i.key),this.keyedMap=rl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Jo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.z_=new At(Re.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):De():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class la{constructor(e,t,i,o,l,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new la(e,t,Jo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class yR{constructor(){this.queries=Zy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Me(t),l=o.queries;o.queries=Zy(),l.forEach((c,d)=>{for(const p of d.J_)p.onError(i)})})(this,new ye(te.ABORTED,"Firestore shutting down"))}}function Zy(){return new ao(n=>A_(n),Hc)}async function np(n,e){const t=Me(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new gR,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=tp(c,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&ip(t)}async function rp(n,e){const t=Me(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function vR(n,e){const t=Me(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.J_)d.ta(o)&&(i=!0);c.H_=o}}i&&ip(t)}function _R(n,e,t){const i=Me(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function ip(n){n.X_.forEach(e=>{e.next()})}var yf,ev;(ev=yf||(yf={})).na="default",ev.Cache="cache";class sp{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new la(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=la.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==yf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this.key=e}}class s0{constructor(e){this.key=e}}class wR{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=We(),this.mutatedKeys=We(),this.Va=S_(e),this.ma=new Jo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new Jy,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,E)=>{const A=o.get(_),R=qc(this.query,E)?E:null,N=!!A&&this.mutatedKeys.has(A.key),O=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let M=!1;A&&R?A.data.isEqual(R.data)?N!==O&&(i.track({type:3,doc:R}),M=!0):this.ya(A,R)||(i.track({type:2,doc:R}),M=!0,(p&&this.Va(R,p)>0||y&&this.Va(R,y)<0)&&(d=!0)):!A&&R?(i.track({type:0,doc:R}),M=!0):A&&!R&&(i.track({type:1,doc:A}),M=!0,(p||y)&&(d=!0)),M&&(R?(c=c.add(R),l=O?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{ma:c,pa:i,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((_,E)=>function(R,N){const O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return O(R)-O(N)}(_.type,E.type)||this.Va(_.doc,E.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,c.length!==0||y?{snapshot:new la(this.query,e.ma,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Jy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=We(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new s0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new i0(i))}),t}va(e){this.da=e.ds,this.Ra=We();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return la.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class ER{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class TR{constructor(e){this.key=e,this.Fa=!1}}class IR{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new ao(d=>A_(d),Hc),this.Oa=new Map,this.Na=new Set,this.La=new At(Re.comparator),this.Ba=new Map,this.ka=new $f,this.qa={},this.Qa=new Map,this.Ka=aa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function AR(n,e,t=!0){const i=h0(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await o0(i,e,t,!0),o}async function SR(n,e){const t=h0(n);await o0(t,e,!0,!1)}async function o0(n,e,t,i){const o=await $1(n.localStore,Br(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await RR(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&J_(n.remoteStore,o),d}async function RR(n,e,t,i,o){n.Ua=(E,A,R)=>async function(O,M,q,Y){let Z=M.view.ga(q);Z.ss&&(Z=await Ky(O.localStore,M.query,!1).then(({documents:x})=>M.view.ga(x,Z)));const ae=Y&&Y.targetChanges.get(M.targetId),U=Y&&Y.targetMismatches.get(M.targetId)!=null,ce=M.view.applyChanges(Z,O.isPrimaryClient,ae,U);return nv(O,M.targetId,ce.ba),ce.snapshot}(n,E,A,R);const l=await Ky(n.localStore,e,!0),c=new wR(e,l.ds),d=c.ga(l.documents),p=kl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);nv(n,t,y.ba);const _=new ER(e,t,c);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function CR(n,e,t){const i=Me(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(c=>!Hc(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await gf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Yf(i.remoteStore,o.targetId),vf(i,o.targetId)}).catch(pa)):(vf(i,o.targetId),await gf(i.localStore,o.targetId,!0))}async function PR(n,e){const t=Me(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Yf(t.remoteStore,i.targetId))}async function kR(n,e,t){const i=bR(n);try{const o=await function(c,d){const p=Me(c),y=Ut.now(),_=d.reduce((R,N)=>R.add(N.key),We());let E,A;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let N=Si(),O=We();return p.hs.getEntries(R,_).next(M=>{N=M,N.forEach((q,Y)=>{Y.isValidDocument()||(O=O.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,N)).next(M=>{E=M;const q=[];for(const Y of d){const Z=KS(Y,E.get(Y.key).overlayedDocument);Z!=null&&q.push(new lo(Y.key,Z,g_(Z.value.mapValue),wi.exists(!0)))}return p.mutationQueue.addMutationBatch(R,y,q,d)}).next(M=>{A=M;const q=M.applyToLocalDocumentSet(E,O);return p.documentOverlayCache.saveOverlays(R,M.batchId,q)})}).then(()=>({batchId:A.batchId,changes:C_(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let y=c.qa[c.currentUser.toKey()];y||(y=new At(Ke)),y=y.insert(d,p),c.qa[c.currentUser.toKey()]=y}(i,o.batchId,t),await Nl(i,o.changes),await Yc(i.remoteStore)}catch(o){const l=tp(o,"Failed to persist write");t.reject(l)}}async function a0(n,e){const t=Me(n);try{const i=await q1(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ba.get(l);c&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?lt(c.Fa):o.removedDocuments.size>0&&(lt(c.Fa),c.Fa=!1))}),await Nl(t,i,e)}catch(i){await pa(i)}}function tv(n,e,t){const i=Me(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,c)=>{const d=c.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Me(c);p.onlineState=d;let y=!1;p.queries.forEach((_,E)=>{for(const A of E.J_)A.ea(d)&&(y=!0)}),y&&ip(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function xR(n,e,t){const i=Me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let c=new At(Re.comparator);c=c.insert(l,fn.newNoDocument(l,Ve.min()));const d=We().add(l),p=new $c(Ve.min(),new Map,new At(Ke),c,d);await a0(i,p),i.La=i.La.remove(l),i.Ba.delete(e),op(i)}else await gf(i.localStore,e,!1).then(()=>vf(i,e,t)).catch(pa)}async function NR(n,e){const t=Me(n),i=e.batch.batchId;try{const o=await H1(t.localStore,e);u0(t,i,null),l0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Nl(t,o)}catch(o){await pa(o)}}async function DR(n,e,t){const i=Me(n);try{const o=await function(c,d){const p=Me(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,d).next(E=>(lt(E!==null),_=E.keys(),p.mutationQueue.removeMutationBatch(y,E))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);u0(i,e,t),l0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Nl(i,o)}catch(o){await pa(o)}}function l0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function u0(n,e,t){const i=Me(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function vf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||c0(n,i)})}function c0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Yf(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),op(n))}function nv(n,e,t){for(const i of t)i instanceof i0?(n.ka.addReference(i.key,e),LR(n,i)):i instanceof s0?(ge("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||c0(n,i.key)):De()}function LR(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ge("SyncEngine","New document in limbo: "+t),n.Na.add(i),op(n))}function op(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Re(vt.fromString(e)),i=n.Ka.next();n.Ba.set(i,new TR(t)),n.La=n.La.insert(t,i),J_(n.remoteStore,new hs(Br(zc(t.path)),i,"TargetPurposeLimboResolution",Fc.oe))}}async function Nl(n,e,t){const i=Me(n),o=[],l=[],c=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{c.push(i.Ua(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const E=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Qf.zi(p.targetId,y);l.push(E)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,y){const _=Me(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ee.forEach(y,A=>ee.forEach(A.Wi,R=>_.persistence.referenceDelegate.addReference(E,A.targetId,R)).next(()=>ee.forEach(A.Gi,R=>_.persistence.referenceDelegate.removeReference(E,A.targetId,R)))))}catch(E){if(!ma(E))throw E;ge("LocalStore","Failed to update sequence numbers: "+E)}for(const E of y){const A=E.targetId;if(!E.fromCache){const R=_.us.get(A),N=R.snapshotVersion,O=R.withLastLimboFreeSnapshotVersion(N);_.us=_.us.insert(A,O)}}}(i.localStore,l))}async function OR(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const i=await K_(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(d=>{d.forEach(p=>{p.reject(new ye(te.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Nl(t,i.Ts)}}function VR(n,e){const t=Me(n),i=t.Ba.get(e);if(i&&i.Fa)return We().add(i.key);{let o=We();const l=t.Oa.get(e);if(!l)return o;for(const c of l){const d=t.xa.get(c);o=o.unionWith(d.view.fa)}return o}}function h0(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=a0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xR.bind(null,e),e.Ma.R_=vR.bind(null,e.eventManager),e.Ma.Wa=_R.bind(null,e.eventManager),e}function bR(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DR.bind(null,e),e}class Sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return z1(this.persistence,new j1,e.initialUser,this.serializer)}ja(e){return new $_(Kf.ei,this.serializer)}za(e){return new Q1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sc.provider={build:()=>new Sc};class MR extends Sc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){lt(this.persistence.referenceDelegate instanceof Ic);const i=this.persistence.referenceDelegate.garbageCollector;return new S1(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new $_(i=>Ic.ei(i,t),this.serializer)}}class _f{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=OR.bind(null,this.syncEngine),await mR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yR}()}createDatastore(e){const t=Kc(e.databaseInfo.databaseId),i=function(l){return new Z1(l)}(e.databaseInfo);return function(l,c,d,p){return new nR(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,d){return new iR(i,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>tv(this.syncEngine,t,0),function(){return Yy.p()?new Yy:new Y1}())}createSyncEngine(e,t){return function(o,l,c,d,p,y,_){const E=new IR(o,l,c,d,p,y);return _&&(E.$a=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Me(o);ge("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await xl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}_f.provider={build:()=>new _f};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=f_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ge("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=tp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Gd(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await K_(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function rv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await FR(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Xy(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Xy(e.remoteStore,o)),n._onlineComponents=e}async function FR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ra("Error using user provided cache. Falling back to memory cache: "+t),await Gd(n,new Sc)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Gd(n,new MR(void 0));return n._offlineComponents}async function d0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await rv(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await rv(n,new _f))),n._onlineComponents}function jR(n){return d0(n).then(e=>e.syncEngine)}async function Rc(n){const e=await d0(n),t=e.eventManager;return t.onListen=AR.bind(null,e.syncEngine),t.onUnlisten=CR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=PR.bind(null,e.syncEngine),t}function BR(n,e,t={}){const i=new _i;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,y){const _=new ap({next:A=>{_.eu(),c.enqueueAndForget(()=>rp(l,E));const R=A.docs.has(d);!R&&A.fromCache?y.reject(new ye(te.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&A.fromCache&&p&&p.source==="server"?y.reject(new ye(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),E=new sp(zc(d.path),_,{includeMetadataChanges:!0,ua:!0});return np(l,E)}(await Rc(n),n.asyncQueue,e,t,i)),i.promise}function zR(n,e,t={}){const i=new _i;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,y){const _=new ap({next:A=>{_.eu(),c.enqueueAndForget(()=>rp(l,E)),A.fromCache&&p.source==="server"?y.reject(new ye(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),E=new sp(d,_,{includeMetadataChanges:!0,ua:!0});return np(l,E)}(await Rc(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(n,e,t){if(!t)throw new ye(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HR(n,e,t,i){if(e===!0&&i===!0)throw new ye(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sv(n){if(!Re.isDocumentKey(n))throw new ye(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ov(n){if(Re.isDocumentKey(n))throw new ye(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De()}function Ei(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xc(n);throw new ye(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new eS;switch(i.type){case"firstParty":return new iS(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=iv.get(t);i&&(ge("ComponentProvider","Removing Datastore"),iv.delete(t),i.terminate())}(this),Promise.resolve()}}function qR(n,e,t,i={}){var o;const l=(n=Ei(n,Jc))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=dn.MOCK_USER;else{d=xI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ye(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new dn(y)}n._authCredentials=new tS(new d_(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Is(this.firestore,e,this._query)}}class On{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class ms extends Is{constructor(e,t,i){super(e,t,zc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new Re(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function Ln(n,e,...t){if(n=Vn(n),p0("collection","path",e),n instanceof Jc){const i=vt.fromString(e,...t);return ov(i),new ms(n,null,i)}{if(!(n instanceof On||n instanceof ms))throw new ye(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return ov(i),new ms(n.firestore,null,i)}}function El(n,e,...t){if(n=Vn(n),arguments.length===1&&(e=f_.newId()),p0("doc","path",e),n instanceof Jc){const i=vt.fromString(e,...t);return sv(i),new On(n,null,new Re(i))}{if(!(n instanceof On||n instanceof ms))throw new ye(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return sv(i),new On(n.firestore,n instanceof ms?n.converter:null,new Re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Y_(this,"async_queue_retry"),this.fu=()=>{const i=Wd();i&&ge("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Wd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Wd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new _i;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ma(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Ai("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=ep.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&De()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function uv(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1}(n,["next","error","complete"])}class ua extends Jc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new lv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lv(e),this._firestoreClient=void 0,await e}}}function WR(n,e){const t=typeof n=="object"?n:r_(),i=typeof n=="string"?n:"(default)",o=Mf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=PI("firestore");l&&qR(o,...l)}return o}function Zc(n){if(n._terminated)throw new ye(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||GR(n),n._firestoreClient}function GR(n){var e,t,i;const o=n._freezeSettings(),l=function(d,p,y,_){return new _S(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,f0(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new UR(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ca(nn.fromBase64String(e))}catch(t){throw new ye(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ca(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=/^__.*__$/;class KR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new lo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pl(e,this.data,t,this.fieldTransforms)}}function m0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class dp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new dp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Cc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(m0(this.Mu)&&$R.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class QR{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Kc(e)}$u(e,t,i,o=!1){return new dp({Mu:e,methodName:t,Ku:i,path:en.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function g0(n){const e=n._freezeSettings(),t=Kc(n._databaseId);return new QR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function YR(n,e,t,i,o,l={}){const c=n.$u(l.merge||l.mergeFields?2:0,e,t,o);_0("Data must be an object, but it was:",c,i);const d=y0(i,c);let p,y;if(l.merge)p=new Tr(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const A=JR(e,E,t);if(!c.contains(A))throw new ye(te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);eC(_,A)||_.push(A)}p=new Tr(_),y=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=c.fieldTransforms;return new KR(new tr(d),p,y)}class fp extends up{_toFieldTransform(e){return new qS(e.path,new vl)}isEqual(e){return e instanceof fp}}function XR(n,e,t,i=!1){return pp(t,n.$u(i?4:3,e))}function pp(n,e){if(v0(n=Vn(n)))return _0("Unsupported field value:",e,n),y0(n,e);if(n instanceof up)return function(i,o){if(!m0(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const d of i){let p=pp(d,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=Vn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return BS(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ut.fromDate(i);return{timestampValue:Tc(o.serializer,l)}}if(i instanceof Ut){const l=new Ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Tc(o.serializer,l)}}if(i instanceof cp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ca)return{bytesValue:j_(o.serializer,i._byteString)};if(i instanceof On){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Gf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof hp)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return Hf(d.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Xc(i)}`)}(n,e)}function y0(n,e){const t={};return p_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(n,(i,o)=>{const l=pp(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function v0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ut||n instanceof cp||n instanceof ca||n instanceof On||n instanceof up||n instanceof hp)}function _0(n,e,t){if(!v0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Xc(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function JR(n,e,t){if((e=Vn(e))instanceof lp)return e._internalPath;if(typeof e=="string")return w0(n,e);throw Cc("Field path arguments must be of type string or ",n,!1,void 0,t)}const ZR=new RegExp("[~\\*/\\[\\]]");function w0(n,e,t){if(e.search(ZR)>=0)throw Cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lp(...e.split("."))._internalPath}catch{throw Cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Cc(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ye(te.INVALID_ARGUMENT,d+n+p)}function eC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tC extends E0{data(){return super.data()}}function eh(n,e){return typeof e=="string"?w0(n,e):e instanceof lp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mp{}class I0 extends mp{}function Hr(n,e,...t){let i=[];e instanceof mp&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof gp).length,d=l.filter(p=>p instanceof th).length;if(c>1||c>0&&d>0)throw new ye(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class th extends I0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new th(e,t,i)}_apply(e){const t=this._parse(e);return A0(e._query,t),new Is(e.firestore,e.converter,cf(e._query,t))}_parse(e){const t=g0(e.firestore);return function(l,c,d,p,y,_,E){let A;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ye(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){hv(E,_);const R=[];for(const N of E)R.push(cv(p,l,N));A={arrayValue:{values:R}}}else A=cv(p,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||hv(E,_),A=XR(d,c,E,_==="in"||_==="not-in");return Ot.create(y,_,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ti(n,e,t){const i=e,o=eh("where",n);return th._create(o,i,t)}class gp extends mp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Sr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)A0(c,p),c=cf(c,p)}(e._query,t),new Is(e.firestore,e.converter,cf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yp extends I0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yp(e,t)}_apply(e){const t=function(o,l,c){if(o.startAt!==null)throw new ye(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ye(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yl(l,c)}(e._query,this._field,this._direction);return new Is(e.firestore,e.converter,function(o,l){const c=o.explicitOrderBy.concat([l]);return new ga(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function nC(n,e="asc"){const t=e,i=eh("orderBy",n);return yp._create(i,t)}function cv(n,e,t){if(typeof(t=Vn(t))=="string"){if(t==="")throw new ye(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I_(e)&&t.indexOf("/")!==-1)throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(vt.fromString(t));if(!Re.isDocumentKey(i))throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return xy(n,new Re(i))}if(t instanceof On)return xy(n,t._key);throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xc(t)}.`)}function hv(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A0(n,e){const t=function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class rC{convertValue(e,t="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return oo(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>xt(c.doubleValue));return new hp(l)}convertGeoPoint(e){return new cp(xt(e.latitude),xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Bc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(pl(e));default:return null}}convertTimestamp(e){const t=vs(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=vt.fromString(e);lt(G_(i));const o=new ml(i.get(1),i.get(3)),l=new Re(i.popFirst(5));return o.isEqual(t)||Ai(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class S0 extends E0{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(eh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class ac extends S0{data(e={}){return super.data(e)}}class R0{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new sl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new ac(this._firestore,this._userDataWriter,i.key,i,new sl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new ac(o._firestore,o._userDataWriter,d.doc.key,d.doc,new sl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new ac(o._firestore,o._userDataWriter,d.doc.key,d.doc,new sl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:sC(d.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(n){n=Ei(n,On);const e=Ei(n.firestore,ua);return BR(Zc(e),n._key).then(t=>P0(e,n,t))}class vp extends rC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}function qr(n){n=Ei(n,Is);const e=Ei(n.firestore,ua),t=Zc(e),i=new vp(e);return T0(n._query),zR(t,n._query).then(o=>new R0(e,i,n,o))}function Js(n,e){const t=Ei(n.firestore,ua),i=El(n),o=iC(n.converter,e);return aC(t,[YR(g0(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,wi.exists(!1))]).then(()=>i)}function oC(n,...e){var t,i,o;n=Vn(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||uv(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(uv(e[c])){const E=e[c];e[c]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[c+1]=(i=E.error)===null||i===void 0?void 0:i.bind(E),e[c+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let p,y,_;if(n instanceof On)y=Ei(n.firestore,ua),_=zc(n._key.path),p={next:E=>{e[c]&&e[c](P0(y,n,E))},error:e[c+1],complete:e[c+2]};else{const E=Ei(n,Is);y=Ei(E.firestore,ua),_=E._query;const A=new vp(y);p={next:R=>{e[c]&&e[c](new R0(y,A,E,R))},error:e[c+1],complete:e[c+2]},T0(n._query)}return function(A,R,N,O){const M=new ap(O),q=new sp(R,M,N);return A.asyncQueue.enqueueAndForget(async()=>np(await Rc(A),q)),()=>{M.eu(),A.asyncQueue.enqueueAndForget(async()=>rp(await Rc(A),q))}}(Zc(y),_,d,p)}function aC(n,e){return function(i,o){const l=new _i;return i.asyncQueue.enqueueAndForget(async()=>kR(await jR(i),o,l)),l.promise}(Zc(n),e)}function P0(n,e,t){const i=t.docs.get(e._key),o=new vp(n);return new S0(n,o,e._key,i,new sl(t.hasPendingWrites,t.fromCache),e.converter)}function Zs(){return new fp("serverTimestamp")}(function(e,t=!0){(function(o){fa=o})(da),na(new to("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new ua(new nS(i.getProvider("auth-internal")),new oS(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ye(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ml(y.options.projectId,_)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),ps(Ay,"4.7.5",e),ps(Ay,"4.7.5","esm2017")})();const lC="/ClassSpace/assets/Logo-jUKUXq73.png";var uC="firebase",cC="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(uC,cC,"app");function _p(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function k0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hC=k0,x0=new Rl("auth","Firebase",k0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Vf("@firebase/auth");function dC(n,...e){Pc.logLevel<=qe.WARN&&Pc.warn(`Auth (${da}): ${n}`,...e)}function lc(n,...e){Pc.logLevel<=qe.ERROR&&Pc.error(`Auth (${da}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(n,...e){throw Ep(n,...e)}function Ir(n,...e){return Ep(n,...e)}function wp(n,e,t){const i=Object.assign(Object.assign({},hC()),{[e]:t});return new Rl("auth","Firebase",i).create(e,{appName:n.name})}function eo(n){return wp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fC(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&$r(n,"argument-error"),wp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ep(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return x0.create(n,...e)}function Oe(n,e,...t){if(!n)throw Ep(e,...t)}function gi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lc(e),new Error(e)}function Ri(n,e){n||gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function pC(){return dv()==="http:"||dv()==="https:"}function dv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pC()||OI()||"connection"in navigator)?navigator.onLine:!0}function gC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ri(t>e,"Short delay should be less than long delay!"),this.isMobile=NI()||VI()}get(){return mC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(n,e){Ri(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new Dl(3e4,6e4);function Ip(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function va(n,e,t,i,o={}){return D0(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Cl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return LI()||(y.referrerPolicy="no-referrer"),N0.fetch()(L0(n,n.config.apiHost,t,d),y)})}async function D0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},yC),e);try{const o=new wC(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Xu(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xu(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Xu(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Xu(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw wp(n,_,y);$r(n,_)}}catch(o){if(o instanceof Pi)throw o;$r(n,"network-request-failed",{message:String(o)})}}async function _C(n,e,t,i,o={}){const l=await va(n,e,t,i,o);return"mfaPendingCredential"in l&&$r(n,"multi-factor-auth-required",{_serverResponse:l}),l}function L0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Tp(n.config,o):`${n.config.apiScheme}://${o}`}class wC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ir(this.auth,"network-request-failed")),vC.get())})}}function Xu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Ir(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(n,e){return va(n,"POST","/v1/accounts:delete",e)}async function O0(n,e){return va(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TC(n,e=!1){const t=Vn(n),i=await t.getIdToken(e),o=Ap(i);Oe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:cl($d(o.auth_time)),issuedAtTime:cl($d(o.iat)),expirationTime:cl($d(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function $d(n){return Number(n)*1e3}function Ap(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return lc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Yv(t);return o?JSON.parse(o):(lc("Failed to decode base64 JWT payload"),null)}catch(o){return lc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function fv(n){const e=Ap(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Pi&&IC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function IC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cl(this.lastLoginAt),this.creationTime=cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Tl(n,O0(t,{idToken:i}));Oe(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?V0(l.providerUserInfo):[],d=RC(n.providerData,c),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Ef(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function SC(n){const e=Vn(n);await kc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RC(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function V0(n){return n.map(e=>{var{providerId:t}=e,i=_p(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(n,e){const t=await D0(n,{},async()=>{const i=Cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=L0(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",N0.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function PC(n,e){return va(n,"POST","/v2/accounts:revokeToken",Ip(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=fv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await CC(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new Zo;return i&&(Oe(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Oe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Oe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class yi{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=_p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ef(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Tl(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TC(this,e)}reload(){return SC(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await kc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mi(this.auth.app))return Promise.reject(eo(this.auth));const e=await this.getIdToken();return await Tl(this,EC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,d,p,y,_;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,N=(c=t.photoURL)!==null&&c!==void 0?c:void 0,O=(d=t.tenantId)!==null&&d!==void 0?d:void 0,M=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,q=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Y=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Z,emailVerified:ae,isAnonymous:U,providerData:ce,stsTokenManager:x}=t;Oe(Z&&x,e,"internal-error");const I=Zo.fromJSON(this.name,x);Oe(typeof Z=="string",e,"internal-error"),ss(E,e.name),ss(A,e.name),Oe(typeof ae=="boolean",e,"internal-error"),Oe(typeof U=="boolean",e,"internal-error"),ss(R,e.name),ss(N,e.name),ss(O,e.name),ss(M,e.name),ss(q,e.name),ss(Y,e.name);const S=new yi({uid:Z,auth:e,email:A,emailVerified:ae,displayName:E,isAnonymous:U,photoURL:N,phoneNumber:R,tenantId:O,stsTokenManager:I,createdAt:q,lastLoginAt:Y});return ce&&Array.isArray(ce)&&(S.providerData=ce.map(k=>Object.assign({},k))),M&&(S._redirectEventId=M),S}static async _fromIdTokenResponse(e,t,i=!1){const o=new Zo;o.updateFromServerResponse(t);const l=new yi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await kc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Oe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?V0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Zo;d.updateFromIdToken(i);const p=new yi({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Ef(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;function vi(n){Ri(n instanceof Function,"Expected a class definition");let e=pv.get(n);return e?(Ri(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,pv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}b0.type="NONE";const mv=b0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(n,e,t){return`firebase:${n}:${e}:${t}`}class ea{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=uc(this.userKey,o.apiKey,l),this.fullPersistenceKey=uc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ea(vi(mv),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||vi(mv);const c=uc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(c);if(_){const E=yi._fromJSON(e,_);y!==l&&(d=E),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new ea(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new ea(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z0(e))return"Blackberry";if(H0(e))return"Webos";if(U0(e))return"Safari";if((e.includes("chrome/")||F0(e))&&!e.includes("edge/"))return"Chrome";if(B0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function M0(n=pn()){return/firefox\//i.test(n)}function U0(n=pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F0(n=pn()){return/crios\//i.test(n)}function j0(n=pn()){return/iemobile/i.test(n)}function B0(n=pn()){return/android/i.test(n)}function z0(n=pn()){return/blackberry/i.test(n)}function H0(n=pn()){return/webos/i.test(n)}function Sp(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kC(n=pn()){var e;return Sp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xC(){return bI()&&document.documentMode===10}function q0(n=pn()){return Sp(n)||B0(n)||H0(n)||z0(n)||/windows phone/i.test(n)||j0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(n,e=[]){let t;switch(n){case"Browser":t=gv(pn());break;case"Worker":t=`${gv(pn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${da}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(n,e={}){return va(n,"GET","/v2/passwordPolicy",Ip(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=6;class OC{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:LC,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yv(this),this.idTokenSubscription=new yv(this),this.beforeStateQueue=new NC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await O0(this,{idToken:e}),i=await yi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(mi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mi(this.app))return Promise.reject(eo(this));const t=e?Vn(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mi(this.app)?Promise.reject(eo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mi(this.app)?Promise.reject(eo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DC(this),t=new OC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await PC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vi(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[vi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=W0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&dC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function nh(n){return Vn(n)}class yv{constructor(e){this.auth=e,this.observer=null,this.addObserver=qI(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bC(n){Rp=n}function MC(n){return Rp.loadJS(n)}function UC(){return Rp.gapiScript}function FC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(n,e){const t=Mf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(yc(l,e??{}))return o;$r(o,"already-initialized")}return t.initialize({options:e})}function BC(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(vi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function zC(n,e,t){const i=nh(n);Oe(i._canInitEmulator,i,"emulator-config-failed"),Oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=G0(e),{host:c,port:d}=HC(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),qC()}function G0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function HC(n){const e=G0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:vv(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:vv(c)}}}function vv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function qC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,t){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(n,e){return _C(n,"POST","/v1/accounts:signInWithIdp",Ip(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="http://localhost";class ro extends $0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=_p(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new ro(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ta(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ta(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ta(e,t)}buildRequest(){const e={requestUri:WC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Cp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Ll{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ro._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return pi.credential(t,i)}catch{return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com";pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Ll{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Ll{constructor(){super("twitter.com")}static credential(e,t){return ro._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return cs.credential(t,i)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await yi._fromIdTokenResponse(e,i,o),c=_v(i);return new ha({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=_v(i);return new ha({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function _v(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends Pi{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,xc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new xc(e,t,i,o)}}function K0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?xc._fromErrorAndOperation(n,l,e,i):l})}async function GC(n,e,t=!1){const i=await Tl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ha._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(n,e,t=!1){const{auth:i}=n;if(mi(i.app))return Promise.reject(eo(i));const o="reauthenticate";try{const l=await Tl(n,K0(i,o,e,n),t);Oe(l.idToken,i,"internal-error");const c=Ap(l.idToken);Oe(c,i,"internal-error");const{sub:d}=c;return Oe(n.uid===d,i,"user-mismatch"),ha._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&$r(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(n,e,t=!1){if(mi(n.app))return Promise.reject(eo(n));const i="signIn",o=await K0(n,i,e),l=await ha._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function QC(n,e,t,i){return Vn(n).onIdTokenChanged(e,t,i)}function YC(n,e,t){return Vn(n).beforeAuthStateChanged(e,t)}function XC(n,e,t,i){return Vn(n).onAuthStateChanged(e,t,i)}const Nc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nc,"1"),this.storage.removeItem(Nc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=1e3,ZC=10;class Y0 extends Q0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);xC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ZC):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},JC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y0.type="LOCAL";const eP=Y0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends Q0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}X0.type="SESSION";const J0=X0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new rh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,l)),p=await tP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const y=Pp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(A.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function rP(n){Wr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function iP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function oP(){return Z0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="firebaseLocalStorageDb",aP=1,Dc="firebaseLocalStorage",tw="fbase_key";class Ol{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ih(n,e){return n.transaction([Dc],e?"readwrite":"readonly").objectStore(Dc)}function lP(){const n=indexedDB.deleteDatabase(ew);return new Ol(n).toPromise()}function Tf(){const n=indexedDB.open(ew,aP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Dc,{keyPath:tw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Dc)?e(i):(i.close(),await lP(),e(await Tf()))})})}async function wv(n,e,t){const i=ih(n,!0).put({[tw]:e,value:t});return new Ol(i).toPromise()}async function uP(n,e){const t=ih(n,!1).get(e),i=await new Ol(t).toPromise();return i===void 0?null:i.value}function Ev(n,e){const t=ih(n,!0).delete(e);return new Ol(t).toPromise()}const cP=800,hP=3;class nw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>hP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance(oP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await iP(),!this.activeServiceWorker)return;this.sender=new nP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tf();return await wv(e,Nc,"1"),await Ev(e,Nc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>wv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>uP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ev(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=ih(o,!1).getAll();return new Ol(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nw.type="LOCAL";const dP=nw;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(n,e){return e?vi(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends $0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ta(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fP(n){return KC(n.auth,new kp(n),n.bypassAuthState)}function pP(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),$C(t,new kp(n),n.bypassAuthState)}async function mP(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),GC(t,new kp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fP;case"linkViaPopup":case"linkViaRedirect":return mP;case"reauthViaPopup":case"reauthViaRedirect":return pP;default:$r(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new Dl(2e3,1e4);async function yP(n,e,t){if(mi(n.app))return Promise.reject(Ir(n,"operation-not-supported-in-this-environment"));const i=nh(n);fC(n,e,Cp);const o=rw(i,t);return new Ys(i,"signInViaPopup",e,o).executeNotNull()}class Ys extends iw{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Ys.currentPopupAction&&Ys.currentPopupAction.cancel(),Ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=Pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gP.get())};e()}}Ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="pendingRedirect",cc=new Map;class _P extends iw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=cc.get(this.auth._key());if(!e){try{const i=await wP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}cc.set(this.auth._key(),e)}return this.bypassAuthState||cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wP(n,e){const t=IP(e),i=TP(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function EP(n,e){cc.set(n._key(),e)}function TP(n){return vi(n._redirectPersistence)}function IP(n){return uc(vP,n.config.apiKey,n.name)}async function AP(n,e,t=!1){if(mi(n.app))return Promise.reject(eo(n));const i=nh(n),o=rw(i,e),c=await new _P(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=10*60*1e3;class RP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!sw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ir(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tv(e))}saveEventToCache(e){this.cachedEventUids.add(Tv(e)),this.lastProcessedEventTime=Date.now()}}function Tv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function sw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(n,e={}){return va(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xP=/^https?/;async function NP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await PP(n);for(const t of e)try{if(DP(t))return}catch{}$r(n,"unauthorized-domain")}function DP(n){const e=wf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!xP.test(t))return!1;if(kP.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new Dl(3e4,6e4);function Iv(){const n=Wr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function OP(n){return new Promise((e,t)=>{var i,o,l;function c(){Iv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Iv(),t(Ir(n,"network-request-failed"))},timeout:LP.get()})}if(!((o=(i=Wr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Wr().gapi)===null||l===void 0)&&l.load)c();else{const d=FC("iframefcb");return Wr()[d]=()=>{gapi.load?c():t(Ir(n,"network-request-failed"))},MC(`${UC()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw hc=null,e})}let hc=null;function VP(n){return hc=hc||OP(n),hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Dl(5e3,15e3),MP="__/auth/iframe",UP="emulator/auth/iframe",FP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BP(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Tp(e,UP):`https://${n.config.authDomain}/${MP}`,i={apiKey:e.apiKey,appName:n.name,v:da},o=jP.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Cl(i).slice(1)}`}async function zP(n){const e=await VP(n),t=Wr().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:BP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FP,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ir(n,"network-request-failed"),d=Wr().setTimeout(()=>{l(c)},bP.get());function p(){Wr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qP=500,WP=600,GP="_blank",$P="http://localhost";class Av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KP(n,e,t,i=qP,o=WP){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},HP),{width:i.toString(),height:o.toString(),top:l,left:c}),y=pn().toLowerCase();t&&(d=F0(y)?GP:t),M0(y)&&(e=e||$P,p.scrollbars="yes");const _=Object.entries(p).reduce((A,[R,N])=>`${A}${R}=${N},`,"");if(kC(y)&&d!=="_self")return QP(e||"",d),new Av(null);const E=window.open(e||"",d,_);Oe(E,n,"popup-blocked");try{E.focus()}catch{}return new Av(E)}function QP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="__/auth/handler",XP="emulator/auth/handler",JP=encodeURIComponent("fac");async function Sv(n,e,t,i,o,l){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:da,eventId:o};if(e instanceof Cp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",HI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof Ll){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),y=p?`#${JP}=${encodeURIComponent(p)}`:"";return`${ZP(n)}?${Cl(d).slice(1)}${y}`}function ZP({config:n}){return n.emulator?Tp(n,XP):`https://${n.authDomain}/${YP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="webStorageSupport";class ek{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J0,this._completeRedirectFn=AP,this._overrideRedirectResult=EP}async _openPopup(e,t,i,o){var l;Ri((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Sv(e,t,i,wf(),o);return KP(e,c,Pp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Sv(e,t,i,wf(),o);return rP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Ri(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await zP(e),i=new RP(e);return t.register("authEvent",o=>(Oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kd,{type:Kd},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Kd];c!==void 0&&t(!!c),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=NP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return q0()||U0()||Sp()}}const tk=ek;var Rv="@firebase/auth",Cv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ik(n){na(new to("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Oe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W0(n)},y=new VC(i,o,l,p);return BC(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),na(new to("auth-internal",e=>{const t=nh(e.getProvider("auth").getImmediate());return(i=>new nk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(Rv,Cv,rk(n)),ps(Rv,Cv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=5*60,ok=Zv("authIdTokenMaxAge")||sk;let Pv=null;const ak=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>ok)return;const o=t==null?void 0:t.token;Pv!==o&&(Pv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lk(n=r_()){const e=Mf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=jC(n,{popupRedirectResolver:tk,persistence:[dP,eP,J0]}),i=Zv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=ak(l.toString());YC(t,c,()=>c(t.currentUser)),QC(t,d=>c(d))}}const o=Xv("auth");return o&&zC(t,`http://${o}`),t}function uk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}bC({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=Ir("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",uk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ik("Browser");const ck={apiKey:"AIzaSyCl4yble0NF4t3i5FCALJl8XbZNY2nJgzE",authDomain:"classspace-db5d2.firebaseapp.com",projectId:"classspace-db5d2",storageBucket:"classspace-db5d2.firebasestorage.app",messagingSenderId:"411887990451",appId:"1:411887990451:web:fcb068cce8591dbfb522c6",measurementId:"G-ETMP27FRYR"},ow=n_(ck),Pt=lk(ow),hk=new pi,wn=WR(ow);var Ju={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var kv;function dk(){if(kv)return Ju;kv=1,Ju.parse=c,Ju.serialize=y;var n=Object.prototype.toString,e=Object.prototype.hasOwnProperty,t=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,i=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/;function c(R,N){if(typeof R!="string")throw new TypeError("argument str must be a string");var O={},M=R.length;if(M<2)return O;var q=N&&N.decode||_,Y=0,Z=0,ae=0;do{if(Z=R.indexOf("=",Y),Z===-1)break;if(ae=R.indexOf(";",Y),ae===-1)ae=M;else if(Z>ae){Y=R.lastIndexOf(";",Z-1)+1;continue}var U=d(R,Y,Z),ce=p(R,Z,U),x=R.slice(U,ce);if(!e.call(O,x)){var I=d(R,Z+1,ae),S=p(R,ae,I);R.charCodeAt(I)===34&&R.charCodeAt(S-1)===34&&(I++,S--);var k=R.slice(I,S);O[x]=A(k,q)}Y=ae+1}while(Y<M);return O}function d(R,N,O){do{var M=R.charCodeAt(N);if(M!==32&&M!==9)return N}while(++N<O);return O}function p(R,N,O){for(;N>O;){var M=R.charCodeAt(--N);if(M!==32&&M!==9)return N+1}return O}function y(R,N,O){var M=O&&O.encode||encodeURIComponent;if(typeof M!="function")throw new TypeError("option encode is invalid");if(!t.test(R))throw new TypeError("argument name is invalid");var q=M(N);if(!i.test(q))throw new TypeError("argument val is invalid");var Y=R+"="+q;if(!O)return Y;if(O.maxAge!=null){var Z=Math.floor(O.maxAge);if(!isFinite(Z))throw new TypeError("option maxAge is invalid");Y+="; Max-Age="+Z}if(O.domain){if(!o.test(O.domain))throw new TypeError("option domain is invalid");Y+="; Domain="+O.domain}if(O.path){if(!l.test(O.path))throw new TypeError("option path is invalid");Y+="; Path="+O.path}if(O.expires){var ae=O.expires;if(!E(ae)||isNaN(ae.valueOf()))throw new TypeError("option expires is invalid");Y+="; Expires="+ae.toUTCString()}if(O.httpOnly&&(Y+="; HttpOnly"),O.secure&&(Y+="; Secure"),O.partitioned&&(Y+="; Partitioned"),O.priority){var U=typeof O.priority=="string"?O.priority.toLowerCase():O.priority;switch(U){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(O.sameSite){var ce=typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite;switch(ce){case!0:Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"strict":Y+="; SameSite=Strict";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return Y}function _(R){return R.indexOf("%")!==-1?decodeURIComponent(R):R}function E(R){return n.call(R)==="[object Date]"}function A(R,N){try{return N(R)}catch{return R}}return Ju}var dc=dk();function fk(){const n=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof n=="boolean"?n:typeof document=="object"&&typeof document.cookie=="string"}function pk(n){return typeof n=="string"?dc.parse(n):typeof n=="object"&&n!==null?n:{}}function Qd(n,e={}){const t=mk(n);if(!e.doNotParse)try{return JSON.parse(t)}catch{}return n}function mk(n){return n&&n[0]==="j"&&n[1]===":"?n.substr(2):n}class xp{constructor(e,t={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const o=this.cookies;this.cookies=dc.parse(document.cookie),this._checkChanges(o)};const i=typeof document>"u"?"":document.cookie;this.cookies=pk(e||i),this.defaultSetOptions=t,this.HAS_DOCUMENT_COOKIE=fk()}_emitChange(e){for(let t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)}_checkChanges(e){new Set(Object.keys(e).concat(Object.keys(this.cookies))).forEach(i=>{e[i]!==this.cookies[i]&&this._emitChange({name:i,value:Qd(this.cookies[i])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(e,t={}){return t.doNotUpdate||this.update(),Qd(this.cookies[e],t)}getAll(e={}){e.doNotUpdate||this.update();const t={};for(let i in this.cookies)t[i]=Qd(this.cookies[i],e);return t}set(e,t,i){i?i=Object.assign(Object.assign({},this.defaultSetOptions),i):i=this.defaultSetOptions;const o=typeof t=="string"?t:JSON.stringify(t);this.cookies=Object.assign(Object.assign({},this.cookies),{[e]:o}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=dc.serialize(e,o,i)),this._emitChange({name:e,value:t,options:i})}remove(e,t){const i=t=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=dc.serialize(e,"",i)),this._emitChange({name:e,value:void 0,options:t})}addChangeListener(e){this.changeListeners.push(e),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(e){const t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}const gk=new xp;function yk({setLogin:n}){const e=async()=>{try{const t=await yP(Pt,hk);gk.set("auth-token",t.user.refreshToken);const i=t.user,o=Ln(wn,"users"),l=Hr(o,Ti("uid","==",t.user.uid));(await qr(l)).empty?(await Js(o,{uid:i.uid,displayName:i.displayName,email:i.email,photoURL:i.photoURL,refreshToken:i.refreshToken,createdAt:Zs()}),console.log("New user, WELCOME! <3")):console.log("User Already exist"),n(!0)}catch(t){console.log(t)}};return se.jsxs("div",{className:"h-[100vh] w-[100vw] flex",children:[se.jsx("div",{className:"loginPlanet w-[60%] h-[100%]",children:se.jsx("h1",{className:"text-white px-[25px] text-[50px] font-agdasima",children:"LOG IN"})}),se.jsxs("div",{className:"w-[40%] h-[100%] bg-[#0D0D0E] flex items-center justify-start pt-[5%] flex-col gap-[30%]",children:[se.jsx("img",{className:"w-[75%]",src:lC,alt:""}),se.jsxs("button",{onClick:e,className:"px-10 py-2 text-3xl bg-[#915472] font-inria text-white rounded-[20px] login transition-all ease-in-out duration-[800ms]",children:["Log In With ",se.jsx("br",{}),"Google"]})]})]})}const vk="/ClassSpace/assets/LogoOnly-DNnGNioa.png",_k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANsSURBVHgB7Zo7TxRRFMfPgoLPGNFYqmAjWljiWqmx1EYxBm2I0RgpbPwULr2KsdHCxEeiUUsbH1H5AiAIiwZtNKAIhFWBw//kXpLdnTu7s8yZ2Zlkf8kvw84uc8+Zx537ImrQoEGUZEgZZpZjboHb4E7YDnfYfcIcnIJ5u52RfZlMhkkRtcRsQh3wKuyCnbCtQhmSyDQcgoPwNsxrJ7hmkNAGeA6+g0u8dhbhW3gebqR6gcLXwYtwlPUZgZelDIoTFNgOn8ACR4cc+7GURXGAgo7APMfHODzOUV09HLgVdsNfHD/f2Tx7LaQJm+epB/7k+vEDniVN2NwK37j+yN2SDRJz1fcYm4f3FZl3VBKYgCfwvstX+lFTpS+R1Hps+ik5SQlyom9wlcqkYmKgF56k8MzC19Y5Cs8pMrHVDs7IJtZ5+Upr5BrcZb0O/3B45CVeewuFTfWqwScuum0kGDjMOvT4xd/kk5RUKn2kgzRqi98/GbtPgz4bqwe/Z0wqi0DVagD2wDNFn7vJVAAaZAMfS84A7GddpOU+bF1kXXLsuGquKlM6hIdJl2a4n6JB+n4S82zxTtetKD3fTkoPB8nEXIIrMenGt1F62E4m5hJcie0j/bGQZThOZpxjmXSRHNpdO8uJ4mrdgYesd0mfQFdsM+nyF75Eo3UeSnPqhd2niSfmam1FDeTW+1/0+R/p344eXInNU/rwxOxKbIrShydmV2JScyVj0DIYEqun0+l3xaYpPTjjdSUmY+lDlB4k1pnyna7EpEoepPTwkRy9ck9idlJAJgiWKPlIjAOuiQy/95g8jB8o+bwnM2rlwZmYPQO3KPnc9Jt2qtTyeApHKbmMwGd+X/omhjOxgE2OdNp1TWV/h+09FGAOMRYoQIEu7sHnFI5WKu09Syc27OSCxHS/0g/iGuL+DR/Yvy+Qo8dbA2Nkhri/UliQXJbrM31UziQ8SprggKfZTOXUCylbBnF1JwBxwBY2c2STHD9yt8iko+7EX1FyMgF4DH7m+BiDXRQHKGg3fAQXODpkcv0h3EtxggKbYS+bWQ9tZCLjEse9HKIsQVnAIve/LGAJM3wt//uGlRawaC85knfeFTJD5AfIDIv5lSEDOqtLjqTrMQAntJYcRb1ITMYoO+x2K5lu/OoisS8U4SKxBg0aRMsKFonsBT2zlJcAAAAASUVORK5CYII=",wk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEeSURBVHgB7ZgxS0NBEITn2WuhloqihVgomkYQrfObrQRB0cJYaKGioIWVomD6vMwkbLjcD0g2MB8My+1r5h4LOxxgjDGiKQ9t266wrCIHLfXXNM1/NCZmaXSd5ZbaQXWJOSGzr1SXhj/VWCo+dqld5DAq5GOPOotGabZH/SAP+rPf1H006pk9YDnC9CXmhcz2OAJPMMYYMxPqpbCBPCtXS+EjcoEog8wmyyUWJMicImeQOYlGafaOesH4RhmQj3fqJhr1zG6xbCMHI7McgS8YY4yZCfVSOGQ5Ro6VO6AeuBQeo1EGmX2WK2oNefKB3jHOafhZhzIbdCg9IWUxKuSnE4fS7DWlG2QKMm/URTTqmV1GnldE8csR6MMYY6YYAl88SBOHIrcpAAAAAElFTkSuQmCC",Ek="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA5CAYAAACMGIOFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAP+SURBVHgB7ZrJaxRBFMbfaGIWzYJR1IB6UNCLggpBJXowGMzJm4pBPAkSNMQE8eBRPfkvSFxQkFy8alxAk4NLTnrSg4piEiQG4pLVSfl9VA2GzFRPd6a6pwf6Bx9NT1dXvzddXfXqVYkkJCQkRExKQkQptRyHBqjOaAVUBqWhGWgSGoPGU6nUXwkJ507CsRoctkKHoUPQJmgNVAVVQHScDs1CE9BP6Cs0CD2EPvA3OK0kbsC5dVAn9BKaVEuD9w2ZeuokLsCYBugqNKrcMgJdg9ZKMYEBTeafT6twmDf1H4DKJUrwwDroPDShooGt5JKKqgnjQZXQLWhaRcuceW6VhAkfAPUr3YyKAT+Lx1C1hAEqroduq/C+P7/MGzt8N91lfgop/dGfgU76vSdEOLYfg06JS+DkQeV+iCgUdnpNfuzPG/GgIkYrjET2SPwYgo4gOvrhVchP07sA7ZLCGYF6oB3m+EsKZzfUJYWg9Hg4otzwACoz9VaacxfQPs+oKN+bPA2tFzcMZ2YaOE7zXNxA+054FbA6iX+nFod2cUeYs4p2pWc/OfF6k9tFfz+lwE5oi+2il5NtoueApQDtbLFdzOmk6SD2S2nRArtz+mN7k0xZbJTSYrPoDEQWXk7GZ2buD9pcm+tCmeWGatsNFjiwPxU9LNh60YFF5y88yjIS2wDtNUc/0OZ68QvadjM0E2BA7laO53morxzqCWAD7d2Xqy5bc+XvQdIN/Rjgp8QhqG+O9Qa4ha0yp802JxmZpMU/raZHdobSE+PWALfwT8mZu7UZxpzojMf1xVyEOB375lHmOd5OX+YEZY/zHktZfpONovO2fpk1ysLmBBO+f6CV4g/Gj0fzlGEn07fgnA52iDsyNmdha67MbHvO0WKI1Wabk1yf+CKlBe317yS+HXY6z6S0GDR2Z+EVoLP7djoshAjtfGS76OXkR+idlAZvofe2i1Yn8erZW90Td4S5FnoX9lpzRvnSH/dFJ6Bc0JgJ/ZTO4zaKG2jfHa8Cnk7i3/mOQy80L4XDSW0HHGS2oVN08F0otOuGaXVW/ORdV4vuhOKYd30DtRWcd0UF4zicFR1RxIlRqDufg8TXugYqYqb6suh4Ng4wEL8OvRKXKJ1o7lXFX9Xi87lOGWRSH8jRzPpksRxNm+eHvhBbAd1UeuU3SqbMcyslCpRuul3QsIoGLtNxj0KNRInSORjuyghz9wfrfa18rkOG6Sz38VxR7t/qsKm3QeKC+r/tZQD6rZYGd2TxzZ1TevHXCWHsrVuFwzbRaynNojPxmQ2EjFm5iZDjHJfvOEXiBP2z6PnrE+hTvjAtKFHtkqSYL8psIGRmbeEGwjE45iI+TkhISIgH/wBwMbdMnjCLBAAAAABJRU5ErkJggg==",Tk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAYAAAA6oTAqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVwSURBVHgB3VpriFVVFN7zzJrMphTpZZhI78wahmnMFNPMR/aAoiDKEiMJrBzIgn70wAL/CUX9iEKiF06UPbAHkWSBUWBlT0glDKeXZZk5zTSz+j72d7h7bufezrn3zr3n+sHHvZyzH2vttdZea+97nTuE0ODqFGbWio8usAnc2tDQcNDVE6BAA3gceB3YC+4F+8AFfN/s6gQQ+HB8LAevBjvBVr3aA+53WYcs0Q2uA3+0eGwAW1xWAeGOBhfKlX4DBwsowufXuqwBQjWBE8FbwY/AvyVwP7gLfBcczlPmQ3CSyxIg0FTwPvDLQNB/wG3gKnAJuEPPQ4V66Iqu1oAQx4KXgq/kuRHd6llwvtrNBb/Vu53g2/r+C3iEqyUgwGTwbvBT8EDg+7TKWrqNKaClSJ/acANYLJcjHnG1ACYeC54PPiAliCHwT3CLXOnUoH0LOEsWGZZF5oG3gwfBX8GZrprAhK3gAvPb54HAlajEC+DlYHNMv3zXukTPP9Gzl8FGVw1goilaxS2KgciVPpMrnQG2F+hLRXYEisyWpS6WNf8wZfzRVGAMeBp4D/iFJia4tX4FrlY8NBYZY5piZFgxElmkEXxa430MjnejAfP54QLzCa4vcCUq8br5oG1LME53nGvp3UmKE2KVqzQw6MngXYEfm1Z0t/mcMTXFWHStHwJFpue9f0jvvgYnukoAAzWDZ4IPS+jBwArM2ivkSokL2LwYoWt15r2fpFgzLVLpSVL+eqQC8Hnwp8AKnHwjuIhtUo7LoO4IYmSEawXtbtOiDaaxdtyEzA9LwbfMlxcRuEM9Cl4INrkSYLk8YnKxOEUYj++pzRsuLYIVux/cFygwYL6wYz00zpUB87kn3H5nFGh3mfmcxBy1MOngPDeMk7s8CX5nfmuNXIn1E093E6zMwk4WCbff2QXacVGfk8LbE7mxOt0AbjJfKkRgCf4YOAcc4yoA83kksgg/FxVpe7r5BEn0JJ3gKvCvQAmu2p3g8a6CsJG7FmNlVpG23HSi7fhzcErSSc4CN1tum6V7cYdi3dTqKgApsjOwCC3UUqQ9t/+oIF2TSg5aQa72TRArDP4XwU5LkMGLjN2RFyPzEvRZITnoMR2uFKBjO3i9lIrAOHoJ7LKUwW++RIlKnNg8EtOnLbAKS6SxrhyYL91vNH9sHQrc7xlwpiXI8DayjGcemZFwbm7b/fKMxa5SMH+05QUDE9eAXIUTvUrhCq2a/feE2JlwPqaITer3vlUoZvMnYX200nxROaDJfgbXS6k2tWtRcI84IaaY5xS5NRes8tVx3mSMqWWWK/xMQbpBgT7HCpTxCcZm6XKv+rI6Lr0OSwvF1AeWq9mGgu9UZFrK8Wj9Xer/oKs2MOmJ4M3gO5ZLvFRqbspxGCs9lksJ1bNKjDCs69YqnqjM9JT922VlgmmgIuVTyZBAmyUQzz2JL+jMXwb2q+9FLguAILeYL1Dpct0J+zDwo8sK1mHVuUL6P5j/ISiyzhOWLLnyMmSv3HO1ywoUyEulDLN+V4I+6xT434OTXZYghbZLodeKWQfvjpJVarMdJwEEW27+YLWvUEBL6ZVSZA94jssiINgx5ksfus/6uKA2/2vAVimz0Wr980QxQLg7lHdYFXTEvL/G/IGQ7+e7LMP8jec2rXxvuPLm76V79Y4/HpV3ZqkGzJ9eueXynu284DkPerulzDJXD4Cg4y13auTB7jA9f1zPfrcy7+CqCgh7kwTnznaF+fuGfllsjasn0BqWO//0amMgeEtzrqs3mL8k4c6133LH6acsK3VYGijvhDc+dLMlrl5hvqKO7g/eBCe4egWEP8H8rQ5v9K+0LPyzohxAgbOlyKj8NexfNK9AiNCLKHsAAAAASUVORK5CYII=",Lc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAABJCAYAAABxcwvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQgSURBVHgB7ZvLThRBFIZrBAUCmghu3IqsJEE3LnwEJSCRRINg4orEG5GIF9CVlxfQl0B9BcW9xoAbL9FEo+LGIM6IJMb4+59UtYOEme6q7qnpIfUlf9jQVadOnzp1uqpGqUAgEAgEAoFAIBAIBAL/A6CgcgDt2KIyJPWgaFAr//RQ+6gd1FfqRaFQeKs8Q1v28k8ftcvY8YZ6SVt+q3ohkUNNUc+oIvXH/J2jBqitygPSDzVIPVljx0/qKXWxbhHOjpupS6jMd2qG6lI1hO23ULeolSq2TFNtyjfstNdEEGIcdYXapmqAtGvaL8bY8ZzqU75hp8PUKuJZpEapZpUh0FNsNIGDhBJ1XDnitApAz/EOqiXBv++m7lFnsnKUaWecukttT/BIO9WqfENDh6hlJOebefOppp6JoJOmPZu+B5Vv2Gk39Rh2yNSQHJIkAjfqs8s8vwg7HlF7lG+gl/+j1A/YETnKKqKgk/QFJMtBa5HFY0DVC+jQv2kMsUEiYSypo0w/I9Qn2CEJ+zo81WvVBiB1ypSDo2TAp+McBR1Bp6iPsOMLdQ01rtMSg/KbtkmmQtEMpKVCu/ICLsP+BciCkjhSvQFdgZ+jlmCHTD2JxOYN2ht3dJDkrvpOsUqYgY3AfvUpmoE1r2lHHL7i0M4YMi5cMwd66qWZIh1IN3XzNcUqQUM7qfOwT7aSzO9T72GHRO5VONZfdQPlZG7rKFvEsflL0kkxjpLl23bqJUXqoNgyIvcYR7nUUXFEdVBjOygCuiCU5dz2E6YSkqTF8Y2Vg+KAex21nnzXQWlBuY6yXb0ioiSd7zooLRxgOzULNx5SHcozmZ5PxWEiQDa/Dik3DlJDmzaSUM5JtpX0eqKctLkcBb26TSK7MkC+6WTPfHOsbsZB8i1n+9EbR2N9q1UC5Q0z2y3XpDR2xY3w7VYd6B1Fl1OND9QDuO0eTCAvW7VxIOwnVQflitrWQbJa/fvUQLlccD2FyWd5APc6SCLgLDbe456E/ZTNZx2FcFpSHeitWpc6KOm5W7RxZ5vMq74Ab5gBzMC+DpIBu5zgfoYdUkfdRr22VaDvAhx2cJAYPgG3uwAuU082+vpRjyuB7LQH+m6kDamOnlE+Urd9MXNUt/IN9E23koWhkkyzuJ8kEWV7P0mcekw5kuamm0RDe8JHlqkb1GyhUPilUmCenzXtLSd8TDbquuB7yrHDEwkjqSZHz7A7Upe7ncPKN+z0ALUQY1xebt/Oi73KN+y0Dfp+dCXkU+MOalynQNdp06i+6slFrvpU4Oy4CbpOWjAhHf0iQO5SHvFlGHQd1W/6jX4RUDIRJPY1qRRk8dsSKdR6KVlid1JL1DwT7DvlGehlfj/VSZWo19Qr2rKq8gLy8yulXNgRCAQCgUAgEAgEAoFArvgLdDT+8EN8aRMAAAAASUVORK5CYII=",Ik="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGYAAABhCAYAAAAk2tTaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAsMSURBVHgB7V1/rFxFFT77KL9KKa0IVml5W6BqkUgroglqWDBBm2haYmIwMekr6h8isZUYg5HYVzVRE/VVDAaV+FpDNCYqNQpFErMrmhC1sS2gIFLe1laFiqH8aMuPluP3dea+Nzs7d/du3963s/vul3x5e++dmTszZ+bMzLln5okUKJAnVLVEyoCg7wqCyh/Cn7PBZeCw/T0PnGuDHAYPgU+B+8A94NOlUulV6SNELxjbC84FLwJXg1eDi8AzwJPBU8Ehy+NRwGPgy+BLYoT0EPgAWBUjqCchKJWIEbVgIJTF+PNRcBV4mRhhTAfPg7vAu8FxCOeAFMgGCOMUcCW4FXxO88Oz4O3gCqseC6QBFbQI/CL4T+0cr1p2ikfBTeA5EhGiUGWolJPw5xrwS2JUVrt8HQEfA/eKGeCpog7bZ5wEzAfPB5eAy8FT2qTHicGfwc+DtdjHnxkBhHI2eCf4UotWzWd/Bb8OXg3O7SD9M8D3gN8A/wYebfGeF8EfgK+R2QxUwJvBn4HHUirqCLgD/BR4gU5jLGCvBJeD14M7wVdS3knB/QQcltkIFPxC8A+aDrbuG8CzpMtAmvPBG8HHWrz/PrAsswko8JvA36dUCGdinJG9HjxZcgTSP8++6/kWwrlAZgNY2eCPUyriBfDT2sEY0oX8cAz6ZAvhjIMLZdCBQi5VM5D74LSVA/uMzxTV2NneB04E8sUx57s6QHa4IFDAs8DtXuH3gB/oZeHx7iHwg+DjGu7JV8qgQ830lbMtTk93g++OoUVa4bzfCsIHx8TBn0arWb8Mg+dKRLBq7bPgIU8wnNJzJjdHCvQGqPx5Gp6g/AN8ixToHWxvfsITDG1x35JBh9XpXOy9EVwck5pAXk4Fb7LjoIv/UA3LIAMFvBys2pa4H1wXmXA4Doam9jfIoAKFewf4oDaa6imcqGxUyM/N2mxXuxtcIIMGDqABoRCc+SyTiKDG8LnHy+f/wJUySFCzTpjQZlBIvwLPlIigxoR0eyC/N8mgwKqvp7W5p/D6Xo3Umot8rQkIZrsMAhz1FQJX1W+VSIG8naPNH9g4lZ6uc0hvgQJcAT4UEMhRK5TXSuTQ5nHmAHiJ9COQ8Tlqvr08oWH1RaFwDTPUZXbd7oY0a17+nwFXSU7Ie83wNvAOcGngGR0g9oPXS/fBnvgg/t5TKpVekO5gv3d9GpibZ01ugkHFXIg/3wPTujs9Y66T/EAvzFvBz0l38Kx3Tf+D3MaYPB3d2M0vlt65SNF1ll8m27kuZcUR75p1d7rkhDwF84oYP+Jegj7M3XImn9EGlqdg7gF3S3rFqH2WBymQ/4K3YYw5Kt3B3ED+D0tOyG2MQYXsgxr5mJjB/52BIKzAO8FHpPugYDj4/066h/neNQV+SPoVEE4Z/GPKdJl+ZZdLHwD5vN/LP53Sr5F+BgpwKfiwNoPC+Qu4RCIH8ljX5gXmcul3oBDngw9oGBROtNZa5O0N2tzj+Zn5NOl3qFmRXwLuS+k5fwIvlgiBfH0okOefyiBBjevSoynCqWpkH6DUfGL+YSC/N8qgwVFroY1GUeltNbvb/F7+FHiZ5IhebXGj3ekT4A5pXOckm5CigBpj6HvB87xHzPceGVSo+UbzCzWej38Hr9O4nDG49TC0VSMPw2tcUONtv0TNzOckiQRqPDJv0eZNVU+C86RAb6Bmt9t+TygU0lekQG+Ayl8IbguoMG4RjMqLp6uwaoI7xriuWawR7T1Rs976gpr9ny7oW7Yhprx2HWpcmB63qoGmjlUawSEIajbQfljDO6h/oznsB40GajYu+QbBvWpmZD0TjhXKR8B/B4TCLRlvl0GGGi/6kD8wB9o1vRCOVV/sKSFzEZ3KvyaDDtsyb9MwqEJunkmVoWag36hh9UXLxPe13/3HskLNYQrbU4RDtcEZEd2achtokfbp4DLw19o80CdC+blGtuMtd6jZY3+vpoPjDmdHi6TL0KnDhP6V8u5EKF1/d19AjTHzR+DLKRXEWdsj4Ho1xsQT9nhRYyXm9PzLar6lpB1Zwvu3qjkrbfZCzX7H72jzzi2/BbMH3aHm28jrOkifPZMzvnE1x20da/Eeeld+VSMwucRyLBbzcQW4CayIcQZshcSL0z0Wix6XTIcDtXss1hJpX046VvwWvKVUKu2QAo1QM0PiuLJbT+xQuE7Bd9AXYQScLwXSocZcwxnZN61qyQu0OHC8uUiLoxc7AyrsTPDjak5BOqDTB032/P7DTbhR7Vzz0RcGOTX7Z7hp9l3gVSA3ObFi6aUyxzIpS+IWS6dyHvHLsedh8D7wfnAvxpHnJHL0paVUjdsQt3a4B2Inq/ND0nggdh2CeFEKFChQoECBAgUKFChQoECBAgWiwbRNMjCPbHQut8L8UZcC00aTYFDRFfzh4c9le+ugmN2/u0KVTpOtc1lBmG7uFM4NajZIrQVX2FssZx38ZVSNS83u4mobszmfl714LqI/zZsCATe3KeeY5rSzTc2/3qpYtn+Hhk/d8zERiFd1eKlEDm3f+BJUJQd49ZzakOfYwCMypbqIGrhNTPfm/YplzU8A3f4q6RPYclacWyzfFjH/6Y8qbY1M1QNb9AaUb7P0CsjAXe1aihpV19cnp3qtdcIvjxo1t9MJ84x0GVl7TBK46gQel85eNO6oshWB5yzsqM1Q8g1/pzaqwITDTpzk3pi9x4Yx5hSMaYxmzGai212sTglX8cINd1jeMef56kB5XPj1sDZUuQk60q3aogXYyuzEoWLYiTeZHzX7UtLSGcuYT7/CF6SEW+CFW5u1vPZ51Y/rlacVJpceiXfILiftin35Gpk+KOSkAhJ9zrGr7oSp23u7UtKogGNOOj42aLZDtMvuBcaOg6FA9n5deoxEMFulMTNl8C7bSsdPREhq1kNle1kHV6LQ68BrxThUJBXDCud9Pt+bkhzDjoILEYZrr6VOfKIiEYPropKFNNZzpdSITcmDIRuRhbxWmlsKK21EjJDYi8qSHW4Lb1ic2t/bnHDt1j8U2qaklXvxibIMGCYd3VBYqhK25FEJd+UyWNUTm5ktSEkvwUFpgdlo5mnwQLRdji2TqqIiZkyoO0HK4HrJhprz+/iagD/s4LpBGtXPXinQgFTXUNq8OCbgJ4+rcgfmEckAq3bcxRmnkbSrcW3gzqQ2R9gjer5ea+uzayv4286tzJlG3M+ImVikYbMNMxNomPWlzeTsOOqWsS49QNZzW6azJzIZ2Gsypd4o7G0tZmF5oO5dj4jZ9uGj4l3vll7BLr7G7RTXf1bWxkVV1XueuuDSxv8ikdnyrN6CLCXMeGhh1ibdqhOHSwF/8VjRxoVsNZDGROi9GrZarw3E35kl30mPYQIjJAKzNSfdnl3aNztskexwrc1MO/RhblfaYi8HJBujCJZtixqzTl3MxKbshV8XSKMmU+PsqE6ZZSqSTc3XZKpOk/gHbfx1qIva8SdW0lnNJk12NG3dYyoZ0x314uXSY2y8jZoNG1PityrThAZMMl78FS3iT06Khmxr5cxri6QPdLy/wc7SMsNKf2uGoBtDhcgDdnXN9VotJQjvV9xVuBefz0e924llgvVYl9bvpzYKLeaTTywmnB9RzQLSVUH16Q7SanpSJfBoxMlMbaa/7Xhl5T9VqGdVq07cjuJ5aVx5Iu/OHZ5amJACk8h176GacaCViqo4v+tSYBJ5HgnC2cZO51ZNjB4lqQYq0jiLGUFXzjIeFZgO1GzRzorMs6oCXYCaae96O4Wc0Oap5Zj2gctTgQKT+D/ySWSzJtJdwgAAAABJRU5ErkJggg==",Ak="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABDCAYAAAAh43M3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbTSURBVHgB7ZtbjBRFFIbPssCCgNwUWIMRBREfEFBQ8IaiwQf1AS9oTFADhieJEK8PvkhEYxQjakwwakRFE68PmiAhxEQQEAEvgGIAg1EBucMidzj+P6fW3a2dne6ZqrmZ+ZMvM9Nd3V1dXX3qnDo1IlVVVVVVVVVVLqqREkhVO+OjB+gO+L0OdHC7T4Kj4DDYCxpqamoOSpFVtIZBY/DGrwFXghGgD6iXlo1DHQOHwH6wA2wD34LvwNdopJNS6UJjdAIjwHPgTw3XX+BFcCk4UypNqHQtuArMj9QgvnaC98BI0E7KXawkGAo+AEe18OI13nHXbC/lKFSsA5gE1mrxtRHcr2bHykeoUC/wppZec0F/UJLR1m+Uc8DH4IiWXsfBJ6BeSilU4FywEJzU8hHrwsYZoqUwzLhoP/C52lMqN7FxvgB9pJjCBc8G72t59RRfrNtr4CzJQzl3NTXLPwPcks/xRRTrNhlM1zxGq5ytNy5yMz7mi7nylSCGFhMQSnyVy0E5PXE1az9dKqdRKNb1CdS9Xy4HpfYW1XyDKWCUxBEjZgaGSwGf5k6xHtwX3ACucNfqKuEaCybjHmaj5xyVmFIbhX7WONoEHga9slyPTuMjYLPG0TrQV2ILJ50BTmmYePwyMFhTGkSUuxis0PARkNeeIjGFE/YEizVcG8BIyVE4ZpQ7NlSLQA+JJZzsTrBVw8Qnfrt6UTB+nwGuA1PBA+579wx1mKThvYbTFXdojFgKJ+kIXtbw12g9qPPOzThrJtjfrNw+8JR68Q5+d9ZwG8eGnaMxonA1I7hKw8RGfcg7b3vwmWYOPrmNE1G13jGPavgDWqkpQoU0fgxHjoskTEfAam/bEEBnsS5DeW6bmOG6K8QmykPE63ZLKpSmYYZKuC9B77PB2zZemjIDmcR947xtB8QyByFiowxOKpSmYQZIuNhjjnvbEp8a1Nv7fUIsixCqKA1zofz/dH5SgbQ2JlQcomu9bWlsxWHvd63kEMZkURTjm6bLpzlHJ28b4yTNcgz3rfW2dQEx8kmJNjNNw3SUcPFmhnjbloA1WY5ZBRZ722gbYgSVnZMKpGmYwxIuepr0XP+7HqJcGtFpYLlYvrpR/L6M+1yZ03LH3iZx0sqJ95TmfY2VUL8eXC7mi5wWbnw5bpg3e59Yb+DrsxG8jX1/e8ePFvN7YuiAhEotHIilLzXDVINaBrPO0S7D/vPUshGx9GrSfad5lX6TeLoRvKRekIjecYoTSI5Tzfe5sjPFJq9i6dekAmkaZoPEE4fbu8AravMsbb7KarEUQ4LZ4G5pPdyHKPFhJxoyVG4QPr6XOKNBc9GGzBNb+7JSzNVnfXqKTWnSptD2xM4N0WYOR8/cnK1QGuNLQ/WLxJvrbRSnGZmG2SW2OIgjBXswh9L+Yo5lIdIz68GepEJpGoZP8hvAmbfYyXIGivWOYoj2i65AQ1LBNE+EgRtn8hNbuQK0HSzFa3QiqWBiw+Ak9C0Wibnwla6fxO4lUakCMjTOARjhj8TmUGK897Qnh9wnu/VO98muzuGZ+WaGETT4naR1nJWPeO4FuJfE14hKbTPUcjILwTDJT6wYRzfGRwwD6EvQy92dwXdh43MuZrCDKz0vA8Mlfzv3IxiPa+2QmFKbFOecay4LhLhEZBtYoJYBGKR5rLbkMc7vuQd8CPZqbstP9oDHtFArrdhr3E2m0XbwBhgrkYVzjgZvgd0p68I6x89CepUao5afySTO4PNpctHOOPXSJRnORe+WeSUm9Ho7erpt7ROO7QKuVlsh+k+WRtnFukiOymcZCH2PJ8Hj0nKGn6MXh8NZYG5bQ6Jadx4glgEgF4CBYoaW++iZbhJz29e5zy1udGyrPlNdnfpKy3vaB+aAp9MM0cFSyzW9AE406ynMPV2rGZJZaktd68EEME8t3bpHs4vn5Kuy1vWKia43tXX+m8Aabco7sW6v8xgpply3Z8KM2b3f2ShtlGO2cRpYruFaDR7UNpaPqb3mf4Bj4FPWUYottTmUgWpGkEs6/Jx0N/eUl7qKxhJHRTbyvdo65cuew5GT6wMLa2yThAp01dZ5Znb5Z7XpVSuEOFzPUm/1gto6nhgT+PGFit0KDmrh1aA2NRpdhVp1yRGmTgovXiNGFqOVCtUwTMnGSKUmiWnfGFmM4gjduwZcoraUY7vG1xbwrtr/lUr/h4pcpRbjDAPPqP07LVT8U9jz7pwFfVWL+Z9Ivrb8T+QYsUiZ05ecz+3maHTc+HrQ++WU6lYxb/oHscmyJX4kXiiV6l+0jTloeqWc4+V8C/0guv3MRDbO1bBxdkdfm1tVVVVVVVVVFaV/AQzbHigvhZrXAAAAAElFTkSuQmCC";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Sk(n,e,t,i){function o(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(_){try{y(i.next(_))}catch(E){c(E)}}function p(_){try{y(i.throw(_))}catch(E){c(E)}}function y(_){_.done?l(_.value):o(_.value).then(d,p)}y((i=i.apply(n,[])).next())})}function Rk(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(y){return function(_){return p([y,_])}}function p(y){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(l=y[0]&2?o.return:y[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,y[1])).done)return l;switch(o=0,l&&(y=[y[0]&2,l.value]),y[0]){case 0:case 1:l=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,o=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){t.label=y[1];break}if(y[0]===6&&t.label<l[1]){t.label=l[1],l=y;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(y);break}l[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(_){y=[6,_],o=0}finally{i=l=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xo=function(){return Xo=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Xo.apply(this,arguments)},aw=function(n){return{loading:n==null,value:n}},Ck=function(){return function(n,e){switch(e.type){case"error":return Xo(Xo({},n),{error:e.error,loading:!1,value:void 0});case"reset":return aw(e.defaultValue);case"value":return Xo(Xo({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},Pk=function(n){var e=n?n():void 0,t=$.useReducer(Ck(),aw(e)),i=t[0],o=t[1],l=$.useCallback(function(){var p=n?n():void 0;o({type:"reset",defaultValue:p})},[n]),c=$.useCallback(function(p){o({type:"error",error:p})},[]),d=$.useCallback(function(p){o({type:"value",value:p})},[]);return $.useMemo(function(){return{error:i.error,loading:i.loading,reset:l,setError:c,setValue:d,value:i.value}},[i.error,i.loading,l,c,d,i.value])},kk=function(n,e){var t=Pk(function(){return n.currentUser}),i=t.error,o=t.loading,l=t.setError,c=t.setValue,d=t.value;return $.useEffect(function(){var p=XC(n,function(y){return Sk(void 0,void 0,void 0,function(){var _;return Rk(this,function(E){switch(E.label){case 0:return[3,4];case 1:return E.trys.push([1,3,,4]),[4,e.onUserChanged(y)];case 2:return E.sent(),[3,4];case 3:return _=E.sent(),l(_),[3,4];case 4:return c(y),[2]}})})},l);return function(){p()}},[n]),[d,o,i]};const xk=async n=>{const e=Ln(wn,"users"),t=Hr(e,Ti("uid","==",n)),i=await qr(t);if(i.empty)throw new Error("User not found");return i.docs[0].id},lw=async n=>{const e=Ln(wn,"class"),t=Hr(e,Ti("classID","==",n));try{const i=await qr(t);if(i.empty)throw new Error("Class not found");return i.docs[0].id}catch{alert("Class doesn't exist")}},Nk=async n=>{const e=await qr(Hr(Ln(wn,"class"),Ti("classID","==",n)));if(!e.empty)return e.docs[0].id;throw new Error("Class not found")};function Dk({setLogin:n}){var x;const e=bc(),t=new xp,[i,o]=$.useState(!1),[l,c]=$.useState([]),[d,p]=kk(Pt),[y,_]=$.useState([]),[E,A]=$.useState(!1),[R,N]=$.useState(""),[O,M]=$.useState([]);$.useEffect(()=>{(async()=>{if(p){console.log("Loading authentication state...");return}if(!d){console.log("User is not authenticated");return}try{const S=Ln(wn,"users"),k=Hr(S,Ti("uid","==",d.uid));console.log("Current User UID:",d.uid);const V=await qr(k);if(V.empty){console.log("No user document found");return}const F=V.docs[0].id,P=Ln(wn,"users",F,"classJoined"),at=await qr(P);c(at.docs)}catch(S){console.error("Error fetching user classes:",S)}})()},[p,d]);const q=()=>{A(!E)},Y=()=>{o(!i)},Z=()=>{n(!1),t.remove("auth-token")},ae=async I=>{if(y.classID===I.target.value)return;const S=await lw(I.target.value),k=El(wn,"class",S),F=(await C0(k)).data();_(F);const P=Hr(Ln(wn,"class",S,"messages"),nC("createdAt","asc")),at=oC(P,ze=>{const Et=ze.docs.map(Be=>({id:Be.id,...Be.data()}));M(Et)});return()=>at()},U=async()=>{if(!R){console.log("empty chat");return}const I={message:R,sender:Pt.currentUser.displayName,senderuid:Pt.currentUser.uid,createdAt:Zs(),userPorfile:Pt.currentUser.photoURL},S=y.classID,k=await Nk(S),V=Ln(wn,"class",k,"messages");await Js(V,I),N("")},ce=I=>{I.key==="Enter"&&(console.log("Enter key pressed"),U())};return se.jsxs("div",{className:"relative flex w-[100vw] items-start flex-col",children:[se.jsx("div",{className:"flex items-center justify-center bg-[#FFABD4] h-[10vh] w-[100%]",children:se.jsxs("div",{className:"h-[100%] flex items-center justify-center gap-3 font-inria font-bold text-4xl",children:[se.jsx("img",{src:vk,className:"h-[70%]",alt:""}),se.jsx("h1",{children:"Class Space"})]})}),se.jsxs("div",{className:"flex",children:[se.jsxs("div",{className:"relative w-[30vw] h-[90vh] bg-[#1A1A1D] border-r-2 border-[#D9D9D9] flex flex-col",children:[se.jsxs("div",{className:` transition-all ease-in-out duration-300 flex flex-col items-end justify-start pt-2 h-[100%] w-[100%] bg-[#A64D79] absolute z-[100] ${i?"translate-x-0":"-translate-x-full"}`,children:[se.jsx("img",{src:Lc,alt:"",className:"cursor-pointer",onClick:()=>Y()}),se.jsxs("div",{className:"mt-[15%] text-4xl font-inria text-white w-[100%] px-[20px]",children:[se.jsx("div",{className:"hover:bg-black py-4 border-t-[3px] cursor-pointer",onClick:()=>e("/ClassSpace/CreateClass"),children:"Create Class"}),se.jsx("div",{className:"hover:bg-black py-4 border-t-[3px] border-b-[3px] cursor-pointer",onClick:()=>e("/ClassSpace/JoinClass"),children:"Join Class"})]}),se.jsx("img",{className:"mt-auto mr-4 mb-8 cursor-pointer",onClick:()=>Z(),src:Ik,alt:""})]}),se.jsxs("div",{className:"w-[100%] h-[10%] relative flex items-center px-5",children:[se.jsx("img",{src:wk,alt:"menu",className:"cursor-pointer",onClick:()=>Y()}),se.jsx("h1",{className:"absolute left-1/2 transform -translate-x-1/2 font-inria text-white text-4xl font-bold",children:"Chats"})]}),se.jsx("div",{className:" w-[100%] h-[100%] overflow-y-auto",children:se.jsx("div",{className:"",children:l.map(I=>{const S=I.data();return se.jsxs("div",{className:"flex items-center justif-center h-[70px]",children:[se.jsx("input",{id:`class-${S.classID}`,name:"currentClass",type:"radio",className:"opacity-0 absolute peer",value:S.classID,onClick:k=>ae(k)}),se.jsxs("label",{htmlFor:`class-${S.classID}`,className:"gap-2 px-4 flex items-center justify-start h-[100%] w-[100%] flex peer-checked:bg-black hover:bg-[#0f0f0f]",children:[se.jsx("img",{className:"h-[80%]",src:Ak,alt:""}),se.jsx("h1",{className:"text-4xl text-white overflow-hidden ",children:S.className})]})]},S.classID)})})})]}),se.jsxs("div",{className:"w-[70vw] h-[90vh] bg-[#1A1A1D]",children:[se.jsxs("div",{className:"w-[100%] h-[10vh] bg-[#3B1C32] flex items-center relative justify-end px-5",children:[se.jsx("h1",{className:"font-inria text-white text-4xl font-bold absolute left-1/2 transform -translate-x-1/2",children:y.className}),se.jsx("img",{className:"cursor-pointer h-[50%]",src:_k,alt:"",onClick:()=>q()})]}),se.jsxs("div",{className:"relative w-[100%] h-[72vh] overflow-y-auto",children:[se.jsxs("div",{className:`rounded-[20px] pt-4 flex items-center justify-start flex-col absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#3B1C32] h-[90%] w-[70%] pb-[50px] ${E?"block":"hidden"}`,children:[se.jsxs("div",{className:"w-[90%] flex flex-row h-[10%] items-center justify-between",children:[se.jsx("h1",{className:"text-white font-inria text-4xl font-bold",children:"Class Info"}),se.jsx("img",{onClick:()=>q(),className:"h-[100%] cursor-pointer",src:Lc,alt:""})]}),se.jsx("div",{className:"overflow-y-auto text-white font-inria text-3xl w-[80%] border px-2 mt-[10%] gap-[10px] flex flex-col ",children:se.jsxs("div",{className:"py-5 flex flex-col gap-5 ",children:[se.jsxs("h1",{children:["Class ID: ",y.classID]}),se.jsxs("h1",{children:["Created at: ",(x=y.createdAt)==null?void 0:x.toDate().toLocaleString()]}),se.jsxs("h1",{children:["Owner Name: ",y.ownerName]})]})})]}),se.jsx("div",{className:"w-[100%] py-5 px-3",children:se.jsx("ul",{className:"w-[100%] flex flex-col",children:O.map(I=>se.jsx("li",{className:`text-black flex mb-[20px] ${Pt.currentUser.uid==I.senderuid?"ml-auto":"mr-auto"}`,children:se.jsxs("div",{className:`font-inria flex flex-row justify-center items-start h-auto gap-2 ${Pt.currentUser.uid==I.senderuid?"flex-row-reverse ":""}`,children:[se.jsx("img",{src:I.userPorfile,alt:"",className:"h-[50px] rounded-full"}),se.jsxs("div",{className:`flex flex-col ${Pt.currentUser.uid==I.senderuid?"items-end":""}`,children:[se.jsx("h1",{className:"text-white",children:I.sender}),se.jsx("h1",{className:"w-fit bg-white rounded-md px-4 py-2 items-center max-w-[30vw] break-words text-ellipsis",children:I.message})]})]})},I.id))})})]}),se.jsxs("div",{className:"bg-[#3B222E] w-[100%] h-[8vh] flex justify-between px-10 items-center",children:[se.jsx("img",{className:"cursor-pointer h-[70%]",src:Ek,alt:""}),se.jsx("input",{className:"w-[85%] h-[70%] rounded-full bg-[#1A1A1D] text-white px-6 font-inria text-2xl focus:outline-none",value:R,type:"text",onKeyDown:ce,onChange:I=>N(I.target.value)}),se.jsx("img",{onClick:()=>U(),className:"h-[70%] cursor-pointer",src:Tk,alt:""})]})]})]})]})}function Lk(){const n=new xp,[e,t]=$.useState(n.get("auth-token"));return e?se.jsx(Dk,{setLogin:t}):se.jsx(yk,{setLogin:t})}function Ok(){const n=bc(),[e,t]=$.useState(""),i=async()=>{const o=()=>Math.random().toString(36).substring(2,10),l=Ln(wn,"users"),c=Hr(l,Ti("uid","==",Pt.currentUser.uid)),p=(await qr(c)).docs[0].id,y=El(wn,"users",p),_=Ln(y,"classJoined"),E=Ln(wn,"class");let A=o();for(;;){const M=Hr(E,Ti("roomID","==",A));if((await qr(M)).empty)break;A=o()}const R={className:e,createdAt:Zs(),classID:A,ownerID:Pt.currentUser.uid,ownerName:Pt.currentUser.displayName},N={className:e,classID:A,dateJoined:Zs(),email:Pt.currentUser.email},O={name:Pt.currentUser.displayName,photo:Pt.currentUser.photoURL,uid:Pt.currentUser.uid,dateJoined:Zs(),email:Pt.currentUser.email};try{await Js(E,R),await Js(_,N);const M=Hr(E,Ti("classID","==",A)),q=await qr(M);console.log(q);const Y=q.docs[0].id,Z=El(wn,"class",Y),ae=Ln(Z,"classMembers");await Js(ae,O),alert("Successfully created class!"),n("/ClassSpace/")}catch(M){console.log(M)}};return se.jsx("div",{className:"text-white font-inria planets-bg w-screen h-screen flex items-center justify-center",children:se.jsxs("div",{className:"py-[50px] min-h-[450px] aspect-square  h-[60%] bg-[#1A1A1D] rounded-[20px]",children:[se.jsxs("div",{className:"h-[12%] flex items-center justify-between px-10 pt-2",children:[se.jsx("h1",{className:"text-[50px] font-bold",children:"Create Class"}),se.jsx("img",{className:"cursor-pointer",src:Lc,alt:"",onClick:()=>n("/ClassSpace/")})]}),se.jsx("div",{className:" h-[70%] flex justify-center items-center flex-col text-left",children:se.jsxs("div",{className:"w-[80%]",children:[se.jsx("h1",{className:"font-bold text-4xl",children:"Class Name:"}),se.jsx("input",{onChange:o=>t(o.target.value),className:"w-[100%] rounded-[10px] bg-[#3B1C32] h-[65px] px-2 text-3xl focus:outline-none",type:"text",name:"",id:""})]})}),se.jsx("div",{className:"h-[18%] w-[100%] flex items-start justify-center",children:se.jsx("button",{onClick:()=>i(),className:"bg-[#915472] px-8 py-5 rounded-[20px] text-3xl hover:scale-[1.2] transition-scale duration-300",children:"Create Class"})})]})})}function Vk(){const n=bc(),[e,t]=$.useState(""),i=async()=>{if(!e.trim()){alert("Please enter a valid class code");return}const l=await xk(Pt.currentUser.uid),c=Ln(wn,"users",l,"classJoined"),d=await lw(e),p=El(wn,"class",d),_=(await C0(p)).data(),E=Ln(p,"classMembers"),A=Hr(E,Ti("uid","==",Pt.currentUser.uid)),N=(await qr(A)).empty,O={name:Pt.currentUser.displayName,photo:Pt.currentUser.photoURL,uid:Pt.currentUser.uid,dateJoined:Zs(),email:Pt.currentUser.email},M={className:_.className,classID:_.classID,dateJoined:Zs()};if(N)await Js(E,O),await Js(c,M),alert("Successfully joined"),n("/ClassSpace/");else{alert("You are already in that class");return}};return se.jsx("div",{className:"text-white font-inria planets-bg w-screen h-screen flex items-center justify-center",children:se.jsxs("div",{className:"py-[50px] min-h-[450px] aspect-square  h-[60%] bg-[#1A1A1D] rounded-[20px]",children:[se.jsxs("div",{className:"h-[12%] flex items-center justify-between px-10 pt-2",children:[se.jsx("h1",{className:"text-[50px] font-bold",children:"Join Class"}),se.jsx("img",{className:"cursor-pointer",src:Lc,alt:"",onClick:()=>n("/ClassSpace/")})]}),se.jsx("div",{className:" h-[70%] flex justify-center items-center flex-col text-left",children:se.jsxs("div",{className:"w-[80%]",children:[se.jsx("h1",{className:"font-bold text-4xl",children:"Class ID:"}),se.jsx("input",{onChange:o=>t(o.target.value),className:"w-[100%] rounded-[10px] bg-[#3B1C32] h-[65px] px-2 text-3xl focus:outline-none",type:"text",name:"",id:""})]})}),se.jsx("div",{className:"h-[18%] w-[100%] flex items-start justify-center",children:se.jsx("button",{onClick:()=>i(),className:"bg-[#915472] px-8 py-5 rounded-[20px] text-3xl hover:scale-[1.2] transition-scale duration-300",children:"Join Class"})})]})})}function bk(){const n=oI([{path:"/ClassSpace/",element:se.jsx(Lk,{}),errorElement:se.jsx(wI,{})},{path:"/ClassSpace/CreateClass",element:se.jsx(Ok,{})},{path:"ClassSpace/JoinClass",element:se.jsx(Vk,{})}]);return se.jsx(_I,{router:n})}_E.createRoot(document.getElementById("root")).render(se.jsx($.StrictMode,{children:se.jsx(bk,{})}));
