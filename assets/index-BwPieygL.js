(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Ed={exports:{}},Ha={},Td={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg;function Xw(){if(Cg)return je;Cg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function A(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,O={};function M(U,X,_e){this.props=U,this.context=X,this.refs=O,this.updater=_e||S}M.prototype.isReactComponent={},M.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},M.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function q(){}q.prototype=M.prototype;function Y(U,X,_e){this.props=U,this.context=X,this.refs=O,this.updater=_e||S}var ee=Y.prototype=new q;ee.constructor=Y,L(ee,M.prototype),ee.isPureReactComponent=!0;var oe=Array.isArray,F=Object.prototype.hasOwnProperty,ce={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(U,X,_e){var be,Le={},Be=null,Ze=null;if(X!=null)for(be in X.ref!==void 0&&(Ze=X.ref),X.key!==void 0&&(Be=""+X.key),X)F.call(X,be)&&!k.hasOwnProperty(be)&&(Le[be]=X[be]);var et=arguments.length-2;if(et===1)Le.children=_e;else if(1<et){for(var Ue=Array(et),ft=0;ft<et;ft++)Ue[ft]=arguments[ft+2];Le.children=Ue}if(U&&U.defaultProps)for(be in et=U.defaultProps,et)Le[be]===void 0&&(Le[be]=et[be]);return{$$typeof:n,type:U,key:Be,ref:Ze,props:Le,_owner:ce.current}}function R(U,X){return{$$typeof:n,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function x(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(_e){return X[_e]})}var B=/\/+/g;function P(U,X){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):X.toString(36)}function ht(U,X,_e,be,Le){var Be=typeof U;(Be==="undefined"||Be==="boolean")&&(U=null);var Ze=!1;if(U===null)Ze=!0;else switch(Be){case"string":case"number":Ze=!0;break;case"object":switch(U.$$typeof){case n:case e:Ze=!0}}if(Ze)return Ze=U,Le=Le(Ze),U=be===""?"."+P(Ze,0):be,oe(Le)?(_e="",U!=null&&(_e=U.replace(B,"$&/")+"/"),ht(Le,X,_e,"",function(ft){return ft})):Le!=null&&(x(Le)&&(Le=R(Le,_e+(!Le.key||Ze&&Ze.key===Le.key?"":(""+Le.key).replace(B,"$&/")+"/")+U)),X.push(Le)),1;if(Ze=0,be=be===""?".":be+":",oe(U))for(var et=0;et<U.length;et++){Be=U[et];var Ue=be+P(Be,et);Ze+=ht(Be,X,_e,Ue,Le)}else if(Ue=A(U),typeof Ue=="function")for(U=Ue.call(U),et=0;!(Be=U.next()).done;)Be=Be.value,Ue=be+P(Be,et++),Ze+=ht(Be,X,_e,Ue,Le);else if(Be==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ze}function $e(U,X,_e){if(U==null)return U;var be=[],Le=0;return ht(U,be,"","",function(Be){return X.call(_e,Be,Le++)}),be}function Ct(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(_e){(U._status===0||U._status===-1)&&(U._status=1,U._result=_e)},function(_e){(U._status===0||U._status===-1)&&(U._status=2,U._result=_e)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var Qe={current:null},ae={transition:null},Te={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:ae,ReactCurrentOwner:ce};function he(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:$e,forEach:function(U,X,_e){$e(U,function(){X.apply(this,arguments)},_e)},count:function(U){var X=0;return $e(U,function(){X++}),X},toArray:function(U){return $e(U,function(X){return X})||[]},only:function(U){if(!x(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},je.Component=M,je.Fragment=t,je.Profiler=o,je.PureComponent=Y,je.StrictMode=i,je.Suspense=p,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Te,je.act=he,je.cloneElement=function(U,X,_e){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var be=L({},U.props),Le=U.key,Be=U.ref,Ze=U._owner;if(X!=null){if(X.ref!==void 0&&(Be=X.ref,Ze=ce.current),X.key!==void 0&&(Le=""+X.key),U.type&&U.type.defaultProps)var et=U.type.defaultProps;for(Ue in X)F.call(X,Ue)&&!k.hasOwnProperty(Ue)&&(be[Ue]=X[Ue]===void 0&&et!==void 0?et[Ue]:X[Ue])}var Ue=arguments.length-2;if(Ue===1)be.children=_e;else if(1<Ue){et=Array(Ue);for(var ft=0;ft<Ue;ft++)et[ft]=arguments[ft+2];be.children=et}return{$$typeof:n,type:U.type,key:Le,ref:Be,props:be,_owner:Ze}},je.createContext=function(U){return U={$$typeof:h,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:l,_context:U},U.Consumer=U},je.createElement=I,je.createFactory=function(U){var X=I.bind(null,U);return X.type=U,X},je.createRef=function(){return{current:null}},je.forwardRef=function(U){return{$$typeof:d,render:U}},je.isValidElement=x,je.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:Ct}},je.memo=function(U,X){return{$$typeof:y,type:U,compare:X===void 0?null:X}},je.startTransition=function(U){var X=ae.transition;ae.transition={};try{U()}finally{ae.transition=X}},je.unstable_act=he,je.useCallback=function(U,X){return Qe.current.useCallback(U,X)},je.useContext=function(U){return Qe.current.useContext(U)},je.useDebugValue=function(){},je.useDeferredValue=function(U){return Qe.current.useDeferredValue(U)},je.useEffect=function(U,X){return Qe.current.useEffect(U,X)},je.useId=function(){return Qe.current.useId()},je.useImperativeHandle=function(U,X,_e){return Qe.current.useImperativeHandle(U,X,_e)},je.useInsertionEffect=function(U,X){return Qe.current.useInsertionEffect(U,X)},je.useLayoutEffect=function(U,X){return Qe.current.useLayoutEffect(U,X)},je.useMemo=function(U,X){return Qe.current.useMemo(U,X)},je.useReducer=function(U,X,_e){return Qe.current.useReducer(U,X,_e)},je.useRef=function(U){return Qe.current.useRef(U)},je.useState=function(U){return Qe.current.useState(U)},je.useSyncExternalStore=function(U,X,_e){return Qe.current.useSyncExternalStore(U,X,_e)},je.useTransition=function(){return Qe.current.useTransition()},je.version="18.3.1",je}var Pg;function gf(){return Pg||(Pg=1,Td.exports=Xw()),Td.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function Jw(){if(kg)return Ha;kg=1;var n=gf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(d,p,y){var _,T={},A=null,S=null;y!==void 0&&(A=""+y),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(S=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(T[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)T[_]===void 0&&(T[_]=p[_]);return{$$typeof:e,type:d,key:A,ref:S,props:T,_owner:o.current}}return Ha.Fragment=t,Ha.jsx=h,Ha.jsxs=h,Ha}var xg;function Zw(){return xg||(xg=1,Ed.exports=Jw()),Ed.exports}var Ee=Zw(),$=gf(),bu={},Id={exports:{}},kn={},Ad={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function eE(){return Ng||(Ng=1,function(n){function e(ae,Te){var he=ae.length;ae.push(Te);e:for(;0<he;){var U=he-1>>>1,X=ae[U];if(0<o(X,Te))ae[U]=Te,ae[he]=X,he=U;else break e}}function t(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var Te=ae[0],he=ae.pop();if(he!==Te){ae[0]=he;e:for(var U=0,X=ae.length,_e=X>>>1;U<_e;){var be=2*(U+1)-1,Le=ae[be],Be=be+1,Ze=ae[Be];if(0>o(Le,he))Be<X&&0>o(Ze,Le)?(ae[U]=Ze,ae[Be]=he,U=Be):(ae[U]=Le,ae[be]=he,U=be);else if(Be<X&&0>o(Ze,he))ae[U]=Ze,ae[Be]=he,U=Be;else break e}}return Te}function o(ae,Te){var he=ae.sortIndex-Te.sortIndex;return he!==0?he:ae.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var p=[],y=[],_=1,T=null,A=3,S=!1,L=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(ae){for(var Te=t(y);Te!==null;){if(Te.callback===null)i(y);else if(Te.startTime<=ae)i(y),Te.sortIndex=Te.expirationTime,e(p,Te);else break;Te=t(y)}}function oe(ae){if(O=!1,ee(ae),!L)if(t(p)!==null)L=!0,Ct(F);else{var Te=t(y);Te!==null&&Qe(oe,Te.startTime-ae)}}function F(ae,Te){L=!1,O&&(O=!1,q(I),I=-1),S=!0;var he=A;try{for(ee(Te),T=t(p);T!==null&&(!(T.expirationTime>Te)||ae&&!V());){var U=T.callback;if(typeof U=="function"){T.callback=null,A=T.priorityLevel;var X=U(T.expirationTime<=Te);Te=n.unstable_now(),typeof X=="function"?T.callback=X:T===t(p)&&i(p),ee(Te)}else i(p);T=t(p)}if(T!==null)var _e=!0;else{var be=t(y);be!==null&&Qe(oe,be.startTime-Te),_e=!1}return _e}finally{T=null,A=he,S=!1}}var ce=!1,k=null,I=-1,R=5,x=-1;function V(){return!(n.unstable_now()-x<R)}function B(){if(k!==null){var ae=n.unstable_now();x=ae;var Te=!0;try{Te=k(!0,ae)}finally{Te?P():(ce=!1,k=null)}}else ce=!1}var P;if(typeof Y=="function")P=function(){Y(B)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,$e=ht.port2;ht.port1.onmessage=B,P=function(){$e.postMessage(null)}}else P=function(){M(B,0)};function Ct(ae){k=ae,ce||(ce=!0,P())}function Qe(ae,Te){I=M(function(){ae(n.unstable_now())},Te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){L||S||(L=!0,Ct(F))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ae){switch(A){case 1:case 2:case 3:var Te=3;break;default:Te=A}var he=A;A=Te;try{return ae()}finally{A=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,Te){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var he=A;A=ae;try{return Te()}finally{A=he}},n.unstable_scheduleCallback=function(ae,Te,he){var U=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?U+he:U):he=U,ae){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=he+X,ae={id:_++,callback:Te,priorityLevel:ae,startTime:he,expirationTime:X,sortIndex:-1},he>U?(ae.sortIndex=he,e(y,ae),t(p)===null&&ae===t(y)&&(O?(q(I),I=-1):O=!0,Qe(oe,he-U))):(ae.sortIndex=X,e(p,ae),L||S||(L=!0,Ct(F))),ae},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(ae){var Te=A;return function(){var he=A;A=Te;try{return ae.apply(this,arguments)}finally{A=he}}}}(Sd)),Sd}var Dg;function tE(){return Dg||(Dg=1,Ad.exports=eE()),Ad.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function nE(){if(Lg)return kn;Lg=1;var n=gf(),e=tE();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){h(r,s),h(r+"Capture",s)}function h(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},T={};function A(r){return p.call(T,r)?!0:p.call(_,r)?!1:y.test(r)?T[r]=!0:(_[r]=!0,!1)}function S(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function L(r,s,a,c){if(s===null||typeof s>"u"||S(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function O(r,s,a,c,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){M[r]=new O(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];M[s]=new O(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){M[r]=new O(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){M[r]=new O(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){M[r]=new O(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){M[r]=new O(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){M[r]=new O(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){M[r]=new O(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){M[r]=new O(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function Y(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(q,Y);M[s]=new O(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(q,Y);M[s]=new O(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(q,Y);M[s]=new O(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){M[r]=new O(r,1,!1,r.toLowerCase(),null,!1,!1)}),M.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){M[r]=new O(r,1,!1,r.toLowerCase(),null,!0,!0)});function ee(r,s,a,c){var f=M.hasOwnProperty(s)?M[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(L(s,a,f,c)&&(a=null),c||f===null?A(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,c=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var oe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),ce=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Qe=Symbol.for("react.offscreen"),ae=Symbol.iterator;function Te(r){return r===null||typeof r!="object"?null:(r=ae&&r[ae]||r["@@iterator"],typeof r=="function"?r:null)}var he=Object.assign,U;function X(r){if(U===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+r}var _e=!1;function be(r,s){if(!r||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var c=G}Reflect.construct(r,[],s)}else{try{s.call()}catch(G){c=G}r.call(s.prototype)}else{try{throw Error()}catch(G){c=G}r()}}catch(G){if(G&&c&&typeof G.stack=="string"){for(var f=G.stack.split(`
`),g=c.stack.split(`
`),w=f.length-1,C=g.length-1;1<=w&&0<=C&&f[w]!==g[C];)C--;for(;1<=w&&0<=C;w--,C--)if(f[w]!==g[C]){if(w!==1||C!==1)do if(w--,C--,0>C||f[w]!==g[C]){var N=`
`+f[w].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=w&&0<=C);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?X(r):""}function Le(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=be(r.type,!1),r;case 11:return r=be(r.type.render,!1),r;case 1:return r=be(r.type,!0),r;default:return""}}function Be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case ce:return"Portal";case R:return"Profiler";case I:return"StrictMode";case P:return"Suspense";case ht:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case B:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case $e:return s=r.displayName||null,s!==null?s:Be(r.type)||"Memo";case Ct:s=r._payload,r=r._init;try{return Be(r(s))}catch{}}return null}function Ze(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function et(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ue(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ft(r){var s=Ue(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Bn(r){r._valueTracker||(r._valueTracker=ft(r))}function Ei(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=Ue(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function nn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function qr(r,s){var a=s.checked;return he({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ti(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=et(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ii(r,s){s=s.checked,s!=null&&ee(r,"checked",s,!1)}function ys(r,s){Ii(r,s);var a=et(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ai(r,s.type,a):s.hasOwnProperty("defaultValue")&&Ai(r,s.type,et(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function ro(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ai(r,s,a){(s!=="number"||nn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Zn=Array.isArray;function qt(r,s,a,c){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&c&&(r[a].defaultSelected=!0)}else{for(a=""+et(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function er(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Wr(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Zn(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:et(a)}}function Ir(r,s){var a=et(s.value),c=et(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function _n(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function lt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function At(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?lt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Nn,vs=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Nn=Nn||document.createElement("div"),Nn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Nn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Wt(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sr=["Webkit","ms","Moz","O"];Object.keys(Ar).forEach(function(r){Sr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ar[s]=Ar[r]})});function Si(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ar.hasOwnProperty(r)&&Ar[r]?(""+s).trim():s+"px"}function _s(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=Si(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,f):r[a]=f}}var Ri=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rr(r,s){if(s){if(Ri[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ci(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tr=null;function Pi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Gr=null,wn=null,Dn=null;function nr(r){if(r=Pa(r)){if(typeof Gr!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Xl(s),Gr(r.stateNode,r.type,s))}}function pn(r){wn?Dn?Dn.push(r):Dn=[r]:wn=r}function ws(){if(wn){var r=wn,s=Dn;if(Dn=wn=null,nr(r),s)for(r=0;r<s.length;r++)nr(s[r])}}function Kr(r,s){return r(s)}function D(){}var j=!1;function K(r,s,a){if(j)return r(s,a);j=!0;try{return Kr(r,s,a)}finally{j=!1,(wn!==null||Dn!==null)&&(D(),ws())}}function J(r,s){var a=r.stateNode;if(a===null)return null;var c=Xl(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var de=!1;if(d)try{var ge={};Object.defineProperty(ge,"passive",{get:function(){de=!0}}),window.addEventListener("test",ge,ge),window.removeEventListener("test",ge,ge)}catch{de=!1}function Ce(r,s,a,c,f,g,w,C,N){var G=Array.prototype.slice.call(arguments,3);try{s.apply(a,G)}catch(re){this.onError(re)}}var fe=!1,ve=null,le=!1,xe=null,Fe={onError:function(r){fe=!0,ve=r}};function it(r,s,a,c,f,g,w,C,N){fe=!1,ve=null,Ce.apply(Fe,arguments)}function St(r,s,a,c,f,g,w,C,N){if(it.apply(this,arguments),fe){if(fe){var G=ve;fe=!1,ve=null}else throw Error(t(198));le||(le=!0,xe=G)}}function qe(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function tt(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function st(r){if(qe(r)!==r)throw Error(t(188))}function rr(r){var s=r.alternate;if(!s){if(s=qe(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return st(f),r;if(g===c)return st(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=g;else{for(var w=!1,C=f.child;C;){if(C===a){w=!0,a=f,c=g;break}if(C===c){w=!0,c=f,a=g;break}C=C.sibling}if(!w){for(C=g.child;C;){if(C===a){w=!0,a=g,c=f;break}if(C===c){w=!0,c=g,a=f;break}C=C.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ir(r){return r=rr(r),r!==null?rn(r):null}function rn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=rn(r);if(s!==null)return s;r=r.sibling}return null}var Gt=e.unstable_scheduleCallback,$r=e.unstable_cancelCallback,Cr=e.unstable_shouldYield,sr=e.unstable_requestPaint,ot=e.unstable_now,Qr=e.unstable_getCurrentPriorityLevel,Ye=e.unstable_ImmediatePriority,pt=e.unstable_UserBlockingPriority,Kt=e.unstable_NormalPriority,or=e.unstable_LowPriority,mt=e.unstable_IdlePriority,En=null,sn=null;function io(r){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(En,r,void 0,(r.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:kl,da=Math.log,Pl=Math.LN2;function kl(r){return r>>>=0,r===0?32:31-(da(r)/Pl|0)|0}var so=64,oo=4194304;function ki(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Es(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,f=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var C=w&~f;C!==0?c=ki(C):(g&=w,g!==0&&(c=ki(g)))}else w=a&~f,w!==0?c=ki(w):g!==0&&(c=ki(g));if(c===0)return 0;if(s!==0&&s!==c&&!(s&f)&&(f=c&-c,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(c&4&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-mn(s),f=1<<a,c|=r[a],s&=~f;return c}function Xc(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yr(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-mn(g),C=1<<w,N=f[w];N===-1?(!(C&a)||C&c)&&(f[w]=Xc(C,s)):N<=s&&(r.expiredLanes|=C),g&=~C}}function Ln(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ts(){var r=so;return so<<=1,!(so&4194240)&&(so=64),r}function xi(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Ni(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-mn(s),r[s]=a}function ct(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-mn(a),g=1<<f;s[f]=0,c[f]=-1,r[f]=-1,a&=~g}}function Di(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-mn(a),f=1<<c;f&s|r[c]&s&&(r[c]|=s),a&=~f}}var We=0;function Li(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var xl,ao,Nl,Dl,Ll,fa=!1,Pr=[],$t=null,ar=null,lr=null,Oi=new Map,zn=new Map,kr=[],Jc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ol(r,s){switch(r){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Oi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(s.pointerId)}}function Tn(r,s,a,c,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Pa(s),s!==null&&ao(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Zc(r,s,a,c,f){switch(s){case"focusin":return $t=Tn($t,r,s,a,c,f),!0;case"dragenter":return ar=Tn(ar,r,s,a,c,f),!0;case"mouseover":return lr=Tn(lr,r,s,a,c,f),!0;case"pointerover":var g=f.pointerId;return Oi.set(g,Tn(Oi.get(g)||null,r,s,a,c,f)),!0;case"gotpointercapture":return g=f.pointerId,zn.set(g,Tn(zn.get(g)||null,r,s,a,c,f)),!0}return!1}function Vl(r){var s=Cs(r.target);if(s!==null){var a=qe(s);if(a!==null){if(s=a.tag,s===13){if(s=tt(a),s!==null){r.blockedOn=s,Ll(r.priority,function(){Nl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Xr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=lo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);tr=c,a.target.dispatchEvent(c),tr=null}else return s=Pa(a),s!==null&&ao(s),r.blockedOn=a,!1;s.shift()}return!0}function Is(r,s,a){Xr(r)&&a.delete(s)}function bl(){fa=!1,$t!==null&&Xr($t)&&($t=null),ar!==null&&Xr(ar)&&(ar=null),lr!==null&&Xr(lr)&&(lr=null),Oi.forEach(Is),zn.forEach(Is)}function ur(r,s){r.blockedOn===s&&(r.blockedOn=null,fa||(fa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bl)))}function cr(r){function s(f){return ur(f,r)}if(0<Pr.length){ur(Pr[0],r);for(var a=1;a<Pr.length;a++){var c=Pr[a];c.blockedOn===r&&(c.blockedOn=null)}}for($t!==null&&ur($t,r),ar!==null&&ur(ar,r),lr!==null&&ur(lr,r),Oi.forEach(s),zn.forEach(s),a=0;a<kr.length;a++)c=kr[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)Vl(a),a.blockedOn===null&&kr.shift()}var Jr=oe.ReactCurrentBatchConfig,Vi=!0;function _t(r,s,a,c){var f=We,g=Jr.transition;Jr.transition=null;try{We=1,pa(r,s,a,c)}finally{We=f,Jr.transition=g}}function eh(r,s,a,c){var f=We,g=Jr.transition;Jr.transition=null;try{We=4,pa(r,s,a,c)}finally{We=f,Jr.transition=g}}function pa(r,s,a,c){if(Vi){var f=lo(r,s,a,c);if(f===null)hh(r,s,c,As,a),Ol(r,c);else if(Zc(f,r,s,a,c))c.stopPropagation();else if(Ol(r,c),s&4&&-1<Jc.indexOf(r)){for(;f!==null;){var g=Pa(f);if(g!==null&&xl(g),g=lo(r,s,a,c),g===null&&hh(r,s,c,As,a),g===f)break;f=g}f!==null&&c.stopPropagation()}else hh(r,s,c,null,a)}}var As=null;function lo(r,s,a,c){if(As=null,r=Pi(c),r=Cs(r),r!==null)if(s=qe(r),s===null)r=null;else if(a=s.tag,a===13){if(r=tt(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return As=r,null}function ma(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qr()){case Ye:return 1;case pt:return 4;case Kt:case or:return 16;case mt:return 536870912;default:return 16}default:return 16}}var On=null,uo=null,In=null;function ga(){if(In)return In;var r,s=uo,a=s.length,c,f="value"in On?On.value:On.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var w=a-r;for(c=1;c<=w&&s[a-c]===f[g-c];c++);return In=f.slice(r,1<c?1-c:void 0)}function co(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function xr(){return!0}function ya(){return!1}function Qt(r){function s(a,c,f,g,w){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?xr:ya,this.isPropagationStopped=ya,this}return he(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),s}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=Qt(hr),Nr=he({},hr,{view:0,detail:0}),th=Qt(Nr),fo,Zr,bi,Ss=he({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==bi&&(bi&&r.type==="mousemove"?(fo=r.screenX-bi.screenX,Zr=r.screenY-bi.screenY):Zr=fo=0,bi=r),fo)},movementY:function(r){return"movementY"in r?r.movementY:Zr}}),po=Qt(Ss),va=he({},Ss,{dataTransfer:0}),Ml=Qt(va),mo=he({},Nr,{relatedTarget:0}),go=Qt(mo),Ul=he({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),ei=Qt(Ul),Fl=he({},hr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),jl=Qt(Fl),Bl=he({},hr,{data:0}),_a=Qt(Bl),yo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=zl[r])?!!s[r]:!1}function Dr(){return Hl}var u=he({},Nr,{key:function(r){if(r.key){var s=yo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=co(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?gn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(r){return r.type==="keypress"?co(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?co(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Qt(u),v=he({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Qt(v),z=he({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),Q=Qt(z),ue=he({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ut=Qt(ue),Ot=he({},Ss,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Xe=Qt(Ot),Ft=[9,13,27,32],xt=d&&"CompositionEvent"in window,Hn=null;d&&"documentMode"in document&&(Hn=document.documentMode);var Vn=d&&"TextEvent"in window&&!Hn,Rs=d&&(!xt||Hn&&8<Hn&&11>=Hn),vo=" ",Ep=!1;function Tp(r,s){switch(r){case"keyup":return Ft.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ip(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var _o=!1;function $0(r,s){switch(r){case"compositionend":return Ip(s);case"keypress":return s.which!==32?null:(Ep=!0,vo);case"textInput":return r=s.data,r===vo&&Ep?null:r;default:return null}}function Q0(r,s){if(_o)return r==="compositionend"||!xt&&Tp(r,s)?(r=ga(),In=uo=On=null,_o=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Rs&&s.locale!=="ko"?null:s.data;default:return null}}var Y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ap(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Y0[r.type]:s==="textarea"}function Sp(r,s,a,c){pn(c),s=$l(s,"onChange"),0<s.length&&(a=new ho("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var wa=null,Ea=null;function X0(r){Hp(r,0)}function ql(r){var s=Ao(r);if(Ei(s))return r}function J0(r,s){if(r==="change")return s}var Rp=!1;if(d){var nh;if(d){var rh="oninput"in document;if(!rh){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),rh=typeof Cp.oninput=="function"}nh=rh}else nh=!1;Rp=nh&&(!document.documentMode||9<document.documentMode)}function Pp(){wa&&(wa.detachEvent("onpropertychange",kp),Ea=wa=null)}function kp(r){if(r.propertyName==="value"&&ql(Ea)){var s=[];Sp(s,Ea,r,Pi(r)),K(X0,s)}}function Z0(r,s,a){r==="focusin"?(Pp(),wa=s,Ea=a,wa.attachEvent("onpropertychange",kp)):r==="focusout"&&Pp()}function ew(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ql(Ea)}function tw(r,s){if(r==="click")return ql(s)}function nw(r,s){if(r==="input"||r==="change")return ql(s)}function rw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var dr=typeof Object.is=="function"?Object.is:rw;function Ta(r,s){if(dr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!p.call(s,f)||!dr(r[f],s[f]))return!1}return!0}function xp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Np(r,s){var a=xp(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xp(a)}}function Dp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Dp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Lp(){for(var r=window,s=nn();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=nn(r.document)}return s}function ih(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function iw(r){var s=Lp(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Dp(a.ownerDocument.documentElement,a)){if(c!==null&&ih(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!r.extend&&g>c&&(f=c,c=g,g=f),f=Np(a,g);var w=Np(a,c);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var sw=d&&"documentMode"in document&&11>=document.documentMode,wo=null,sh=null,Ia=null,oh=!1;function Op(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;oh||wo==null||wo!==nn(c)||(c=wo,"selectionStart"in c&&ih(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ia&&Ta(Ia,c)||(Ia=c,c=$l(sh,"onSelect"),0<c.length&&(s=new ho("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=wo)))}function Wl(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Eo={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionend:Wl("Transition","TransitionEnd")},ah={},Vp={};d&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function Gl(r){if(ah[r])return ah[r];if(!Eo[r])return r;var s=Eo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Vp)return ah[r]=s[a];return r}var bp=Gl("animationend"),Mp=Gl("animationiteration"),Up=Gl("animationstart"),Fp=Gl("transitionend"),jp=new Map,Bp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(r,s){jp.set(r,s),l(s,[r])}for(var lh=0;lh<Bp.length;lh++){var uh=Bp[lh],ow=uh.toLowerCase(),aw=uh[0].toUpperCase()+uh.slice(1);Mi(ow,"on"+aw)}Mi(bp,"onAnimationEnd"),Mi(Mp,"onAnimationIteration"),Mi(Up,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(Fp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function zp(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,St(c,s,void 0,r),r.currentTarget=null}function Hp(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],f=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var C=c[w],N=C.instance,G=C.currentTarget;if(C=C.listener,N!==g&&f.isPropagationStopped())break e;zp(f,C,G),g=N}else for(w=0;w<c.length;w++){if(C=c[w],N=C.instance,G=C.currentTarget,C=C.listener,N!==g&&f.isPropagationStopped())break e;zp(f,C,G),g=N}}}if(le)throw r=xe,le=!1,xe=null,r}function gt(r,s){var a=s[yh];a===void 0&&(a=s[yh]=new Set);var c=r+"__bubble";a.has(c)||(qp(s,r,2,!1),a.add(c))}function ch(r,s,a){var c=0;s&&(c|=4),qp(a,r,c,s)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function Sa(r){if(!r[Kl]){r[Kl]=!0,i.forEach(function(a){a!=="selectionchange"&&(lw.has(a)||ch(a,!1,r),ch(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Kl]||(s[Kl]=!0,ch("selectionchange",!1,s))}}function qp(r,s,a,c){switch(ma(s)){case 1:var f=_t;break;case 4:f=eh;break;default:f=pa}a=f.bind(null,s,a,r),f=void 0,!de||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function hh(r,s,a,c,f){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var C=c.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(w===4)for(w=c.return;w!==null;){var N=w.tag;if((N===3||N===4)&&(N=w.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;w=w.return}for(;C!==null;){if(w=Cs(C),w===null)return;if(N=w.tag,N===5||N===6){c=g=w;continue e}C=C.parentNode}}c=c.return}K(function(){var G=g,re=Pi(a),ie=[];e:{var ne=jp.get(r);if(ne!==void 0){var pe=ho,we=r;switch(r){case"keypress":if(co(a)===0)break e;case"keydown":case"keyup":pe=m;break;case"focusin":we="focus",pe=go;break;case"focusout":we="blur",pe=go;break;case"beforeblur":case"afterblur":pe=go;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Ml;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Q;break;case bp:case Mp:case Up:pe=ei;break;case Fp:pe=ut;break;case"scroll":pe=th;break;case"wheel":pe=Xe;break;case"copy":case"cut":case"paste":pe=jl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=E}var Ae=(s&4)!==0,Pt=!Ae&&r==="scroll",H=Ae?ne!==null?ne+"Capture":null:ne;Ae=[];for(var b=G,W;b!==null;){W=b;var se=W.stateNode;if(W.tag===5&&se!==null&&(W=se,H!==null&&(se=J(b,H),se!=null&&Ae.push(Ra(b,se,W)))),Pt)break;b=b.return}0<Ae.length&&(ne=new pe(ne,we,null,a,re),ie.push({event:ne,listeners:Ae}))}}if(!(s&7)){e:{if(ne=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",ne&&a!==tr&&(we=a.relatedTarget||a.fromElement)&&(Cs(we)||we[ti]))break e;if((pe||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,pe?(we=a.relatedTarget||a.toElement,pe=G,we=we?Cs(we):null,we!==null&&(Pt=qe(we),we!==Pt||we.tag!==5&&we.tag!==6)&&(we=null)):(pe=null,we=G),pe!==we)){if(Ae=po,se="onMouseLeave",H="onMouseEnter",b="mouse",(r==="pointerout"||r==="pointerover")&&(Ae=E,se="onPointerLeave",H="onPointerEnter",b="pointer"),Pt=pe==null?ne:Ao(pe),W=we==null?ne:Ao(we),ne=new Ae(se,b+"leave",pe,a,re),ne.target=Pt,ne.relatedTarget=W,se=null,Cs(re)===G&&(Ae=new Ae(H,b+"enter",we,a,re),Ae.target=W,Ae.relatedTarget=Pt,se=Ae),Pt=se,pe&&we)t:{for(Ae=pe,H=we,b=0,W=Ae;W;W=To(W))b++;for(W=0,se=H;se;se=To(se))W++;for(;0<b-W;)Ae=To(Ae),b--;for(;0<W-b;)H=To(H),W--;for(;b--;){if(Ae===H||H!==null&&Ae===H.alternate)break t;Ae=To(Ae),H=To(H)}Ae=null}else Ae=null;pe!==null&&Wp(ie,ne,pe,Ae,!1),we!==null&&Pt!==null&&Wp(ie,Pt,we,Ae,!0)}}e:{if(ne=G?Ao(G):window,pe=ne.nodeName&&ne.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ne.type==="file")var Se=J0;else if(Ap(ne))if(Rp)Se=nw;else{Se=ew;var Pe=Z0}else(pe=ne.nodeName)&&pe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Se=tw);if(Se&&(Se=Se(r,G))){Sp(ie,Se,a,re);break e}Pe&&Pe(r,ne,G),r==="focusout"&&(Pe=ne._wrapperState)&&Pe.controlled&&ne.type==="number"&&Ai(ne,"number",ne.value)}switch(Pe=G?Ao(G):window,r){case"focusin":(Ap(Pe)||Pe.contentEditable==="true")&&(wo=Pe,sh=G,Ia=null);break;case"focusout":Ia=sh=wo=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,Op(ie,a,re);break;case"selectionchange":if(sw)break;case"keydown":case"keyup":Op(ie,a,re)}var ke;if(xt)e:{switch(r){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else _o?Tp(r,a)&&(Ne="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(Rs&&a.locale!=="ko"&&(_o||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&_o&&(ke=ga()):(On=re,uo="value"in On?On.value:On.textContent,_o=!0)),Pe=$l(G,Ne),0<Pe.length&&(Ne=new _a(Ne,r,null,a,re),ie.push({event:Ne,listeners:Pe}),ke?Ne.data=ke:(ke=Ip(a),ke!==null&&(Ne.data=ke)))),(ke=Vn?$0(r,a):Q0(r,a))&&(G=$l(G,"onBeforeInput"),0<G.length&&(re=new _a("onBeforeInput","beforeinput",null,a,re),ie.push({event:re,listeners:G}),re.data=ke))}Hp(ie,s)})}function Ra(r,s,a){return{instance:r,listener:s,currentTarget:a}}function $l(r,s){for(var a=s+"Capture",c=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=J(r,a),g!=null&&c.unshift(Ra(r,g,f)),g=J(r,s),g!=null&&c.push(Ra(r,g,f))),r=r.return}return c}function To(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Wp(r,s,a,c,f){for(var g=s._reactName,w=[];a!==null&&a!==c;){var C=a,N=C.alternate,G=C.stateNode;if(N!==null&&N===c)break;C.tag===5&&G!==null&&(C=G,f?(N=J(a,g),N!=null&&w.unshift(Ra(a,N,C))):f||(N=J(a,g),N!=null&&w.push(Ra(a,N,C)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var uw=/\r\n?/g,cw=/\u0000|\uFFFD/g;function Gp(r){return(typeof r=="string"?r:""+r).replace(uw,`
`).replace(cw,"")}function Ql(r,s,a){if(s=Gp(s),Gp(r)!==s&&a)throw Error(t(425))}function Yl(){}var dh=null,fh=null;function ph(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mh=typeof setTimeout=="function"?setTimeout:void 0,hw=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,dw=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(r){return Kp.resolve(null).then(r).catch(fw)}:mh;function fw(r){setTimeout(function(){throw r})}function gh(r,s){var a=s,c=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){r.removeChild(f),cr(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);cr(s)}function Ui(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function $p(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Io=Math.random().toString(36).slice(2),Lr="__reactFiber$"+Io,Ca="__reactProps$"+Io,ti="__reactContainer$"+Io,yh="__reactEvents$"+Io,pw="__reactListeners$"+Io,mw="__reactHandles$"+Io;function Cs(r){var s=r[Lr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[ti]||a[Lr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=$p(r);r!==null;){if(a=r[Lr])return a;r=$p(r)}return s}r=a,a=r.parentNode}return null}function Pa(r){return r=r[Lr]||r[ti],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ao(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Xl(r){return r[Ca]||null}var vh=[],So=-1;function Fi(r){return{current:r}}function yt(r){0>So||(r.current=vh[So],vh[So]=null,So--)}function dt(r,s){So++,vh[So]=r.current,r.current=s}var ji={},on=Fi(ji),An=Fi(!1),Ps=ji;function Ro(r,s){var a=r.type.contextTypes;if(!a)return ji;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Sn(r){return r=r.childContextTypes,r!=null}function Jl(){yt(An),yt(on)}function Qp(r,s,a){if(on.current!==ji)throw Error(t(168));dt(on,s),dt(An,a)}function Yp(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(t(108,Ze(r)||"Unknown",f));return he({},a,c)}function Zl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ji,Ps=on.current,dt(on,r),dt(An,An.current),!0}function Xp(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=Yp(r,s,Ps),c.__reactInternalMemoizedMergedChildContext=r,yt(An),yt(on),dt(on,r)):yt(An),dt(An,a)}var ni=null,eu=!1,_h=!1;function Jp(r){ni===null?ni=[r]:ni.push(r)}function gw(r){eu=!0,Jp(r)}function Bi(){if(!_h&&ni!==null){_h=!0;var r=0,s=We;try{var a=ni;for(We=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}ni=null,eu=!1}catch(f){throw ni!==null&&(ni=ni.slice(r+1)),Gt(Ye,Bi),f}finally{We=s,_h=!1}}return null}var Co=[],Po=0,tu=null,nu=0,qn=[],Wn=0,ks=null,ri=1,ii="";function xs(r,s){Co[Po++]=nu,Co[Po++]=tu,tu=r,nu=s}function Zp(r,s,a){qn[Wn++]=ri,qn[Wn++]=ii,qn[Wn++]=ks,ks=r;var c=ri;r=ii;var f=32-mn(c)-1;c&=~(1<<f),a+=1;var g=32-mn(s)+f;if(30<g){var w=f-f%5;g=(c&(1<<w)-1).toString(32),c>>=w,f-=w,ri=1<<32-mn(s)+f|a<<f|c,ii=g+r}else ri=1<<g|a<<f|c,ii=r}function wh(r){r.return!==null&&(xs(r,1),Zp(r,1,0))}function Eh(r){for(;r===tu;)tu=Co[--Po],Co[Po]=null,nu=Co[--Po],Co[Po]=null;for(;r===ks;)ks=qn[--Wn],qn[Wn]=null,ii=qn[--Wn],qn[Wn]=null,ri=qn[--Wn],qn[Wn]=null}var bn=null,Mn=null,wt=!1,fr=null;function em(r,s){var a=Qn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function tm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,bn=r,Mn=Ui(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,bn=r,Mn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ks!==null?{id:ri,overflow:ii}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Qn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,bn=r,Mn=null,!0):!1;default:return!1}}function Th(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ih(r){if(wt){var s=Mn;if(s){var a=s;if(!tm(r,s)){if(Th(r))throw Error(t(418));s=Ui(a.nextSibling);var c=bn;s&&tm(r,s)?em(c,a):(r.flags=r.flags&-4097|2,wt=!1,bn=r)}}else{if(Th(r))throw Error(t(418));r.flags=r.flags&-4097|2,wt=!1,bn=r}}}function nm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;bn=r}function ru(r){if(r!==bn)return!1;if(!wt)return nm(r),wt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!ph(r.type,r.memoizedProps)),s&&(s=Mn)){if(Th(r))throw rm(),Error(t(418));for(;s;)em(r,s),s=Ui(s.nextSibling)}if(nm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Mn=Ui(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Mn=null}}else Mn=bn?Ui(r.stateNode.nextSibling):null;return!0}function rm(){for(var r=Mn;r;)r=Ui(r.nextSibling)}function ko(){Mn=bn=null,wt=!1}function Ah(r){fr===null?fr=[r]:fr.push(r)}var yw=oe.ReactCurrentBatchConfig;function ka(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var f=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var C=f.refs;w===null?delete C[g]:C[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function iu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function im(r){var s=r._init;return s(r._payload)}function sm(r){function s(H,b){if(r){var W=H.deletions;W===null?(H.deletions=[b],H.flags|=16):W.push(b)}}function a(H,b){if(!r)return null;for(;b!==null;)s(H,b),b=b.sibling;return null}function c(H,b){for(H=new Map;b!==null;)b.key!==null?H.set(b.key,b):H.set(b.index,b),b=b.sibling;return H}function f(H,b){return H=Qi(H,b),H.index=0,H.sibling=null,H}function g(H,b,W){return H.index=W,r?(W=H.alternate,W!==null?(W=W.index,W<b?(H.flags|=2,b):W):(H.flags|=2,b)):(H.flags|=1048576,b)}function w(H){return r&&H.alternate===null&&(H.flags|=2),H}function C(H,b,W,se){return b===null||b.tag!==6?(b=md(W,H.mode,se),b.return=H,b):(b=f(b,W),b.return=H,b)}function N(H,b,W,se){var Se=W.type;return Se===k?re(H,b,W.props.children,se,W.key):b!==null&&(b.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Ct&&im(Se)===b.type)?(se=f(b,W.props),se.ref=ka(H,b,W),se.return=H,se):(se=Pu(W.type,W.key,W.props,null,H.mode,se),se.ref=ka(H,b,W),se.return=H,se)}function G(H,b,W,se){return b===null||b.tag!==4||b.stateNode.containerInfo!==W.containerInfo||b.stateNode.implementation!==W.implementation?(b=gd(W,H.mode,se),b.return=H,b):(b=f(b,W.children||[]),b.return=H,b)}function re(H,b,W,se,Se){return b===null||b.tag!==7?(b=Us(W,H.mode,se,Se),b.return=H,b):(b=f(b,W),b.return=H,b)}function ie(H,b,W){if(typeof b=="string"&&b!==""||typeof b=="number")return b=md(""+b,H.mode,W),b.return=H,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case F:return W=Pu(b.type,b.key,b.props,null,H.mode,W),W.ref=ka(H,null,b),W.return=H,W;case ce:return b=gd(b,H.mode,W),b.return=H,b;case Ct:var se=b._init;return ie(H,se(b._payload),W)}if(Zn(b)||Te(b))return b=Us(b,H.mode,W,null),b.return=H,b;iu(H,b)}return null}function ne(H,b,W,se){var Se=b!==null?b.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Se!==null?null:C(H,b,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case F:return W.key===Se?N(H,b,W,se):null;case ce:return W.key===Se?G(H,b,W,se):null;case Ct:return Se=W._init,ne(H,b,Se(W._payload),se)}if(Zn(W)||Te(W))return Se!==null?null:re(H,b,W,se,null);iu(H,W)}return null}function pe(H,b,W,se,Se){if(typeof se=="string"&&se!==""||typeof se=="number")return H=H.get(W)||null,C(b,H,""+se,Se);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case F:return H=H.get(se.key===null?W:se.key)||null,N(b,H,se,Se);case ce:return H=H.get(se.key===null?W:se.key)||null,G(b,H,se,Se);case Ct:var Pe=se._init;return pe(H,b,W,Pe(se._payload),Se)}if(Zn(se)||Te(se))return H=H.get(W)||null,re(b,H,se,Se,null);iu(b,se)}return null}function we(H,b,W,se){for(var Se=null,Pe=null,ke=b,Ne=b=0,zt=null;ke!==null&&Ne<W.length;Ne++){ke.index>Ne?(zt=ke,ke=null):zt=ke.sibling;var rt=ne(H,ke,W[Ne],se);if(rt===null){ke===null&&(ke=zt);break}r&&ke&&rt.alternate===null&&s(H,ke),b=g(rt,b,Ne),Pe===null?Se=rt:Pe.sibling=rt,Pe=rt,ke=zt}if(Ne===W.length)return a(H,ke),wt&&xs(H,Ne),Se;if(ke===null){for(;Ne<W.length;Ne++)ke=ie(H,W[Ne],se),ke!==null&&(b=g(ke,b,Ne),Pe===null?Se=ke:Pe.sibling=ke,Pe=ke);return wt&&xs(H,Ne),Se}for(ke=c(H,ke);Ne<W.length;Ne++)zt=pe(ke,H,Ne,W[Ne],se),zt!==null&&(r&&zt.alternate!==null&&ke.delete(zt.key===null?Ne:zt.key),b=g(zt,b,Ne),Pe===null?Se=zt:Pe.sibling=zt,Pe=zt);return r&&ke.forEach(function(Yi){return s(H,Yi)}),wt&&xs(H,Ne),Se}function Ae(H,b,W,se){var Se=Te(W);if(typeof Se!="function")throw Error(t(150));if(W=Se.call(W),W==null)throw Error(t(151));for(var Pe=Se=null,ke=b,Ne=b=0,zt=null,rt=W.next();ke!==null&&!rt.done;Ne++,rt=W.next()){ke.index>Ne?(zt=ke,ke=null):zt=ke.sibling;var Yi=ne(H,ke,rt.value,se);if(Yi===null){ke===null&&(ke=zt);break}r&&ke&&Yi.alternate===null&&s(H,ke),b=g(Yi,b,Ne),Pe===null?Se=Yi:Pe.sibling=Yi,Pe=Yi,ke=zt}if(rt.done)return a(H,ke),wt&&xs(H,Ne),Se;if(ke===null){for(;!rt.done;Ne++,rt=W.next())rt=ie(H,rt.value,se),rt!==null&&(b=g(rt,b,Ne),Pe===null?Se=rt:Pe.sibling=rt,Pe=rt);return wt&&xs(H,Ne),Se}for(ke=c(H,ke);!rt.done;Ne++,rt=W.next())rt=pe(ke,H,Ne,rt.value,se),rt!==null&&(r&&rt.alternate!==null&&ke.delete(rt.key===null?Ne:rt.key),b=g(rt,b,Ne),Pe===null?Se=rt:Pe.sibling=rt,Pe=rt);return r&&ke.forEach(function(Yw){return s(H,Yw)}),wt&&xs(H,Ne),Se}function Pt(H,b,W,se){if(typeof W=="object"&&W!==null&&W.type===k&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case F:e:{for(var Se=W.key,Pe=b;Pe!==null;){if(Pe.key===Se){if(Se=W.type,Se===k){if(Pe.tag===7){a(H,Pe.sibling),b=f(Pe,W.props.children),b.return=H,H=b;break e}}else if(Pe.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Ct&&im(Se)===Pe.type){a(H,Pe.sibling),b=f(Pe,W.props),b.ref=ka(H,Pe,W),b.return=H,H=b;break e}a(H,Pe);break}else s(H,Pe);Pe=Pe.sibling}W.type===k?(b=Us(W.props.children,H.mode,se,W.key),b.return=H,H=b):(se=Pu(W.type,W.key,W.props,null,H.mode,se),se.ref=ka(H,b,W),se.return=H,H=se)}return w(H);case ce:e:{for(Pe=W.key;b!==null;){if(b.key===Pe)if(b.tag===4&&b.stateNode.containerInfo===W.containerInfo&&b.stateNode.implementation===W.implementation){a(H,b.sibling),b=f(b,W.children||[]),b.return=H,H=b;break e}else{a(H,b);break}else s(H,b);b=b.sibling}b=gd(W,H.mode,se),b.return=H,H=b}return w(H);case Ct:return Pe=W._init,Pt(H,b,Pe(W._payload),se)}if(Zn(W))return we(H,b,W,se);if(Te(W))return Ae(H,b,W,se);iu(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,b!==null&&b.tag===6?(a(H,b.sibling),b=f(b,W),b.return=H,H=b):(a(H,b),b=md(W,H.mode,se),b.return=H,H=b),w(H)):a(H,b)}return Pt}var xo=sm(!0),om=sm(!1),su=Fi(null),ou=null,No=null,Sh=null;function Rh(){Sh=No=ou=null}function Ch(r){var s=su.current;yt(su),r._currentValue=s}function Ph(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function Do(r,s){ou=r,Sh=No=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(Rn=!0),r.firstContext=null)}function Gn(r){var s=r._currentValue;if(Sh!==r)if(r={context:r,memoizedValue:s,next:null},No===null){if(ou===null)throw Error(t(308));No=r,ou.dependencies={lanes:0,firstContext:r}}else No=No.next=r;return s}var Ns=null;function kh(r){Ns===null?Ns=[r]:Ns.push(r)}function am(r,s,a,c){var f=s.interleaved;return f===null?(a.next=a,kh(s)):(a.next=f.next,f.next=a),s.interleaved=a,si(r,c)}function si(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var zi=!1;function xh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function oi(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Hi(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,nt&2){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,si(r,a)}return f=c.interleaved,f===null?(s.next=s,kh(c)):(s.next=f.next,f.next=s),c.interleaved=s,si(r,a)}function au(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Di(r,a)}}function um(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function lu(r,s,a,c){var f=r.updateQueue;zi=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var N=C,G=N.next;N.next=null,w===null?g=G:w.next=G,w=N;var re=r.alternate;re!==null&&(re=re.updateQueue,C=re.lastBaseUpdate,C!==w&&(C===null?re.firstBaseUpdate=G:C.next=G,re.lastBaseUpdate=N))}if(g!==null){var ie=f.baseState;w=0,re=G=N=null,C=g;do{var ne=C.lane,pe=C.eventTime;if((c&ne)===ne){re!==null&&(re=re.next={eventTime:pe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var we=r,Ae=C;switch(ne=s,pe=a,Ae.tag){case 1:if(we=Ae.payload,typeof we=="function"){ie=we.call(pe,ie,ne);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ae.payload,ne=typeof we=="function"?we.call(pe,ie,ne):we,ne==null)break e;ie=he({},ie,ne);break e;case 2:zi=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,ne=f.effects,ne===null?f.effects=[C]:ne.push(C))}else pe={eventTime:pe,lane:ne,tag:C.tag,payload:C.payload,callback:C.callback,next:null},re===null?(G=re=pe,N=ie):re=re.next=pe,w|=ne;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;ne=C,C=ne.next,ne.next=null,f.lastBaseUpdate=ne,f.shared.pending=null}}while(!0);if(re===null&&(N=ie),f.baseState=N,f.firstBaseUpdate=G,f.lastBaseUpdate=re,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Os|=w,r.lanes=w,r.memoizedState=ie}}function cm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var xa={},Or=Fi(xa),Na=Fi(xa),Da=Fi(xa);function Ds(r){if(r===xa)throw Error(t(174));return r}function Nh(r,s){switch(dt(Da,s),dt(Na,r),dt(Or,xa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:At(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=At(s,r)}yt(Or),dt(Or,s)}function Lo(){yt(Or),yt(Na),yt(Da)}function hm(r){Ds(Da.current);var s=Ds(Or.current),a=At(s,r.type);s!==a&&(dt(Na,r),dt(Or,a))}function Dh(r){Na.current===r&&(yt(Or),yt(Na))}var Et=Fi(0);function uu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Lh=[];function Oh(){for(var r=0;r<Lh.length;r++)Lh[r]._workInProgressVersionPrimary=null;Lh.length=0}var cu=oe.ReactCurrentDispatcher,Vh=oe.ReactCurrentBatchConfig,Ls=0,Tt=null,Vt=null,jt=null,hu=!1,La=!1,Oa=0,vw=0;function an(){throw Error(t(321))}function bh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!dr(r[a],s[a]))return!1;return!0}function Mh(r,s,a,c,f,g){if(Ls=g,Tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,cu.current=r===null||r.memoizedState===null?Tw:Iw,r=a(c,f),La){g=0;do{if(La=!1,Oa=0,25<=g)throw Error(t(301));g+=1,jt=Vt=null,s.updateQueue=null,cu.current=Aw,r=a(c,f)}while(La)}if(cu.current=pu,s=Vt!==null&&Vt.next!==null,Ls=0,jt=Vt=Tt=null,hu=!1,s)throw Error(t(300));return r}function Uh(){var r=Oa!==0;return Oa=0,r}function Vr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Tt.memoizedState=jt=r:jt=jt.next=r,jt}function Kn(){if(Vt===null){var r=Tt.alternate;r=r!==null?r.memoizedState:null}else r=Vt.next;var s=jt===null?Tt.memoizedState:jt.next;if(s!==null)jt=s,Vt=r;else{if(r===null)throw Error(t(310));Vt=r,r={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},jt===null?Tt.memoizedState=jt=r:jt=jt.next=r}return jt}function Va(r,s){return typeof s=="function"?s(r):s}function Fh(r){var s=Kn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=Vt,f=c.baseQueue,g=a.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}c.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,c=c.baseState;var C=w=null,N=null,G=g;do{var re=G.lane;if((Ls&re)===re)N!==null&&(N=N.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),c=G.hasEagerState?G.eagerState:r(c,G.action);else{var ie={lane:re,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};N===null?(C=N=ie,w=c):N=N.next=ie,Tt.lanes|=re,Os|=re}G=G.next}while(G!==null&&G!==g);N===null?w=c:N.next=C,dr(c,s.memoizedState)||(Rn=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=N,a.lastRenderedState=c}if(r=a.interleaved,r!==null){f=r;do g=f.lane,Tt.lanes|=g,Os|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function jh(r){var s=Kn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);dr(g,s.memoizedState)||(Rn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function dm(){}function fm(r,s){var a=Tt,c=Kn(),f=s(),g=!dr(c.memoizedState,f);if(g&&(c.memoizedState=f,Rn=!0),c=c.queue,Bh(gm.bind(null,a,c,r),[r]),c.getSnapshot!==s||g||jt!==null&&jt.memoizedState.tag&1){if(a.flags|=2048,ba(9,mm.bind(null,a,c,f,s),void 0,null),Bt===null)throw Error(t(349));Ls&30||pm(a,s,f)}return f}function pm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Tt.updateQueue,s===null?(s={lastEffect:null,stores:null},Tt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function mm(r,s,a,c){s.value=a,s.getSnapshot=c,ym(s)&&vm(r)}function gm(r,s,a){return a(function(){ym(s)&&vm(r)})}function ym(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!dr(r,a)}catch{return!0}}function vm(r){var s=si(r,1);s!==null&&yr(s,r,1,-1)}function _m(r){var s=Vr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:r},s.queue=r,r=r.dispatch=Ew.bind(null,Tt,r),[s.memoizedState,r]}function ba(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=Tt.updateQueue,s===null?(s={lastEffect:null,stores:null},Tt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function wm(){return Kn().memoizedState}function du(r,s,a,c){var f=Vr();Tt.flags|=r,f.memoizedState=ba(1|s,a,void 0,c===void 0?null:c)}function fu(r,s,a,c){var f=Kn();c=c===void 0?null:c;var g=void 0;if(Vt!==null){var w=Vt.memoizedState;if(g=w.destroy,c!==null&&bh(c,w.deps)){f.memoizedState=ba(s,a,g,c);return}}Tt.flags|=r,f.memoizedState=ba(1|s,a,g,c)}function Em(r,s){return du(8390656,8,r,s)}function Bh(r,s){return fu(2048,8,r,s)}function Tm(r,s){return fu(4,2,r,s)}function Im(r,s){return fu(4,4,r,s)}function Am(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Sm(r,s,a){return a=a!=null?a.concat([r]):null,fu(4,4,Am.bind(null,s,r),a)}function zh(){}function Rm(r,s){var a=Kn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&bh(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function Cm(r,s){var a=Kn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&bh(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function Pm(r,s,a){return Ls&21?(dr(a,s)||(a=Ts(),Tt.lanes|=a,Os|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,Rn=!0),r.memoizedState=a)}function _w(r,s){var a=We;We=a!==0&&4>a?a:4,r(!0);var c=Vh.transition;Vh.transition={};try{r(!1),s()}finally{We=a,Vh.transition=c}}function km(){return Kn().memoizedState}function ww(r,s,a){var c=Ki(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},xm(r))Nm(s,a);else if(a=am(r,s,a,c),a!==null){var f=vn();yr(a,r,c,f),Dm(a,s,c)}}function Ew(r,s,a){var c=Ki(r),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(xm(r))Nm(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,C=g(w,a);if(f.hasEagerState=!0,f.eagerState=C,dr(C,w)){var N=s.interleaved;N===null?(f.next=f,kh(s)):(f.next=N.next,N.next=f),s.interleaved=f;return}}catch{}finally{}a=am(r,s,f,c),a!==null&&(f=vn(),yr(a,r,c,f),Dm(a,s,c))}}function xm(r){var s=r.alternate;return r===Tt||s!==null&&s===Tt}function Nm(r,s){La=hu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Dm(r,s,a){if(a&4194240){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Di(r,a)}}var pu={readContext:Gn,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},Tw={readContext:Gn,useCallback:function(r,s){return Vr().memoizedState=[r,s===void 0?null:s],r},useContext:Gn,useEffect:Em,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,du(4194308,4,Am.bind(null,s,r),a)},useLayoutEffect:function(r,s){return du(4194308,4,r,s)},useInsertionEffect:function(r,s){return du(4,2,r,s)},useMemo:function(r,s){var a=Vr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=Vr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=ww.bind(null,Tt,r),[c.memoizedState,r]},useRef:function(r){var s=Vr();return r={current:r},s.memoizedState=r},useState:_m,useDebugValue:zh,useDeferredValue:function(r){return Vr().memoizedState=r},useTransition:function(){var r=_m(!1),s=r[0];return r=_w.bind(null,r[1]),Vr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=Tt,f=Vr();if(wt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Bt===null)throw Error(t(349));Ls&30||pm(c,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Em(gm.bind(null,c,g,r),[r]),c.flags|=2048,ba(9,mm.bind(null,c,g,a,s),void 0,null),a},useId:function(){var r=Vr(),s=Bt.identifierPrefix;if(wt){var a=ii,c=ri;a=(c&~(1<<32-mn(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Oa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=vw++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Iw={readContext:Gn,useCallback:Rm,useContext:Gn,useEffect:Bh,useImperativeHandle:Sm,useInsertionEffect:Tm,useLayoutEffect:Im,useMemo:Cm,useReducer:Fh,useRef:wm,useState:function(){return Fh(Va)},useDebugValue:zh,useDeferredValue:function(r){var s=Kn();return Pm(s,Vt.memoizedState,r)},useTransition:function(){var r=Fh(Va)[0],s=Kn().memoizedState;return[r,s]},useMutableSource:dm,useSyncExternalStore:fm,useId:km,unstable_isNewReconciler:!1},Aw={readContext:Gn,useCallback:Rm,useContext:Gn,useEffect:Bh,useImperativeHandle:Sm,useInsertionEffect:Tm,useLayoutEffect:Im,useMemo:Cm,useReducer:jh,useRef:wm,useState:function(){return jh(Va)},useDebugValue:zh,useDeferredValue:function(r){var s=Kn();return Vt===null?s.memoizedState=r:Pm(s,Vt.memoizedState,r)},useTransition:function(){var r=jh(Va)[0],s=Kn().memoizedState;return[r,s]},useMutableSource:dm,useSyncExternalStore:fm,useId:km,unstable_isNewReconciler:!1};function pr(r,s){if(r&&r.defaultProps){s=he({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Hh(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:he({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var mu={isMounted:function(r){return(r=r._reactInternals)?qe(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=vn(),f=Ki(r),g=oi(c,f);g.payload=s,a!=null&&(g.callback=a),s=Hi(r,g,f),s!==null&&(yr(s,r,f,c),au(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=vn(),f=Ki(r),g=oi(c,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Hi(r,g,f),s!==null&&(yr(s,r,f,c),au(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=vn(),c=Ki(r),f=oi(a,c);f.tag=2,s!=null&&(f.callback=s),s=Hi(r,f,c),s!==null&&(yr(s,r,c,a),au(s,r,c))}};function Lm(r,s,a,c,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!Ta(a,c)||!Ta(f,g):!0}function Om(r,s,a){var c=!1,f=ji,g=s.contextType;return typeof g=="object"&&g!==null?g=Gn(g):(f=Sn(s)?Ps:on.current,c=s.contextTypes,g=(c=c!=null)?Ro(r,f):ji),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=mu,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Vm(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&mu.enqueueReplaceState(s,s.state,null)}function qh(r,s,a,c){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},xh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Gn(g):(g=Sn(s)?Ps:on.current,f.context=Ro(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Hh(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&mu.enqueueReplaceState(f,f.state,null),lu(r,a,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Oo(r,s){try{var a="",c=s;do a+=Le(c),c=c.return;while(c);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Wh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Gh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Sw=typeof WeakMap=="function"?WeakMap:Map;function bm(r,s,a){a=oi(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Tu||(Tu=!0,ad=c),Gh(r,s)},a}function Mm(r,s,a){a=oi(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;a.payload=function(){return c(f)},a.callback=function(){Gh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Gh(r,s),typeof c!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Um(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new Sw;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(f.add(a),r=Fw.bind(null,r,s,a),s.then(r,r))}function Fm(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function jm(r,s,a,c,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=oi(-1,1),s.tag=2,Hi(a,s,1))),a.lanes|=1),r)}var Rw=oe.ReactCurrentOwner,Rn=!1;function yn(r,s,a,c){s.child=r===null?om(s,null,a,c):xo(s,r.child,a,c)}function Bm(r,s,a,c,f){a=a.render;var g=s.ref;return Do(s,f),c=Mh(r,s,a,c,g,f),a=Uh(),r!==null&&!Rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ai(r,s,f)):(wt&&a&&wh(s),s.flags|=1,yn(r,s,c,f),s.child)}function zm(r,s,a,c,f){if(r===null){var g=a.type;return typeof g=="function"&&!pd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Hm(r,s,g,c,f)):(r=Pu(a.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ta,a(w,c)&&r.ref===s.ref)return ai(r,s,f)}return s.flags|=1,r=Qi(g,c),r.ref=s.ref,r.return=s,s.child=r}function Hm(r,s,a,c,f){if(r!==null){var g=r.memoizedProps;if(Ta(g,c)&&r.ref===s.ref)if(Rn=!1,s.pendingProps=c=g,(r.lanes&f)!==0)r.flags&131072&&(Rn=!0);else return s.lanes=r.lanes,ai(r,s,f)}return Kh(r,s,a,c,f)}function qm(r,s,a){var c=s.pendingProps,f=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(bo,Un),Un|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,dt(bo,Un),Un|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,dt(bo,Un),Un|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,dt(bo,Un),Un|=c;return yn(r,s,f,a),s.child}function Wm(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Kh(r,s,a,c,f){var g=Sn(a)?Ps:on.current;return g=Ro(s,g),Do(s,f),a=Mh(r,s,a,c,g,f),c=Uh(),r!==null&&!Rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ai(r,s,f)):(wt&&c&&wh(s),s.flags|=1,yn(r,s,a,f),s.child)}function Gm(r,s,a,c,f){if(Sn(a)){var g=!0;Zl(s)}else g=!1;if(Do(s,f),s.stateNode===null)yu(r,s),Om(s,a,c),qh(s,a,c,f),c=!0;else if(r===null){var w=s.stateNode,C=s.memoizedProps;w.props=C;var N=w.context,G=a.contextType;typeof G=="object"&&G!==null?G=Gn(G):(G=Sn(a)?Ps:on.current,G=Ro(s,G));var re=a.getDerivedStateFromProps,ie=typeof re=="function"||typeof w.getSnapshotBeforeUpdate=="function";ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==c||N!==G)&&Vm(s,w,c,G),zi=!1;var ne=s.memoizedState;w.state=ne,lu(s,c,w,f),N=s.memoizedState,C!==c||ne!==N||An.current||zi?(typeof re=="function"&&(Hh(s,a,re,c),N=s.memoizedState),(C=zi||Lm(s,a,C,c,ne,N,G))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=N),w.props=c,w.state=N,w.context=G,c=C):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,lm(r,s),C=s.memoizedProps,G=s.type===s.elementType?C:pr(s.type,C),w.props=G,ie=s.pendingProps,ne=w.context,N=a.contextType,typeof N=="object"&&N!==null?N=Gn(N):(N=Sn(a)?Ps:on.current,N=Ro(s,N));var pe=a.getDerivedStateFromProps;(re=typeof pe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==ie||ne!==N)&&Vm(s,w,c,N),zi=!1,ne=s.memoizedState,w.state=ne,lu(s,c,w,f);var we=s.memoizedState;C!==ie||ne!==we||An.current||zi?(typeof pe=="function"&&(Hh(s,a,pe,c),we=s.memoizedState),(G=zi||Lm(s,a,G,c,ne,we,N)||!1)?(re||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,we,N),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,we,N)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=we),w.props=c,w.state=we,w.context=N,c=G):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),c=!1)}return $h(r,s,a,c,g,f)}function $h(r,s,a,c,f,g){Wm(r,s);var w=(s.flags&128)!==0;if(!c&&!w)return f&&Xp(s,a,!1),ai(r,s,g);c=s.stateNode,Rw.current=s;var C=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&w?(s.child=xo(s,r.child,null,g),s.child=xo(s,null,C,g)):yn(r,s,C,g),s.memoizedState=c.state,f&&Xp(s,a,!0),s.child}function Km(r){var s=r.stateNode;s.pendingContext?Qp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Qp(r,s.context,!1),Nh(r,s.containerInfo)}function $m(r,s,a,c,f){return ko(),Ah(f),s.flags|=256,yn(r,s,a,c),s.child}var Qh={dehydrated:null,treeContext:null,retryLane:0};function Yh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Qm(r,s,a){var c=s.pendingProps,f=Et.current,g=!1,w=(s.flags&128)!==0,C;if((C=w)||(C=r!==null&&r.memoizedState===null?!1:(f&2)!==0),C?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),dt(Et,f&1),r===null)return Ih(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=c.children,r=c.fallback,g?(c=s.mode,g=s.child,w={mode:"hidden",children:w},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=ku(w,c,0,null),r=Us(r,c,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Yh(a),s.memoizedState=Qh,r):Xh(s,w));if(f=r.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return Cw(r,s,w,c,C,f,a);if(g){g=c.fallback,w=s.mode,f=r.child,C=f.sibling;var N={mode:"hidden",children:c.children};return!(w&1)&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=N,s.deletions=null):(c=Qi(f,N),c.subtreeFlags=f.subtreeFlags&14680064),C!==null?g=Qi(C,g):(g=Us(g,w,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,w=r.child.memoizedState,w=w===null?Yh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=Qh,c}return g=r.child,r=g.sibling,c=Qi(g,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function Xh(r,s){return s=ku({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function gu(r,s,a,c){return c!==null&&Ah(c),xo(s,r.child,null,a),r=Xh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Cw(r,s,a,c,f,g,w){if(a)return s.flags&256?(s.flags&=-257,c=Wh(Error(t(422))),gu(r,s,w,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,f=s.mode,c=ku({mode:"visible",children:c.children},f,0,null),g=Us(g,f,w,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,s.mode&1&&xo(s,r.child,null,w),s.child.memoizedState=Yh(w),s.memoizedState=Qh,g);if(!(s.mode&1))return gu(r,s,w,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var C=c.dgst;return c=C,g=Error(t(419)),c=Wh(g,c,void 0),gu(r,s,w,c)}if(C=(w&r.childLanes)!==0,Rn||C){if(c=Bt,c!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,si(r,f),yr(c,r,f,-1))}return fd(),c=Wh(Error(t(421))),gu(r,s,w,c)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=jw.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,Mn=Ui(f.nextSibling),bn=s,wt=!0,fr=null,r!==null&&(qn[Wn++]=ri,qn[Wn++]=ii,qn[Wn++]=ks,ri=r.id,ii=r.overflow,ks=s),s=Xh(s,c.children),s.flags|=4096,s)}function Ym(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Ph(r.return,s,a)}function Jh(r,s,a,c,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=f)}function Xm(r,s,a){var c=s.pendingProps,f=c.revealOrder,g=c.tail;if(yn(r,s,c.children,a),c=Et.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ym(r,a,s);else if(r.tag===19)Ym(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(dt(Et,c),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&uu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Jh(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&uu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Jh(s,!0,a,null,g);break;case"together":Jh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function yu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ai(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Os|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Qi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Qi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function Pw(r,s,a){switch(s.tag){case 3:Km(s),ko();break;case 5:hm(s);break;case 1:Sn(s.type)&&Zl(s);break;case 4:Nh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;dt(su,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(dt(Et,Et.current&1),s.flags|=128,null):a&s.child.childLanes?Qm(r,s,a):(dt(Et,Et.current&1),r=ai(r,s,a),r!==null?r.sibling:null);dt(Et,Et.current&1);break;case 19:if(c=(a&s.childLanes)!==0,r.flags&128){if(c)return Xm(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),dt(Et,Et.current),c)break;return null;case 22:case 23:return s.lanes=0,qm(r,s,a)}return ai(r,s,a)}var Jm,Zh,Zm,eg;Jm=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Zh=function(){},Zm=function(r,s,a,c){var f=r.memoizedProps;if(f!==c){r=s.stateNode,Ds(Or.current);var g=null;switch(a){case"input":f=qr(r,f),c=qr(r,c),g=[];break;case"select":f=he({},f,{value:void 0}),c=he({},c,{value:void 0}),g=[];break;case"textarea":f=er(r,f),c=er(r,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Yl)}Rr(a,c);var w;a=null;for(G in f)if(!c.hasOwnProperty(G)&&f.hasOwnProperty(G)&&f[G]!=null)if(G==="style"){var C=f[G];for(w in C)C.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?g||(g=[]):(g=g||[]).push(G,null));for(G in c){var N=c[G];if(C=f!=null?f[G]:void 0,c.hasOwnProperty(G)&&N!==C&&(N!=null||C!=null))if(G==="style")if(C){for(w in C)!C.hasOwnProperty(w)||N&&N.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in N)N.hasOwnProperty(w)&&C[w]!==N[w]&&(a||(a={}),a[w]=N[w])}else a||(g||(g=[]),g.push(G,a)),a=N;else G==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,C=C?C.__html:void 0,N!=null&&C!==N&&(g=g||[]).push(G,N)):G==="children"?typeof N!="string"&&typeof N!="number"||(g=g||[]).push(G,""+N):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(N!=null&&G==="onScroll"&&gt("scroll",r),g||C===N||(g=[])):(g=g||[]).push(G,N))}a&&(g=g||[]).push("style",a);var G=g;(s.updateQueue=G)&&(s.flags|=4)}},eg=function(r,s,a,c){a!==c&&(s.flags|=4)};function Ma(r,s){if(!wt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ln(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function kw(r,s,a){var c=s.pendingProps;switch(Eh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(s),null;case 1:return Sn(s.type)&&Jl(),ln(s),null;case 3:return c=s.stateNode,Lo(),yt(An),yt(on),Oh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(ru(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,fr!==null&&(cd(fr),fr=null))),Zh(r,s),ln(s),null;case 5:Dh(s);var f=Ds(Da.current);if(a=s.type,r!==null&&s.stateNode!=null)Zm(r,s,a,c,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return ln(s),null}if(r=Ds(Or.current),ru(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[Lr]=s,c[Ca]=g,r=(s.mode&1)!==0,a){case"dialog":gt("cancel",c),gt("close",c);break;case"iframe":case"object":case"embed":gt("load",c);break;case"video":case"audio":for(f=0;f<Aa.length;f++)gt(Aa[f],c);break;case"source":gt("error",c);break;case"img":case"image":case"link":gt("error",c),gt("load",c);break;case"details":gt("toggle",c);break;case"input":Ti(c,g),gt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},gt("invalid",c);break;case"textarea":Wr(c,g),gt("invalid",c)}Rr(a,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var C=g[w];w==="children"?typeof C=="string"?c.textContent!==C&&(g.suppressHydrationWarning!==!0&&Ql(c.textContent,C,r),f=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&Ql(c.textContent,C,r),f=["children",""+C]):o.hasOwnProperty(w)&&C!=null&&w==="onScroll"&&gt("scroll",c)}switch(a){case"input":Bn(c),ro(c,g,!0);break;case"textarea":Bn(c),_n(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Yl)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=lt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=w.createElement(a,{is:c.is}):(r=w.createElement(a),a==="select"&&(w=r,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):r=w.createElementNS(r,a),r[Lr]=s,r[Ca]=c,Jm(r,s,!1,!1),s.stateNode=r;e:{switch(w=Ci(a,c),a){case"dialog":gt("cancel",r),gt("close",r),f=c;break;case"iframe":case"object":case"embed":gt("load",r),f=c;break;case"video":case"audio":for(f=0;f<Aa.length;f++)gt(Aa[f],r);f=c;break;case"source":gt("error",r),f=c;break;case"img":case"image":case"link":gt("error",r),gt("load",r),f=c;break;case"details":gt("toggle",r),f=c;break;case"input":Ti(r,c),f=qr(r,c),gt("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=he({},c,{value:void 0}),gt("invalid",r);break;case"textarea":Wr(r,c),f=er(r,c),gt("invalid",r);break;default:f=c}Rr(a,f),C=f;for(g in C)if(C.hasOwnProperty(g)){var N=C[g];g==="style"?_s(r,N):g==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&vs(r,N)):g==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&Wt(r,N):typeof N=="number"&&Wt(r,""+N):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?N!=null&&g==="onScroll"&&gt("scroll",r):N!=null&&ee(r,g,N,w))}switch(a){case"input":Bn(r),ro(r,c,!1);break;case"textarea":Bn(r),_n(r);break;case"option":c.value!=null&&r.setAttribute("value",""+et(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?qt(r,!!c.multiple,g,!1):c.defaultValue!=null&&qt(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Yl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ln(s),null;case 6:if(r&&s.stateNode!=null)eg(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=Ds(Da.current),Ds(Or.current),ru(s)){if(c=s.stateNode,a=s.memoizedProps,c[Lr]=s,(g=c.nodeValue!==a)&&(r=bn,r!==null))switch(r.tag){case 3:Ql(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ql(c.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Lr]=s,s.stateNode=c}return ln(s),null;case 13:if(yt(Et),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(wt&&Mn!==null&&s.mode&1&&!(s.flags&128))rm(),ko(),s.flags|=98560,g=!1;else if(g=ru(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Lr]=s}else ko(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ln(s),g=!1}else fr!==null&&(cd(fr),fr=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(r===null||Et.current&1?bt===0&&(bt=3):fd())),s.updateQueue!==null&&(s.flags|=4),ln(s),null);case 4:return Lo(),Zh(r,s),r===null&&Sa(s.stateNode.containerInfo),ln(s),null;case 10:return Ch(s.type._context),ln(s),null;case 17:return Sn(s.type)&&Jl(),ln(s),null;case 19:if(yt(Et),g=s.memoizedState,g===null)return ln(s),null;if(c=(s.flags&128)!==0,w=g.rendering,w===null)if(c)Ma(g,!1);else{if(bt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=uu(r),w!==null){for(s.flags|=128,Ma(g,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,r=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return dt(Et,Et.current&1|2),s.child}r=r.sibling}g.tail!==null&&ot()>Mo&&(s.flags|=128,c=!0,Ma(g,!1),s.lanes=4194304)}else{if(!c)if(r=uu(w),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ma(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!wt)return ln(s),null}else 2*ot()-g.renderingStartTime>Mo&&a!==1073741824&&(s.flags|=128,c=!0,Ma(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ot(),s.sibling=null,a=Et.current,dt(Et,c?a&1|2:a&1),s):(ln(s),null);case 22:case 23:return dd(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?Un&1073741824&&(ln(s),s.subtreeFlags&6&&(s.flags|=8192)):ln(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function xw(r,s){switch(Eh(s),s.tag){case 1:return Sn(s.type)&&Jl(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Lo(),yt(An),yt(on),Oh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Dh(s),null;case 13:if(yt(Et),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ko()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return yt(Et),null;case 4:return Lo(),null;case 10:return Ch(s.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var vu=!1,un=!1,Nw=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Vo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Rt(r,s,c)}else a.current=null}function ed(r,s,a){try{a()}catch(c){Rt(r,s,c)}}var tg=!1;function Dw(r,s){if(dh=Vi,r=Lp(),ih(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,C=-1,N=-1,G=0,re=0,ie=r,ne=null;t:for(;;){for(var pe;ie!==a||f!==0&&ie.nodeType!==3||(C=w+f),ie!==g||c!==0&&ie.nodeType!==3||(N=w+c),ie.nodeType===3&&(w+=ie.nodeValue.length),(pe=ie.firstChild)!==null;)ne=ie,ie=pe;for(;;){if(ie===r)break t;if(ne===a&&++G===f&&(C=w),ne===g&&++re===c&&(N=w),(pe=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=pe}a=C===-1||N===-1?null:{start:C,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(fh={focusedElem:r,selectionRange:a},Vi=!1,ye=s;ye!==null;)if(s=ye,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ye=r;else for(;ye!==null;){s=ye;try{var we=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Ae=we.memoizedProps,Pt=we.memoizedState,H=s.stateNode,b=H.getSnapshotBeforeUpdate(s.elementType===s.type?Ae:pr(s.type,Ae),Pt);H.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){Rt(s,s.return,se)}if(r=s.sibling,r!==null){r.return=s.return,ye=r;break}ye=s.return}return we=tg,tg=!1,we}function Ua(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&ed(s,a,g)}f=f.next}while(f!==c)}}function _u(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function td(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function ng(r){var s=r.alternate;s!==null&&(r.alternate=null,ng(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Lr],delete s[Ca],delete s[yh],delete s[pw],delete s[mw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function rg(r){return r.tag===5||r.tag===3||r.tag===4}function ig(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||rg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function nd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Yl));else if(c!==4&&(r=r.child,r!==null))for(nd(r,s,a),r=r.sibling;r!==null;)nd(r,s,a),r=r.sibling}function rd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(rd(r,s,a),r=r.sibling;r!==null;)rd(r,s,a),r=r.sibling}var Yt=null,mr=!1;function qi(r,s,a){for(a=a.child;a!==null;)sg(r,s,a),a=a.sibling}function sg(r,s,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(En,a)}catch{}switch(a.tag){case 5:un||Vo(a,s);case 6:var c=Yt,f=mr;Yt=null,qi(r,s,a),Yt=c,mr=f,Yt!==null&&(mr?(r=Yt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Yt.removeChild(a.stateNode));break;case 18:Yt!==null&&(mr?(r=Yt,a=a.stateNode,r.nodeType===8?gh(r.parentNode,a):r.nodeType===1&&gh(r,a),cr(r)):gh(Yt,a.stateNode));break;case 4:c=Yt,f=mr,Yt=a.stateNode.containerInfo,mr=!0,qi(r,s,a),Yt=c,mr=f;break;case 0:case 11:case 14:case 15:if(!un&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&ed(a,s,w),f=f.next}while(f!==c)}qi(r,s,a);break;case 1:if(!un&&(Vo(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){Rt(a,s,C)}qi(r,s,a);break;case 21:qi(r,s,a);break;case 22:a.mode&1?(un=(c=un)||a.memoizedState!==null,qi(r,s,a),un=c):qi(r,s,a);break;default:qi(r,s,a)}}function og(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new Nw),s.forEach(function(c){var f=Bw.bind(null,r,c);a.has(c)||(a.add(c),c.then(f,f))})}}function gr(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var g=r,w=s,C=w;e:for(;C!==null;){switch(C.tag){case 5:Yt=C.stateNode,mr=!1;break e;case 3:Yt=C.stateNode.containerInfo,mr=!0;break e;case 4:Yt=C.stateNode.containerInfo,mr=!0;break e}C=C.return}if(Yt===null)throw Error(t(160));sg(g,w,f),Yt=null,mr=!1;var N=f.alternate;N!==null&&(N.return=null),f.return=null}catch(G){Rt(f,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ag(s,r),s=s.sibling}function ag(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(gr(s,r),br(r),c&4){try{Ua(3,r,r.return),_u(3,r)}catch(Ae){Rt(r,r.return,Ae)}try{Ua(5,r,r.return)}catch(Ae){Rt(r,r.return,Ae)}}break;case 1:gr(s,r),br(r),c&512&&a!==null&&Vo(a,a.return);break;case 5:if(gr(s,r),br(r),c&512&&a!==null&&Vo(a,a.return),r.flags&32){var f=r.stateNode;try{Wt(f,"")}catch(Ae){Rt(r,r.return,Ae)}}if(c&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,C=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Ii(f,g),Ci(C,w);var G=Ci(C,g);for(w=0;w<N.length;w+=2){var re=N[w],ie=N[w+1];re==="style"?_s(f,ie):re==="dangerouslySetInnerHTML"?vs(f,ie):re==="children"?Wt(f,ie):ee(f,re,ie,G)}switch(C){case"input":ys(f,g);break;case"textarea":Ir(f,g);break;case"select":var ne=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var pe=g.value;pe!=null?qt(f,!!g.multiple,pe,!1):ne!==!!g.multiple&&(g.defaultValue!=null?qt(f,!!g.multiple,g.defaultValue,!0):qt(f,!!g.multiple,g.multiple?[]:"",!1))}f[Ca]=g}catch(Ae){Rt(r,r.return,Ae)}}break;case 6:if(gr(s,r),br(r),c&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(Ae){Rt(r,r.return,Ae)}}break;case 3:if(gr(s,r),br(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{cr(s.containerInfo)}catch(Ae){Rt(r,r.return,Ae)}break;case 4:gr(s,r),br(r);break;case 13:gr(s,r),br(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(od=ot())),c&4&&og(r);break;case 22:if(re=a!==null&&a.memoizedState!==null,r.mode&1?(un=(G=un)||re,gr(s,r),un=G):gr(s,r),br(r),c&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!re&&r.mode&1)for(ye=r,re=r.child;re!==null;){for(ie=ye=re;ye!==null;){switch(ne=ye,pe=ne.child,ne.tag){case 0:case 11:case 14:case 15:Ua(4,ne,ne.return);break;case 1:Vo(ne,ne.return);var we=ne.stateNode;if(typeof we.componentWillUnmount=="function"){c=ne,a=ne.return;try{s=c,we.props=s.memoizedProps,we.state=s.memoizedState,we.componentWillUnmount()}catch(Ae){Rt(c,a,Ae)}}break;case 5:Vo(ne,ne.return);break;case 22:if(ne.memoizedState!==null){cg(ie);continue}}pe!==null?(pe.return=ne,ye=pe):cg(ie)}re=re.sibling}e:for(re=null,ie=r;;){if(ie.tag===5){if(re===null){re=ie;try{f=ie.stateNode,G?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=ie.stateNode,N=ie.memoizedProps.style,w=N!=null&&N.hasOwnProperty("display")?N.display:null,C.style.display=Si("display",w))}catch(Ae){Rt(r,r.return,Ae)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=G?"":ie.memoizedProps}catch(Ae){Rt(r,r.return,Ae)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===r)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===r)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===r)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:gr(s,r),br(r),c&4&&og(r);break;case 21:break;default:gr(s,r),br(r)}}function br(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(rg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Wt(f,""),c.flags&=-33);var g=ig(r);rd(r,g,f);break;case 3:case 4:var w=c.stateNode.containerInfo,C=ig(r);nd(r,C,w);break;default:throw Error(t(161))}}catch(N){Rt(r,r.return,N)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Lw(r,s,a){ye=r,lg(r)}function lg(r,s,a){for(var c=(r.mode&1)!==0;ye!==null;){var f=ye,g=f.child;if(f.tag===22&&c){var w=f.memoizedState!==null||vu;if(!w){var C=f.alternate,N=C!==null&&C.memoizedState!==null||un;C=vu;var G=un;if(vu=w,(un=N)&&!G)for(ye=f;ye!==null;)w=ye,N=w.child,w.tag===22&&w.memoizedState!==null?hg(f):N!==null?(N.return=w,ye=N):hg(f);for(;g!==null;)ye=g,lg(g),g=g.sibling;ye=f,vu=C,un=G}ug(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,ye=g):ug(r)}}function ug(r){for(;ye!==null;){var s=ye;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:un||_u(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!un)if(a===null)c.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:pr(s.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&cm(s,g,c);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}cm(s,w,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var N=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var re=G.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&cr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}un||s.flags&512&&td(s)}catch(ne){Rt(s,s.return,ne)}}if(s===r){ye=null;break}if(a=s.sibling,a!==null){a.return=s.return,ye=a;break}ye=s.return}}function cg(r){for(;ye!==null;){var s=ye;if(s===r){ye=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ye=a;break}ye=s.return}}function hg(r){for(;ye!==null;){var s=ye;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{_u(4,s)}catch(N){Rt(s,a,N)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(N){Rt(s,f,N)}}var g=s.return;try{td(s)}catch(N){Rt(s,g,N)}break;case 5:var w=s.return;try{td(s)}catch(N){Rt(s,w,N)}}}catch(N){Rt(s,s.return,N)}if(s===r){ye=null;break}var C=s.sibling;if(C!==null){C.return=s.return,ye=C;break}ye=s.return}}var Ow=Math.ceil,wu=oe.ReactCurrentDispatcher,id=oe.ReactCurrentOwner,$n=oe.ReactCurrentBatchConfig,nt=0,Bt=null,Nt=null,Xt=0,Un=0,bo=Fi(0),bt=0,Fa=null,Os=0,Eu=0,sd=0,ja=null,Cn=null,od=0,Mo=1/0,li=null,Tu=!1,ad=null,Wi=null,Iu=!1,Gi=null,Au=0,Ba=0,ld=null,Su=-1,Ru=0;function vn(){return nt&6?ot():Su!==-1?Su:Su=ot()}function Ki(r){return r.mode&1?nt&2&&Xt!==0?Xt&-Xt:yw.transition!==null?(Ru===0&&(Ru=Ts()),Ru):(r=We,r!==0||(r=window.event,r=r===void 0?16:ma(r.type)),r):1}function yr(r,s,a,c){if(50<Ba)throw Ba=0,ld=null,Error(t(185));Ni(r,a,c),(!(nt&2)||r!==Bt)&&(r===Bt&&(!(nt&2)&&(Eu|=a),bt===4&&$i(r,Xt)),Pn(r,c),a===1&&nt===0&&!(s.mode&1)&&(Mo=ot()+500,eu&&Bi()))}function Pn(r,s){var a=r.callbackNode;Yr(r,s);var c=Es(r,r===Bt?Xt:0);if(c===0)a!==null&&$r(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&$r(a),s===1)r.tag===0?gw(fg.bind(null,r)):Jp(fg.bind(null,r)),dw(function(){!(nt&6)&&Bi()}),a=null;else{switch(Li(c)){case 1:a=Ye;break;case 4:a=pt;break;case 16:a=Kt;break;case 536870912:a=mt;break;default:a=Kt}a=Eg(a,dg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function dg(r,s){if(Su=-1,Ru=0,nt&6)throw Error(t(327));var a=r.callbackNode;if(Uo()&&r.callbackNode!==a)return null;var c=Es(r,r===Bt?Xt:0);if(c===0)return null;if(c&30||c&r.expiredLanes||s)s=Cu(r,c);else{s=c;var f=nt;nt|=2;var g=mg();(Bt!==r||Xt!==s)&&(li=null,Mo=ot()+500,bs(r,s));do try{Mw();break}catch(C){pg(r,C)}while(!0);Rh(),wu.current=g,nt=f,Nt!==null?s=0:(Bt=null,Xt=0,s=bt)}if(s!==0){if(s===2&&(f=Ln(r),f!==0&&(c=f,s=ud(r,f))),s===1)throw a=Fa,bs(r,0),$i(r,c),Pn(r,ot()),a;if(s===6)$i(r,c);else{if(f=r.current.alternate,!(c&30)&&!Vw(f)&&(s=Cu(r,c),s===2&&(g=Ln(r),g!==0&&(c=g,s=ud(r,g))),s===1))throw a=Fa,bs(r,0),$i(r,c),Pn(r,ot()),a;switch(r.finishedWork=f,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:Ms(r,Cn,li);break;case 3:if($i(r,c),(c&130023424)===c&&(s=od+500-ot(),10<s)){if(Es(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){vn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=mh(Ms.bind(null,r,Cn,li),s);break}Ms(r,Cn,li);break;case 4:if($i(r,c),(c&4194240)===c)break;for(s=r.eventTimes,f=-1;0<c;){var w=31-mn(c);g=1<<w,w=s[w],w>f&&(f=w),c&=~g}if(c=f,c=ot()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Ow(c/1960))-c,10<c){r.timeoutHandle=mh(Ms.bind(null,r,Cn,li),c);break}Ms(r,Cn,li);break;case 5:Ms(r,Cn,li);break;default:throw Error(t(329))}}}return Pn(r,ot()),r.callbackNode===a?dg.bind(null,r):null}function ud(r,s){var a=ja;return r.current.memoizedState.isDehydrated&&(bs(r,s).flags|=256),r=Cu(r,s),r!==2&&(s=Cn,Cn=a,s!==null&&cd(s)),r}function cd(r){Cn===null?Cn=r:Cn.push.apply(Cn,r)}function Vw(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],g=f.getSnapshot;f=f.value;try{if(!dr(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $i(r,s){for(s&=~sd,s&=~Eu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-mn(s),c=1<<a;r[a]=-1,s&=~c}}function fg(r){if(nt&6)throw Error(t(327));Uo();var s=Es(r,0);if(!(s&1))return Pn(r,ot()),null;var a=Cu(r,s);if(r.tag!==0&&a===2){var c=Ln(r);c!==0&&(s=c,a=ud(r,c))}if(a===1)throw a=Fa,bs(r,0),$i(r,s),Pn(r,ot()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ms(r,Cn,li),Pn(r,ot()),null}function hd(r,s){var a=nt;nt|=1;try{return r(s)}finally{nt=a,nt===0&&(Mo=ot()+500,eu&&Bi())}}function Vs(r){Gi!==null&&Gi.tag===0&&!(nt&6)&&Uo();var s=nt;nt|=1;var a=$n.transition,c=We;try{if($n.transition=null,We=1,r)return r()}finally{We=c,$n.transition=a,nt=s,!(nt&6)&&Bi()}}function dd(){Un=bo.current,yt(bo)}function bs(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,hw(a)),Nt!==null)for(a=Nt.return;a!==null;){var c=a;switch(Eh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Jl();break;case 3:Lo(),yt(An),yt(on),Oh();break;case 5:Dh(c);break;case 4:Lo();break;case 13:yt(Et);break;case 19:yt(Et);break;case 10:Ch(c.type._context);break;case 22:case 23:dd()}a=a.return}if(Bt=r,Nt=r=Qi(r.current,null),Xt=Un=s,bt=0,Fa=null,sd=Eu=Os=0,Cn=ja=null,Ns!==null){for(s=0;s<Ns.length;s++)if(a=Ns[s],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,g=a.pending;if(g!==null){var w=g.next;g.next=f,c.next=w}a.pending=c}Ns=null}return r}function pg(r,s){do{var a=Nt;try{if(Rh(),cu.current=pu,hu){for(var c=Tt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}hu=!1}if(Ls=0,jt=Vt=Tt=null,La=!1,Oa=0,id.current=null,a===null||a.return===null){bt=1,Fa=s,Nt=null;break}e:{var g=r,w=a.return,C=a,N=s;if(s=Xt,C.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=N,re=C,ie=re.tag;if(!(re.mode&1)&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var pe=Fm(w);if(pe!==null){pe.flags&=-257,jm(pe,w,C,g,s),pe.mode&1&&Um(g,G,s),s=pe,N=G;var we=s.updateQueue;if(we===null){var Ae=new Set;Ae.add(N),s.updateQueue=Ae}else we.add(N);break e}else{if(!(s&1)){Um(g,G,s),fd();break e}N=Error(t(426))}}else if(wt&&C.mode&1){var Pt=Fm(w);if(Pt!==null){!(Pt.flags&65536)&&(Pt.flags|=256),jm(Pt,w,C,g,s),Ah(Oo(N,C));break e}}g=N=Oo(N,C),bt!==4&&(bt=2),ja===null?ja=[g]:ja.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var H=bm(g,N,s);um(g,H);break e;case 1:C=N;var b=g.type,W=g.stateNode;if(!(g.flags&128)&&(typeof b.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Wi===null||!Wi.has(W)))){g.flags|=65536,s&=-s,g.lanes|=s;var se=Mm(g,C,s);um(g,se);break e}}g=g.return}while(g!==null)}yg(a)}catch(Se){s=Se,Nt===a&&a!==null&&(Nt=a=a.return);continue}break}while(!0)}function mg(){var r=wu.current;return wu.current=pu,r===null?pu:r}function fd(){(bt===0||bt===3||bt===2)&&(bt=4),Bt===null||!(Os&268435455)&&!(Eu&268435455)||$i(Bt,Xt)}function Cu(r,s){var a=nt;nt|=2;var c=mg();(Bt!==r||Xt!==s)&&(li=null,bs(r,s));do try{bw();break}catch(f){pg(r,f)}while(!0);if(Rh(),nt=a,wu.current=c,Nt!==null)throw Error(t(261));return Bt=null,Xt=0,bt}function bw(){for(;Nt!==null;)gg(Nt)}function Mw(){for(;Nt!==null&&!Cr();)gg(Nt)}function gg(r){var s=wg(r.alternate,r,Un);r.memoizedProps=r.pendingProps,s===null?yg(r):Nt=s,id.current=null}function yg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=xw(a,s),a!==null){a.flags&=32767,Nt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{bt=6,Nt=null;return}}else if(a=kw(a,s,Un),a!==null){Nt=a;return}if(s=s.sibling,s!==null){Nt=s;return}Nt=s=r}while(s!==null);bt===0&&(bt=5)}function Ms(r,s,a){var c=We,f=$n.transition;try{$n.transition=null,We=1,Uw(r,s,a,c)}finally{$n.transition=f,We=c}return null}function Uw(r,s,a,c){do Uo();while(Gi!==null);if(nt&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(ct(r,g),r===Bt&&(Nt=Bt=null,Xt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Iu||(Iu=!0,Eg(Kt,function(){return Uo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=$n.transition,$n.transition=null;var w=We;We=1;var C=nt;nt|=4,id.current=null,Dw(r,a),ag(a,r),iw(fh),Vi=!!dh,fh=dh=null,r.current=a,Lw(a),sr(),nt=C,We=w,$n.transition=g}else r.current=a;if(Iu&&(Iu=!1,Gi=r,Au=f),g=r.pendingLanes,g===0&&(Wi=null),io(a.stateNode),Pn(r,ot()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Tu)throw Tu=!1,r=ad,ad=null,r;return Au&1&&r.tag!==0&&Uo(),g=r.pendingLanes,g&1?r===ld?Ba++:(Ba=0,ld=r):Ba=0,Bi(),null}function Uo(){if(Gi!==null){var r=Li(Au),s=$n.transition,a=We;try{if($n.transition=null,We=16>r?16:r,Gi===null)var c=!1;else{if(r=Gi,Gi=null,Au=0,nt&6)throw Error(t(331));var f=nt;for(nt|=4,ye=r.current;ye!==null;){var g=ye,w=g.child;if(ye.flags&16){var C=g.deletions;if(C!==null){for(var N=0;N<C.length;N++){var G=C[N];for(ye=G;ye!==null;){var re=ye;switch(re.tag){case 0:case 11:case 15:Ua(8,re,g)}var ie=re.child;if(ie!==null)ie.return=re,ye=ie;else for(;ye!==null;){re=ye;var ne=re.sibling,pe=re.return;if(ng(re),re===G){ye=null;break}if(ne!==null){ne.return=pe,ye=ne;break}ye=pe}}}var we=g.alternate;if(we!==null){var Ae=we.child;if(Ae!==null){we.child=null;do{var Pt=Ae.sibling;Ae.sibling=null,Ae=Pt}while(Ae!==null)}}ye=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,ye=w;else e:for(;ye!==null;){if(g=ye,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ua(9,g,g.return)}var H=g.sibling;if(H!==null){H.return=g.return,ye=H;break e}ye=g.return}}var b=r.current;for(ye=b;ye!==null;){w=ye;var W=w.child;if(w.subtreeFlags&2064&&W!==null)W.return=w,ye=W;else e:for(w=b;ye!==null;){if(C=ye,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:_u(9,C)}}catch(Se){Rt(C,C.return,Se)}if(C===w){ye=null;break e}var se=C.sibling;if(se!==null){se.return=C.return,ye=se;break e}ye=C.return}}if(nt=f,Bi(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(En,r)}catch{}c=!0}return c}finally{We=a,$n.transition=s}}return!1}function vg(r,s,a){s=Oo(a,s),s=bm(r,s,1),r=Hi(r,s,1),s=vn(),r!==null&&(Ni(r,1,s),Pn(r,s))}function Rt(r,s,a){if(r.tag===3)vg(r,r,a);else for(;s!==null;){if(s.tag===3){vg(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Wi===null||!Wi.has(c))){r=Oo(a,r),r=Mm(s,r,1),s=Hi(s,r,1),r=vn(),s!==null&&(Ni(s,1,r),Pn(s,r));break}}s=s.return}}function Fw(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=vn(),r.pingedLanes|=r.suspendedLanes&a,Bt===r&&(Xt&a)===a&&(bt===4||bt===3&&(Xt&130023424)===Xt&&500>ot()-od?bs(r,0):sd|=a),Pn(r,s)}function _g(r,s){s===0&&(r.mode&1?(s=oo,oo<<=1,!(oo&130023424)&&(oo=4194304)):s=1);var a=vn();r=si(r,s),r!==null&&(Ni(r,s,a),Pn(r,a))}function jw(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),_g(r,a)}function Bw(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),_g(r,a)}var wg;wg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||An.current)Rn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return Rn=!1,Pw(r,s,a);Rn=!!(r.flags&131072)}else Rn=!1,wt&&s.flags&1048576&&Zp(s,nu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;yu(r,s),r=s.pendingProps;var f=Ro(s,on.current);Do(s,a),f=Mh(null,s,c,r,f,a);var g=Uh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Sn(c)?(g=!0,Zl(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,xh(s),f.updater=mu,s.stateNode=f,f._reactInternals=s,qh(s,c,r,a),s=$h(null,s,c,!0,g,a)):(s.tag=0,wt&&g&&wh(s),yn(null,s,f,a),s=s.child),s;case 16:c=s.elementType;e:{switch(yu(r,s),r=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=Hw(c),r=pr(c,r),f){case 0:s=Kh(null,s,c,r,a);break e;case 1:s=Gm(null,s,c,r,a);break e;case 11:s=Bm(null,s,c,r,a);break e;case 14:s=zm(null,s,c,pr(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:pr(c,f),Kh(r,s,c,f,a);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:pr(c,f),Gm(r,s,c,f,a);case 3:e:{if(Km(s),r===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,f=g.element,lm(r,s),lu(s,c,null,a);var w=s.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Oo(Error(t(423)),s),s=$m(r,s,c,a,f);break e}else if(c!==f){f=Oo(Error(t(424)),s),s=$m(r,s,c,a,f);break e}else for(Mn=Ui(s.stateNode.containerInfo.firstChild),bn=s,wt=!0,fr=null,a=om(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ko(),c===f){s=ai(r,s,a);break e}yn(r,s,c,a)}s=s.child}return s;case 5:return hm(s),r===null&&Ih(s),c=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,ph(c,f)?w=null:g!==null&&ph(c,g)&&(s.flags|=32),Wm(r,s),yn(r,s,w,a),s.child;case 6:return r===null&&Ih(s),null;case 13:return Qm(r,s,a);case 4:return Nh(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=xo(s,null,c,a):yn(r,s,c,a),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:pr(c,f),Bm(r,s,c,f,a);case 7:return yn(r,s,s.pendingProps,a),s.child;case 8:return yn(r,s,s.pendingProps.children,a),s.child;case 12:return yn(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,dt(su,c._currentValue),c._currentValue=w,g!==null)if(dr(g.value,w)){if(g.children===f.children&&!An.current){s=ai(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var C=g.dependencies;if(C!==null){w=g.child;for(var N=C.firstContext;N!==null;){if(N.context===c){if(g.tag===1){N=oi(-1,a&-a),N.tag=2;var G=g.updateQueue;if(G!==null){G=G.shared;var re=G.pending;re===null?N.next=N:(N.next=re.next,re.next=N),G.pending=N}}g.lanes|=a,N=g.alternate,N!==null&&(N.lanes|=a),Ph(g.return,a,s),C.lanes|=a;break}N=N.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,C=w.alternate,C!==null&&(C.lanes|=a),Ph(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}yn(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,Do(s,a),f=Gn(f),c=c(f),s.flags|=1,yn(r,s,c,a),s.child;case 14:return c=s.type,f=pr(c,s.pendingProps),f=pr(c.type,f),zm(r,s,c,f,a);case 15:return Hm(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:pr(c,f),yu(r,s),s.tag=1,Sn(c)?(r=!0,Zl(s)):r=!1,Do(s,a),Om(s,c,f),qh(s,c,f,a),$h(null,s,c,!0,r,a);case 19:return Xm(r,s,a);case 22:return qm(r,s,a)}throw Error(t(156,s.tag))};function Eg(r,s){return Gt(r,s)}function zw(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(r,s,a,c){return new zw(r,s,a,c)}function pd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Hw(r){if(typeof r=="function")return pd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===B)return 11;if(r===$e)return 14}return 2}function Qi(r,s){var a=r.alternate;return a===null?(a=Qn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Pu(r,s,a,c,f,g){var w=2;if(c=r,typeof r=="function")pd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case k:return Us(a.children,f,g,s);case I:w=8,f|=8;break;case R:return r=Qn(12,a,s,f|2),r.elementType=R,r.lanes=g,r;case P:return r=Qn(13,a,s,f),r.elementType=P,r.lanes=g,r;case ht:return r=Qn(19,a,s,f),r.elementType=ht,r.lanes=g,r;case Qe:return ku(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:w=10;break e;case V:w=9;break e;case B:w=11;break e;case $e:w=14;break e;case Ct:w=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Qn(w,a,s,f),s.elementType=r,s.type=c,s.lanes=g,s}function Us(r,s,a,c){return r=Qn(7,r,c,s),r.lanes=a,r}function ku(r,s,a,c){return r=Qn(22,r,c,s),r.elementType=Qe,r.lanes=a,r.stateNode={isHidden:!1},r}function md(r,s,a){return r=Qn(6,r,null,s),r.lanes=a,r}function gd(r,s,a){return s=Qn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function qw(r,s,a,c,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xi(0),this.expirationTimes=xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function yd(r,s,a,c,f,g,w,C,N){return r=new qw(r,s,a,C,N),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Qn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},xh(g),r}function Ww(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function Tg(r){if(!r)return ji;r=r._reactInternals;e:{if(qe(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Sn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Sn(a))return Yp(r,a,s)}return s}function Ig(r,s,a,c,f,g,w,C,N){return r=yd(a,c,!0,r,f,g,w,C,N),r.context=Tg(null),a=r.current,c=vn(),f=Ki(a),g=oi(c,f),g.callback=s??null,Hi(a,g,f),r.current.lanes=f,Ni(r,f,c),Pn(r,c),r}function xu(r,s,a,c){var f=s.current,g=vn(),w=Ki(f);return a=Tg(a),s.context===null?s.context=a:s.pendingContext=a,s=oi(g,w),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=Hi(f,s,w),r!==null&&(yr(r,f,w,g),au(r,f,w)),w}function Nu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ag(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function vd(r,s){Ag(r,s),(r=r.alternate)&&Ag(r,s)}function Gw(){return null}var Sg=typeof reportError=="function"?reportError:function(r){console.error(r)};function _d(r){this._internalRoot=r}Du.prototype.render=_d.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));xu(r,s,null,null)},Du.prototype.unmount=_d.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Vs(function(){xu(null,r,null,null)}),s[ti]=null}};function Du(r){this._internalRoot=r}Du.prototype.unstable_scheduleHydration=function(r){if(r){var s=Dl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<kr.length&&s!==0&&s<kr[a].priority;a++);kr.splice(a,0,r),a===0&&Vl(r)}};function wd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Lu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Rg(){}function Kw(r,s,a,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var G=Nu(w);g.call(G)}}var w=Ig(s,c,r,0,null,!1,!1,"",Rg);return r._reactRootContainer=w,r[ti]=w.current,Sa(r.nodeType===8?r.parentNode:r),Vs(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var C=c;c=function(){var G=Nu(N);C.call(G)}}var N=yd(r,0,!1,null,null,!1,!1,"",Rg);return r._reactRootContainer=N,r[ti]=N.current,Sa(r.nodeType===8?r.parentNode:r),Vs(function(){xu(s,N,a,c)}),N}function Ou(r,s,a,c,f){var g=a._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var C=f;f=function(){var N=Nu(w);C.call(N)}}xu(s,w,r,f)}else w=Kw(a,s,r,f,c);return Nu(w)}xl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=ki(s.pendingLanes);a!==0&&(Di(s,a|1),Pn(s,ot()),!(nt&6)&&(Mo=ot()+500,Bi()))}break;case 13:Vs(function(){var c=si(r,1);if(c!==null){var f=vn();yr(c,r,1,f)}}),vd(r,1)}},ao=function(r){if(r.tag===13){var s=si(r,134217728);if(s!==null){var a=vn();yr(s,r,134217728,a)}vd(r,134217728)}},Nl=function(r){if(r.tag===13){var s=Ki(r),a=si(r,s);if(a!==null){var c=vn();yr(a,r,s,c)}vd(r,s)}},Dl=function(){return We},Ll=function(r,s){var a=We;try{return We=r,s()}finally{We=a}},Gr=function(r,s,a){switch(s){case"input":if(ys(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var f=Xl(c);if(!f)throw Error(t(90));Ei(c),ys(c,f)}}}break;case"textarea":Ir(r,a);break;case"select":s=a.value,s!=null&&qt(r,!!a.multiple,s,!1)}},Kr=hd,D=Vs;var $w={usingClientEntryPoint:!1,Events:[Pa,Ao,Xl,pn,ws,hd]},za={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qw={bundleType:za.bundleType,version:za.version,rendererPackageName:za.rendererPackageName,rendererConfig:za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ir(r),r===null?null:r.stateNode},findFiberByHostInstance:za.findFiberByHostInstance||Gw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{En=Vu.inject(Qw),sn=Vu}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$w,kn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wd(s))throw Error(t(200));return Ww(r,s,null,a)},kn.createRoot=function(r,s){if(!wd(r))throw Error(t(299));var a=!1,c="",f=Sg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=yd(r,1,!1,null,null,a,!1,c,f),r[ti]=s.current,Sa(r.nodeType===8?r.parentNode:r),new _d(s)},kn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ir(s),r=r===null?null:r.stateNode,r},kn.flushSync=function(r){return Vs(r)},kn.hydrate=function(r,s,a){if(!Lu(s))throw Error(t(200));return Ou(null,r,s,!0,a)},kn.hydrateRoot=function(r,s,a){if(!wd(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,g="",w=Sg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=Ig(s,null,r,1,a??null,f,!1,g,w),r[ti]=s.current,Sa(r),c)for(r=0;r<c.length;r++)a=c[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Du(s)},kn.render=function(r,s,a){if(!Lu(s))throw Error(t(200));return Ou(null,r,s,!1,a)},kn.unmountComponentAtNode=function(r){if(!Lu(r))throw Error(t(40));return r._reactRootContainer?(Vs(function(){Ou(null,null,r,!1,function(){r._reactRootContainer=null,r[ti]=null})}),!0):!1},kn.unstable_batchedUpdates=hd,kn.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!Lu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Ou(r,s,a,!1,c)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var Og;function _v(){if(Og)return Id.exports;Og=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Id.exports=nE(),Id.exports}var Vg;function rE(){if(Vg)return bu;Vg=1;var n=_v();return bu.createRoot=n.createRoot,bu.hydrateRoot=n.hydrateRoot,bu}var iE=rE(),qa={},bg;function sE(){if(bg)return qa;bg=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.parse=h,qa.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,S){const L=new l,O=A.length;if(O<2)return L;const M=(S==null?void 0:S.decode)||_;let q=0;do{const Y=A.indexOf("=",q);if(Y===-1)break;const ee=A.indexOf(";",q),oe=ee===-1?O:ee;if(Y>oe){q=A.lastIndexOf(";",Y-1)+1;continue}const F=d(A,q,Y),ce=p(A,Y,F),k=A.slice(F,ce);if(L[k]===void 0){let I=d(A,Y+1,oe),R=p(A,oe,I);const x=M(A.slice(I,R));L[k]=x}q=oe+1}while(q<O);return L}function d(A,S,L){do{const O=A.charCodeAt(S);if(O!==32&&O!==9)return S}while(++S<L);return L}function p(A,S,L){for(;S>L;){const O=A.charCodeAt(--S);if(O!==32&&O!==9)return S+1}return L}function y(A,S,L){const O=(L==null?void 0:L.encode)||encodeURIComponent;if(!n.test(A))throw new TypeError(`argument name is invalid: ${A}`);const M=O(S);if(!e.test(M))throw new TypeError(`argument val is invalid: ${S}`);let q=A+"="+M;if(!L)return q;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);q+="; Max-Age="+L.maxAge}if(L.domain){if(!t.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);q+="; Domain="+L.domain}if(L.path){if(!i.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);q+="; Path="+L.path}if(L.expires){if(!T(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);q+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(q+="; HttpOnly"),L.secure&&(q+="; Secure"),L.partitioned&&(q+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return q}function _(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function T(A){return o.call(A)==="[object Date]"}return qa}sE();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mg="popstate";function oE(n={}){function e(i,o){let{pathname:l,search:h,hash:d}=i.location;return sl("",{pathname:l,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:cs(o)}return lE(e,t,null,n)}function Ke(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function en(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aE(){return Math.random().toString(36).substring(2,10)}function Ug(n,e){return{usr:n.state,key:n.key,idx:e}}function sl(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?gs(e):e,state:t,key:e&&e.key||i||aE()}}function cs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function gs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function lE(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,d="POP",p=null,y=_();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function _(){return(h.state||{idx:null}).idx}function T(){d="POP";let M=_(),q=M==null?null:M-y;y=M,p&&p({action:d,location:O.location,delta:q})}function A(M,q){d="PUSH";let Y=sl(O.location,M,q);y=_()+1;let ee=Ug(Y,y),oe=O.createHref(Y);try{h.pushState(ee,"",oe)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(oe)}l&&p&&p({action:d,location:O.location,delta:1})}function S(M,q){d="REPLACE";let Y=sl(O.location,M,q);y=_();let ee=Ug(Y,y),oe=O.createHref(Y);h.replaceState(ee,"",oe),l&&p&&p({action:d,location:O.location,delta:0})}function L(M){let q=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof M=="string"?M:cs(M);return Y=Y.replace(/ $/,"%20"),Ke(q,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,q)}let O={get action(){return d},get location(){return n(o,h)},listen(M){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Mg,T),p=M,()=>{o.removeEventListener(Mg,T),p=null}},createHref(M){return e(o,M)},createURL:L,encodeLocation(M){let q=L(M);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:A,replace:S,go(M){return h.go(M)}};return O}var uE=new Set(["lazy","caseSensitive","path","id","index","children"]);function cE(n){return n.index===!0}function uc(n,e,t=[],i={}){return n.map((o,l)=>{let h=[...t,String(l)],d=typeof o.id=="string"?o.id:h.join("-");if(Ke(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ke(!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),cE(o)){let p={...o,...e(o),id:d};return i[d]=p,p}else{let p={...o,...e(o),id:d,children:void 0};return i[d]=p,o.children&&(p.children=uc(o.children,e,h,i)),p}})}function es(n,e,t="/"){return Ku(n,e,t,!1)}function Ku(n,e,t,i){let o=typeof e=="string"?gs(e):e,l=Er(o.pathname||"/",t);if(l==null)return null;let h=wv(n);dE(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let y=IE(l);d=EE(h[p],y,i)}return d}function hE(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function wv(n,e=[],t=[],i=""){let o=(l,h,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(Ke(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=Mr([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(Ke(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),wv(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:_E(y,l.index),routesMeta:_})};return n.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,h);else for(let p of Ev(l.path))o(l,h,p)}),e}function Ev(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=Ev(i.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...h),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function dE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wE(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var fE=/^:[\w-]+$/,pE=3,mE=2,gE=1,yE=10,vE=-2,Fg=n=>n==="*";function _E(n,e){let t=n.split("/"),i=t.length;return t.some(Fg)&&(i+=vE),e&&(i+=mE),t.filter(o=>!Fg(o)).reduce((o,l)=>o+(fE.test(l)?pE:l===""?gE:yE),i)}function wE(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function EE(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",h=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=cc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),A=p.route;if(!T&&y&&t&&!i[i.length-1].route.index&&(T=cc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Mr([l,T.pathname]),pathnameBase:RE(Mr([l,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(l=Mr([l,T.pathnameBase]))}return h}function cc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=TE(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:T},A)=>{if(_==="*"){let L=d[A]||"";h=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const S=d[A];return T&&!S?y[_]=void 0:y[_]=(S||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:n}}function TE(n,e=!1,t=!0){en(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function IE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return en(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Er(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function AE(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?gs(n):n;return{pathname:t?t.startsWith("/")?t:SE(t,e):e,search:CE(i),hash:PE(o)}}function SE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Rd(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tv(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function yf(n){let e=Tv(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function vf(n,e,t,i=!1){let o;typeof n=="string"?o=gs(n):(o={...n},Ke(!o.pathname||!o.pathname.includes("?"),Rd("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),Rd("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),Rd("#","search","hash",o)));let l=n===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!i&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}d=T>=0?e[T]:"/"}let p=AE(o,d),y=h&&h!=="/"&&h.endsWith("/"),_=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var Mr=n=>n.join("/").replace(/\/\/+/g,"/"),RE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),CE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,PE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,hc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function xc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Iv=["POST","PUT","PATCH","DELETE"],kE=new Set(Iv),xE=["GET",...Iv],NE=new Set(xE),DE=new Set([301,302,303,307,308]),LE=new Set([307,308]),Cd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},OE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Wa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_f=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VE=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Av="remix-router-transitions",Sv=Symbol("ResetLoaderData");function bE(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ke(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||VE,o={},l=uc(n.routes,i,void 0,o),h,d=n.basename||"/",p=n.dataStrategy||BE,y=n.patchRoutesOnNavigation,_={...n.future},T=null,A=new Set,S=null,L=null,O=null,M=n.hydrationData!=null,q=es(l,n.history.location,d),Y=null;if(q==null&&!y){let D=Yn(404,{pathname:n.history.location.pathname}),{matches:j,route:K}=Yg(l);q=j,Y={[K.id]:D}}q&&!n.hydrationData&&nr(q,l,n.history.location.pathname).active&&(q=null);let ee;if(q)if(q.some(D=>D.route.lazy))ee=!1;else if(!q.some(D=>D.route.loader))ee=!0;else{let D=n.hydrationData?n.hydrationData.loaderData:null,j=n.hydrationData?n.hydrationData.errors:null;if(j){let K=q.findIndex(J=>j[J.route.id]!==void 0);ee=q.slice(0,K+1).every(J=>!Hd(J.route,D,j))}else ee=q.every(K=>!Hd(K.route,D,j))}else{ee=!1,q=[];let D=nr(null,l,n.history.location.pathname);D.active&&D.matches&&(q=D.matches)}let oe,F={historyAction:n.history.action,location:n.history.location,matches:q,initialized:ee,navigation:Cd,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||Y,fetchers:new Map,blockers:new Map},ce="POP",k=!1,I,R=!1,x=new Map,V=null,B=!1,P=!1,ht=new Set,$e=new Map,Ct=0,Qe=-1,ae=new Map,Te=new Set,he=new Map,U=new Map,X=new Set,_e=new Map,be,Le=null;function Be(){if(T=n.history.listen(({action:D,location:j,delta:K})=>{if(be){be(),be=void 0;return}en(_e.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=Ci({currentLocation:F.location,nextLocation:j,historyAction:D});if(J&&K!=null){let de=new Promise(ge=>{be=ge});n.history.go(K*-1),Rr(J,{state:"blocked",location:j,proceed(){Rr(J,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),de.then(()=>n.history.go(K))},reset(){let ge=new Map(F.blockers);ge.set(J,Wa),Ue({blockers:ge})}});return}return nn(D,j)}),t){JE(e,x);let D=()=>ZE(e,x);e.addEventListener("pagehide",D),V=()=>e.removeEventListener("pagehide",D)}return F.initialized||nn("POP",F.location,{initialHydration:!0}),oe}function Ze(){T&&T(),V&&V(),A.clear(),I&&I.abort(),F.fetchers.forEach((D,j)=>Nn(j)),F.blockers.forEach((D,j)=>Ri(j))}function et(D){return A.add(D),()=>A.delete(D)}function Ue(D,j={}){F={...F,...D};let K=[],J=[];F.fetchers.forEach((de,ge)=>{de.state==="idle"&&(X.has(ge)?K.push(ge):J.push(ge))}),[...A].forEach(de=>de(F,{deletedFetchers:K,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),K.forEach(de=>Nn(de)),J.forEach(de=>F.fetchers.delete(de))}function ft(D,j,{flushSync:K}={}){var le,xe;let J=F.actionData!=null&&F.navigation.formMethod!=null&&vr(F.navigation.formMethod)&&F.navigation.state==="loading"&&((le=D.state)==null?void 0:le._isRedirect)!==!0,de;j.actionData?Object.keys(j.actionData).length>0?de=j.actionData:de=null:J?de=F.actionData:de=null;let ge=j.loaderData?$g(F.loaderData,j.loaderData,j.matches||[],j.errors):F.loaderData,Ce=F.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((Fe,it)=>Ce.set(it,Wa)));let fe=k===!0||F.navigation.formMethod!=null&&vr(F.navigation.formMethod)&&((xe=D.state)==null?void 0:xe._isRedirect)!==!0;h&&(l=h,h=void 0),B||ce==="POP"||(ce==="PUSH"?n.history.push(D,D.state):ce==="REPLACE"&&n.history.replace(D,D.state));let ve;if(ce==="POP"){let Fe=x.get(F.location.pathname);Fe&&Fe.has(D.pathname)?ve={currentLocation:F.location,nextLocation:D}:x.has(D.pathname)&&(ve={currentLocation:D,nextLocation:F.location})}else if(R){let Fe=x.get(F.location.pathname);Fe?Fe.add(D.pathname):(Fe=new Set([D.pathname]),x.set(F.location.pathname,Fe)),ve={currentLocation:F.location,nextLocation:D}}Ue({...j,actionData:de,loaderData:ge,historyAction:ce,location:D,initialized:!0,navigation:Cd,revalidation:"idle",restoreScrollPosition:Dn(D,j.matches||F.matches),preventScrollReset:fe,blockers:Ce},{viewTransitionOpts:ve,flushSync:K===!0}),ce="POP",k=!1,R=!1,B=!1,P=!1,Le==null||Le.resolve(),Le=null}async function Bn(D,j){if(typeof D=="number"){n.history.go(D);return}let K=zd(F.location,F.matches,d,D,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:J,submission:de,error:ge}=jg(!1,K,j),Ce=F.location,fe=sl(F.location,J,j&&j.state);fe={...fe,...n.history.encodeLocation(fe)};let ve=j&&j.replace!=null?j.replace:void 0,le="PUSH";ve===!0?le="REPLACE":ve===!1||de!=null&&vr(de.formMethod)&&de.formAction===F.location.pathname+F.location.search&&(le="REPLACE");let xe=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,Fe=(j&&j.flushSync)===!0,it=Ci({currentLocation:Ce,nextLocation:fe,historyAction:le});if(it){Rr(it,{state:"blocked",location:fe,proceed(){Rr(it,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),Bn(D,j)},reset(){let St=new Map(F.blockers);St.set(it,Wa),Ue({blockers:St})}});return}await nn(le,fe,{submission:de,pendingError:ge,preventScrollReset:xe,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:Fe})}function Ei(){Le||(Le=eT()),Ir(),Ue({revalidation:"loading"});let D=Le.promise;return F.navigation.state==="submitting"?D:F.navigation.state==="idle"?(nn(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),D):(nn(ce||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:R===!0}),D)}async function nn(D,j,K){I&&I.abort(),I=null,ce=D,B=(K&&K.startUninterruptedRevalidation)===!0,wn(F.location,F.matches),k=(K&&K.preventScrollReset)===!0,R=(K&&K.enableViewTransition)===!0;let J=h||l,de=K&&K.overrideNavigation,ge=es(J,j,d),Ce=(K&&K.flushSync)===!0,fe=nr(ge,J,j.pathname);if(fe.active&&fe.matches&&(ge=fe.matches),!ge){let{error:qe,notFoundMatches:tt,route:st}=tr(j.pathname);ft(j,{matches:tt,loaderData:{},errors:{[st.id]:qe}},{flushSync:Ce});return}if(F.initialized&&!P&&KE(F.location,j)&&!(K&&K.submission&&vr(K.submission.formMethod))){ft(j,{matches:ge},{flushSync:Ce});return}I=new AbortController;let ve=Fo(n.history,j,I.signal,K&&K.submission),le;if(K&&K.pendingError)le=[js(ge).route.id,{type:"error",error:K.pendingError}];else if(K&&K.submission&&vr(K.submission.formMethod)){let qe=await qr(ve,j,K.submission,ge,fe.active,{replace:K.replace,flushSync:Ce});if(qe.shortCircuited)return;if(qe.pendingActionResult){let[tt,st]=qe.pendingActionResult;if(Fn(st)&&xc(st.error)&&st.error.status===404){I=null,ft(j,{matches:qe.matches,loaderData:{},errors:{[tt]:st.error}});return}}ge=qe.matches||ge,le=qe.pendingActionResult,de=Pd(j,K.submission),Ce=!1,fe.active=!1,ve=Fo(n.history,ve.url,ve.signal)}let{shortCircuited:xe,matches:Fe,loaderData:it,errors:St}=await Ti(ve,j,ge,fe.active,de,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Ce,le);xe||(I=null,ft(j,{matches:Fe||ge,...Qg(le),loaderData:it,errors:St}))}async function qr(D,j,K,J,de,ge={}){Ir();let Ce=YE(j,K);if(Ue({navigation:Ce},{flushSync:ge.flushSync===!0}),de){let le=await pn(J,j.pathname,D.signal);if(le.type==="aborted")return{shortCircuited:!0};if(le.type==="error"){let xe=js(le.partialMatches).route.id;return{matches:le.partialMatches,pendingActionResult:[xe,{type:"error",error:le.error}]}}else if(le.matches)J=le.matches;else{let{notFoundMatches:xe,error:Fe,route:it}=tr(j.pathname);return{matches:xe,pendingActionResult:[it.id,{type:"error",error:Fe}]}}}let fe,ve=$a(J,j);if(!ve.route.action&&!ve.route.lazy)fe={type:"error",error:Yn(405,{method:D.method,pathname:j.pathname,routeId:ve.route.id})};else if(fe=(await er("action",F,D,[ve],J,null))[ve.route.id],D.signal.aborted)return{shortCircuited:!0};if(Bs(fe)){let le;return ge&&ge.replace!=null?le=ge.replace:le=Wg(fe.response.headers.get("Location"),new URL(D.url),d)===F.location.pathname+F.location.search,await qt(D,fe,!0,{submission:K,replace:le}),{shortCircuited:!0}}if(Fn(fe)){let le=js(J,ve.route.id);return(ge&&ge.replace)!==!0&&(ce="PUSH"),{matches:J,pendingActionResult:[le.route.id,fe]}}return{matches:J,pendingActionResult:[ve.route.id,fe]}}async function Ti(D,j,K,J,de,ge,Ce,fe,ve,le,xe){let Fe=de||Pd(j,ge),it=ge||Ce||Jg(Fe),St=!B&&!ve;if(J){if(St){let pt=Ii(xe);Ue({navigation:Fe,...pt!==void 0?{actionData:pt}:{}},{flushSync:le})}let Ye=await pn(K,j.pathname,D.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let pt=js(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[pt]:Ye.error}}}else if(Ye.matches)K=Ye.matches;else{let{error:pt,notFoundMatches:Kt,route:or}=tr(j.pathname);return{matches:Kt,loaderData:{},errors:{[or.id]:pt}}}}let qe=h||l,[tt,st]=zg(n.history,F,K,it,j,ve===!0,P,ht,X,he,Te,qe,d,xe);if(Qe=++Ct,tt.length===0&&st.length===0){let Ye=Sr();return ft(j,{matches:K,loaderData:{},errors:xe&&Fn(xe[1])?{[xe[0]]:xe[1].error}:null,...Qg(xe),...Ye?{fetchers:new Map(F.fetchers)}:{}},{flushSync:le}),{shortCircuited:!0}}if(St){let Ye={};if(!J){Ye.navigation=Fe;let pt=Ii(xe);pt!==void 0&&(Ye.actionData=pt)}st.length>0&&(Ye.fetchers=ys(st)),Ue(Ye,{flushSync:le})}st.forEach(Ye=>{Wt(Ye.key),Ye.controller&&$e.set(Ye.key,Ye.controller)});let rr=()=>st.forEach(Ye=>Wt(Ye.key));I&&I.signal.addEventListener("abort",rr);let{loaderResults:ir,fetcherResults:rn}=await Wr(F,K,tt,st,D);if(D.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",rr),st.forEach(Ye=>$e.delete(Ye.key));let Gt=Mu(ir);if(Gt)return await qt(D,Gt.result,!0,{replace:fe}),{shortCircuited:!0};if(Gt=Mu(rn),Gt)return Te.add(Gt.key),await qt(D,Gt.result,!0,{replace:fe}),{shortCircuited:!0};let{loaderData:$r,errors:Cr}=Kg(F,K,ir,xe,st,rn);ve&&F.errors&&(Cr={...F.errors,...Cr});let sr=Sr(),ot=Si(Qe),Qr=sr||ot||st.length>0;return{matches:K,loaderData:$r,errors:Cr,...Qr?{fetchers:new Map(F.fetchers)}:{}}}function Ii(D){if(D&&!Fn(D[1]))return{[D[0]]:D[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function ys(D){return D.forEach(j=>{let K=F.fetchers.get(j.key),J=Ga(void 0,K?K.data:void 0);F.fetchers.set(j.key,J)}),new Map(F.fetchers)}async function ro(D,j,K,J){Wt(D);let de=(J&&J.flushSync)===!0,ge=h||l,Ce=zd(F.location,F.matches,d,K,j,J==null?void 0:J.relative),fe=es(ge,Ce,d),ve=nr(fe,ge,Ce);if(ve.active&&ve.matches&&(fe=ve.matches),!fe){lt(D,j,Yn(404,{pathname:Ce}),{flushSync:de});return}let{path:le,submission:xe,error:Fe}=jg(!0,Ce,J);if(Fe){lt(D,j,Fe,{flushSync:de});return}let it=$a(fe,le),St=(J&&J.preventScrollReset)===!0;if(xe&&vr(xe.formMethod)){await Ai(D,j,le,it,fe,ve.active,de,St,xe);return}he.set(D,{routeId:j,path:le}),await Zn(D,j,le,it,fe,ve.active,de,St,xe)}async function Ai(D,j,K,J,de,ge,Ce,fe,ve){Ir(),he.delete(D);function le(mt){if(!mt.route.action&&!mt.route.lazy){let En=Yn(405,{method:ve.formMethod,pathname:K,routeId:j});return lt(D,j,En,{flushSync:Ce}),!0}return!1}if(!ge&&le(J))return;let xe=F.fetchers.get(D);_n(D,XE(ve,xe),{flushSync:Ce});let Fe=new AbortController,it=Fo(n.history,K,Fe.signal,ve);if(ge){let mt=await pn(de,K,it.signal);if(mt.type==="aborted")return;if(mt.type==="error"){lt(D,j,mt.error,{flushSync:Ce});return}else if(mt.matches){if(de=mt.matches,J=$a(de,K),le(J))return}else{lt(D,j,Yn(404,{pathname:K}),{flushSync:Ce});return}}$e.set(D,Fe);let St=Ct,tt=(await er("action",F,it,[J],de,D))[J.route.id];if(it.signal.aborted){$e.get(D)===Fe&&$e.delete(D);return}if(X.has(D)){if(Bs(tt)||Fn(tt)){_n(D,Ji(void 0));return}}else{if(Bs(tt))if($e.delete(D),Qe>St){_n(D,Ji(void 0));return}else return Te.add(D),_n(D,Ga(ve)),qt(it,tt,!1,{fetcherSubmission:ve,preventScrollReset:fe});if(Fn(tt)){lt(D,j,tt.error);return}}let st=F.navigation.location||F.location,rr=Fo(n.history,st,Fe.signal),ir=h||l,rn=F.navigation.state!=="idle"?es(ir,F.navigation.location,d):F.matches;Ke(rn,"Didn't find any matches after fetcher action");let Gt=++Ct;ae.set(D,Gt);let $r=Ga(ve,tt.data);F.fetchers.set(D,$r);let[Cr,sr]=zg(n.history,F,rn,ve,st,!1,P,ht,X,he,Te,ir,d,[J.route.id,tt]);sr.filter(mt=>mt.key!==D).forEach(mt=>{let En=mt.key,sn=F.fetchers.get(En),io=Ga(void 0,sn?sn.data:void 0);F.fetchers.set(En,io),Wt(En),mt.controller&&$e.set(En,mt.controller)}),Ue({fetchers:new Map(F.fetchers)});let ot=()=>sr.forEach(mt=>Wt(mt.key));Fe.signal.addEventListener("abort",ot);let{loaderResults:Qr,fetcherResults:Ye}=await Wr(F,rn,Cr,sr,rr);if(Fe.signal.aborted)return;Fe.signal.removeEventListener("abort",ot),ae.delete(D),$e.delete(D),sr.forEach(mt=>$e.delete(mt.key));let pt=Mu(Qr);if(pt)return qt(rr,pt.result,!1,{preventScrollReset:fe});if(pt=Mu(Ye),pt)return Te.add(pt.key),qt(rr,pt.result,!1,{preventScrollReset:fe});let{loaderData:Kt,errors:or}=Kg(F,rn,Qr,void 0,sr,Ye);if(F.fetchers.has(D)){let mt=Ji(tt.data);F.fetchers.set(D,mt)}Si(Gt),F.navigation.state==="loading"&&Gt>Qe?(Ke(ce,"Expected pending action"),I&&I.abort(),ft(F.navigation.location,{matches:rn,loaderData:Kt,errors:or,fetchers:new Map(F.fetchers)})):(Ue({errors:or,loaderData:$g(F.loaderData,Kt,rn,or),fetchers:new Map(F.fetchers)}),P=!1)}async function Zn(D,j,K,J,de,ge,Ce,fe,ve){let le=F.fetchers.get(D);_n(D,Ga(ve,le?le.data:void 0),{flushSync:Ce});let xe=new AbortController,Fe=Fo(n.history,K,xe.signal);if(ge){let tt=await pn(de,K,Fe.signal);if(tt.type==="aborted")return;if(tt.type==="error"){lt(D,j,tt.error,{flushSync:Ce});return}else if(tt.matches)de=tt.matches,J=$a(de,K);else{lt(D,j,Yn(404,{pathname:K}),{flushSync:Ce});return}}$e.set(D,xe);let it=Ct,qe=(await er("loader",F,Fe,[J],de,D))[J.route.id];if($e.get(D)===xe&&$e.delete(D),!Fe.signal.aborted){if(X.has(D)){_n(D,Ji(void 0));return}if(Bs(qe))if(Qe>it){_n(D,Ji(void 0));return}else{Te.add(D),await qt(Fe,qe,!1,{preventScrollReset:fe});return}if(Fn(qe)){lt(D,j,qe.error);return}_n(D,Ji(qe.data))}}async function qt(D,j,K,{submission:J,fetcherSubmission:de,preventScrollReset:ge,replace:Ce}={}){j.response.headers.has("X-Remix-Revalidate")&&(P=!0);let fe=j.response.headers.get("Location");Ke(fe,"Expected a Location header on the redirect Response"),fe=Wg(fe,new URL(D.url),d);let ve=sl(F.location,fe,{_isRedirect:!0});if(t){let qe=!1;if(j.response.headers.has("X-Remix-Reload-Document"))qe=!0;else if(_f.test(fe)){const tt=n.history.createURL(fe);qe=tt.origin!==e.location.origin||Er(tt.pathname,d)==null}if(qe){Ce?e.location.replace(fe):e.location.assign(fe);return}}I=null;let le=Ce===!0||j.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:xe,formAction:Fe,formEncType:it}=F.navigation;!J&&!de&&xe&&Fe&&it&&(J=Jg(F.navigation));let St=J||de;if(LE.has(j.response.status)&&St&&vr(St.formMethod))await nn(le,ve,{submission:{...St,formAction:fe},preventScrollReset:ge||k,enableViewTransition:K?R:void 0});else{let qe=Pd(ve,J);await nn(le,ve,{overrideNavigation:qe,fetcherSubmission:de,preventScrollReset:ge||k,enableViewTransition:K?R:void 0})}}async function er(D,j,K,J,de,ge){let Ce,fe={};try{Ce=await zE(p,D,j,K,J,de,ge,o,i)}catch(ve){return J.forEach(le=>{fe[le.route.id]={type:"error",error:ve}}),fe}for(let[ve,le]of Object.entries(Ce))if($E(le)){let xe=le.result;fe[ve]={type:"redirect",response:WE(xe,K,ve,de,d)}}else fe[ve]=await qE(le);return fe}async function Wr(D,j,K,J,de){let ge=er("loader",D,de,K,j,null),Ce=Promise.all(J.map(async le=>{if(le.matches&&le.match&&le.controller){let Fe=(await er("loader",D,Fo(n.history,le.path,le.controller.signal),[le.match],le.matches,le.key))[le.match.route.id];return{[le.key]:Fe}}else return Promise.resolve({[le.key]:{type:"error",error:Yn(404,{pathname:le.path})}})})),fe=await ge,ve=(await Ce).reduce((le,xe)=>Object.assign(le,xe),{});return{loaderResults:fe,fetcherResults:ve}}function Ir(){P=!0,he.forEach((D,j)=>{$e.has(j)&&ht.add(j),Wt(j)})}function _n(D,j,K={}){F.fetchers.set(D,j),Ue({fetchers:new Map(F.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function lt(D,j,K,J={}){let de=js(F.matches,j);Nn(D),Ue({errors:{[de.route.id]:K},fetchers:new Map(F.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function At(D){return U.set(D,(U.get(D)||0)+1),X.has(D)&&X.delete(D),F.fetchers.get(D)||OE}function Nn(D){let j=F.fetchers.get(D);$e.has(D)&&!(j&&j.state==="loading"&&ae.has(D))&&Wt(D),he.delete(D),ae.delete(D),Te.delete(D),X.delete(D),ht.delete(D),F.fetchers.delete(D)}function vs(D){let j=(U.get(D)||0)-1;j<=0?(U.delete(D),X.add(D)):U.set(D,j),Ue({fetchers:new Map(F.fetchers)})}function Wt(D){let j=$e.get(D);j&&(j.abort(),$e.delete(D))}function Ar(D){for(let j of D){let K=At(j),J=Ji(K.data);F.fetchers.set(j,J)}}function Sr(){let D=[],j=!1;for(let K of Te){let J=F.fetchers.get(K);Ke(J,`Expected fetcher: ${K}`),J.state==="loading"&&(Te.delete(K),D.push(K),j=!0)}return Ar(D),j}function Si(D){let j=[];for(let[K,J]of ae)if(J<D){let de=F.fetchers.get(K);Ke(de,`Expected fetcher: ${K}`),de.state==="loading"&&(Wt(K),ae.delete(K),j.push(K))}return Ar(j),j.length>0}function _s(D,j){let K=F.blockers.get(D)||Wa;return _e.get(D)!==j&&_e.set(D,j),K}function Ri(D){F.blockers.delete(D),_e.delete(D)}function Rr(D,j){let K=F.blockers.get(D)||Wa;Ke(K.state==="unblocked"&&j.state==="blocked"||K.state==="blocked"&&j.state==="blocked"||K.state==="blocked"&&j.state==="proceeding"||K.state==="blocked"&&j.state==="unblocked"||K.state==="proceeding"&&j.state==="unblocked",`Invalid blocker state transition: ${K.state} -> ${j.state}`);let J=new Map(F.blockers);J.set(D,j),Ue({blockers:J})}function Ci({currentLocation:D,nextLocation:j,historyAction:K}){if(_e.size===0)return;_e.size>1&&en(!1,"A router only supports one blocker at a time");let J=Array.from(_e.entries()),[de,ge]=J[J.length-1],Ce=F.blockers.get(de);if(!(Ce&&Ce.state==="proceeding")&&ge({currentLocation:D,nextLocation:j,historyAction:K}))return de}function tr(D){let j=Yn(404,{pathname:D}),K=h||l,{matches:J,route:de}=Yg(K);return{notFoundMatches:J,route:de,error:j}}function Pi(D,j,K){if(S=D,O=j,L=K||null,!M&&F.navigation===Cd){M=!0;let J=Dn(F.location,F.matches);J!=null&&Ue({restoreScrollPosition:J})}return()=>{S=null,O=null,L=null}}function Gr(D,j){return L&&L(D,j.map(J=>hE(J,F.loaderData)))||D.key}function wn(D,j){if(S&&O){let K=Gr(D,j);S[K]=O()}}function Dn(D,j){if(S){let K=Gr(D,j),J=S[K];if(typeof J=="number")return J}return null}function nr(D,j,K){if(y)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:Ku(j,K,d,!0)}}else return{active:!0,matches:Ku(j,K,d,!0)||[]};return{active:!1,matches:null}}async function pn(D,j,K){if(!y)return{type:"success",matches:D};let J=D;for(;;){let de=h==null,ge=h||l,Ce=o;try{await y({path:j,matches:J,patch:(le,xe)=>{K.aborted||qg(le,xe,ge,Ce,i)}})}catch(le){return{type:"error",error:le,partialMatches:J}}finally{de&&!K.aborted&&(l=[...l])}if(K.aborted)return{type:"aborted"};let fe=es(ge,j,d);if(fe)return{type:"success",matches:fe};let ve=Ku(ge,j,d,!0);if(!ve||J.length===ve.length&&J.every((le,xe)=>le.route.id===ve[xe].route.id))return{type:"success",matches:null};J=ve}}function ws(D){o={},h=uc(D,i,void 0,o)}function Kr(D,j){let K=h==null;qg(D,j,h||l,o,i),K&&(l=[...l],Ue({}))}return oe={get basename(){return d},get future(){return _},get state(){return F},get routes(){return l},get window(){return e},initialize:Be,subscribe:et,enableScrollRestoration:Pi,navigate:Bn,fetch:ro,revalidate:Ei,createHref:D=>n.history.createHref(D),encodeLocation:D=>n.history.encodeLocation(D),getFetcher:At,deleteFetcher:vs,dispose:Ze,getBlocker:_s,deleteBlocker:Ri,patchRoutes:Kr,_internalFetchControllers:$e,_internalSetRoutes:ws},oe}function ME(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function zd(n,e,t,i,o,l){let h,d;if(o){h=[];for(let y of e)if(h.push(y),y.route.id===o){d=y;break}}else h=e,d=e[e.length-1];let p=vf(i||".",yf(h),Er(n.pathname,t)||n.pathname,l==="path");if(i==null&&(p.search=n.search,p.hash=n.hash),(i==null||i===""||i===".")&&d){let y=wf(p.search);if(d.route.index&&!y)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&y){let _=new URLSearchParams(p.search),T=_.getAll("index");_.delete("index"),T.filter(S=>S).forEach(S=>_.append("index",S));let A=_.toString();p.search=A?`?${A}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:Mr([t,p.pathname])),cs(p)}function jg(n,e,t){if(!t||!ME(t))return{path:e};if(t.formMethod&&!QE(t.formMethod))return{path:e,error:Yn(405,{method:t.formMethod})};let i=()=>({path:e,error:Yn(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),h=Cv(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!vr(l))return i();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((A,[S,L])=>`${A}${S}=${L}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:h,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!vr(l))return i();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:h,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}Ke(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=qd(t.formData),p=t.formData;else if(t.body instanceof FormData)d=qd(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=Gg(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=Gg(d)}catch{return i()}let y={formMethod:l,formAction:h,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(vr(y.formMethod))return{path:e,submission:y};let _=gs(e);return n&&_.search&&wf(_.search)&&d.append("index",""),_.search=`?${d}`,{path:cs(_),submission:y}}function Bg(n,e,t=!1){let i=n.findIndex(o=>o.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function zg(n,e,t,i,o,l,h,d,p,y,_,T,A,S){let L=S?Fn(S[1])?S[1].error:S[1].data:void 0,O=n.createURL(e.location),M=n.createURL(o),q=t;l&&e.errors?q=Bg(t,Object.keys(e.errors)[0],!0):S&&Fn(S[1])&&(q=Bg(t,S[0]));let Y=S?S[1].statusCode:void 0,ee=Y&&Y>=400,oe=q.filter((ce,k)=>{let{route:I}=ce;if(I.lazy)return!0;if(I.loader==null)return!1;if(l)return Hd(I,e.loaderData,e.errors);if(UE(e.loaderData,e.matches[k],ce))return!0;let R=e.matches[k],x=ce;return Hg(ce,{currentUrl:O,currentParams:R.params,nextUrl:M,nextParams:x.params,...i,actionResult:L,actionStatus:Y,defaultShouldRevalidate:ee?!1:h||O.pathname+O.search===M.pathname+M.search||O.search!==M.search||FE(R,x)})}),F=[];return y.forEach((ce,k)=>{if(l||!t.some(B=>B.route.id===ce.routeId)||p.has(k))return;let I=es(T,ce.path,A);if(!I){F.push({key:k,routeId:ce.routeId,path:ce.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(k),x=$a(I,ce.path),V=!1;_.has(k)?V=!1:d.has(k)?(d.delete(k),V=!0):R&&R.state!=="idle"&&R.data===void 0?V=h:V=Hg(x,{currentUrl:O,currentParams:e.matches[e.matches.length-1].params,nextUrl:M,nextParams:t[t.length-1].params,...i,actionResult:L,actionStatus:Y,defaultShouldRevalidate:ee?!1:h}),V&&F.push({key:k,routeId:ce.routeId,path:ce.path,matches:I,match:x,controller:new AbortController})}),[oe,F]}function Hd(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function UE(n,e,t){let i=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return i||o}function FE(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Hg(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function qg(n,e,t,i,o){let l;if(n){let p=i[n];Ke(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let h=e.filter(p=>!l.some(y=>Rv(p,y))),d=uc(h,o,[n||"_","patch",String((l==null?void 0:l.length)||"0")],i);l.push(...d)}function Rv(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(l=>Rv(t,l))}):!1}async function jE(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];Ke(o,"No route found in manifest");let l={};for(let h in i){let p=o[h]!==void 0&&h!=="hasErrorBoundary";en(!p,`Route "${o.id}" has a static property "${h}" defined but its lazy function is also returning a value for this property. The lazy route property "${h}" will be ignored.`),!p&&!uE.has(h)&&(l[h]=i[h])}Object.assign(o,l),Object.assign(o,{...e(o),lazy:void 0})}async function BE({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,o,l)=>Object.assign(i,{[e[l].route.id]:o}),{})}async function zE(n,e,t,i,o,l,h,d,p,y){let _=l.map(S=>S.route.lazy?jE(S.route,p,d):void 0),T=l.map((S,L)=>{let O=_[L],M=o.some(Y=>Y.route.id===S.route.id);return{...S,shouldLoad:M,resolve:async Y=>(Y&&i.method==="GET"&&(S.route.lazy||S.route.loader)&&(M=!0),M?HE(e,i,S,O,Y,y):Promise.resolve({type:"data",result:void 0}))}}),A=await n({matches:T,request:i,params:l[0].params,fetcherKey:h,context:y});try{await Promise.all(_)}catch{}return A}async function HE(n,e,t,i,o,l){let h,d,p=y=>{let _,T=new Promise((L,O)=>_=O);d=()=>_(),e.signal.addEventListener("abort",d);let A=L=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):y({request:e,params:t.params,context:l},...L!==void 0?[L]:[]),S=(async()=>{try{return{type:"data",result:await(o?o(O=>A(O)):A())}}catch(L){return{type:"error",result:L}}})();return Promise.race([S,T])};try{let y=t.route[n];if(i)if(y){let _,[T]=await Promise.all([p(y).catch(A=>{_=A}),i]);if(_!==void 0)throw _;h=T}else if(await i,y=t.route[n],y)h=await p(y);else if(n==="action"){let _=new URL(e.url),T=_.pathname+_.search;throw Yn(405,{method:e.method,pathname:T,routeId:t.route.id})}else return{type:"data",result:void 0};else if(y)h=await p(y);else{let _=new URL(e.url),T=_.pathname+_.search;throw Yn(404,{pathname:T})}}catch(y){return{type:"error",result:y}}finally{d&&e.signal.removeEventListener("abort",d)}return h}async function qE(n){var i,o,l,h;let{result:e,type:t}=n;if(Pv(e)){let d;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new hc(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(t==="error"){if(Xg(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new hc(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:xc(e)?e.status:void 0}}return Xg(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function WE(n,e,t,i,o){let l=n.headers.get("Location");if(Ke(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!_f.test(l)){let h=i.slice(0,i.findIndex(d=>d.route.id===t)+1);l=zd(new URL(e.url),h,o,l),n.headers.set("Location",l)}return n}function Wg(n,e,t){if(_f.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=Er(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return n}function Fo(n,e,t,i){let o=n.createURL(Cv(e)).toString(),l={signal:t};if(i&&vr(i.formMethod)){let{formMethod:h,formEncType:d}=i;l.method=h.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(i.json)):d==="text/plain"?l.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?l.body=qd(i.formData):l.body=i.formData}return new Request(o,l)}function qd(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function Gg(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function GE(n,e,t,i=!1,o=!1){let l={},h=null,d,p=!1,y={},_=t&&Fn(t[1])?t[1].error:void 0;return n.forEach(T=>{if(!(T.route.id in e))return;let A=T.route.id,S=e[A];if(Ke(!Bs(S),"Cannot handle redirect results in processLoaderData"),Fn(S)){let L=S.error;if(_!==void 0&&(L=_,_=void 0),h=h||{},o)h[A]=L;else{let O=js(n,A);h[O.route.id]==null&&(h[O.route.id]=L)}i||(l[A]=Sv),p||(p=!0,d=xc(S.error)?S.error.status:500),S.headers&&(y[A]=S.headers)}else l[A]=S.data,S.statusCode&&S.statusCode!==200&&!p&&(d=S.statusCode),S.headers&&(y[A]=S.headers)}),_!==void 0&&t&&(h={[t[0]]:_},l[t[0]]=void 0),{loaderData:l,errors:h,statusCode:d||200,loaderHeaders:y}}function Kg(n,e,t,i,o,l){let{loaderData:h,errors:d}=GE(e,t,i);return o.forEach(p=>{let{key:y,match:_,controller:T}=p,A=l[y];if(Ke(A,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Fn(A)){let S=js(n.matches,_==null?void 0:_.route.id);d&&d[S.route.id]||(d={...d,[S.route.id]:A.error}),n.fetchers.delete(y)}else if(Bs(A))Ke(!1,"Unhandled fetcher revalidation redirect");else{let S=Ji(A.data);n.fetchers.set(y,S)}}),{loaderData:h,errors:d}}function $g(n,e,t,i){let o=Object.entries(e).filter(([,l])=>l!==Sv).reduce((l,[h,d])=>(l[h]=d,l),{});for(let l of t){let h=l.route.id;if(!e.hasOwnProperty(h)&&n.hasOwnProperty(h)&&l.route.loader&&(o[h]=n[h]),i&&i.hasOwnProperty(h))break}return o}function Qg(n){return n?Fn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function js(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function Yg(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Yn(n,{pathname:e,routeId:t,method:i,type:o,message:l}={}){let h="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(h="Bad Request",i&&e&&t?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):n===403?(h="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(h="Not Found",d=`No route matches URL "${e}"`):n===405&&(h="Method Not Allowed",i&&e&&t?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new hc(n||500,h,new Error(d),!0)}function Mu(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(Bs(o))return{key:i,result:o}}}function Cv(n){let e=typeof n=="string"?gs(n):n;return cs({...e,hash:""})}function KE(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function $E(n){return Pv(n.result)&&DE.has(n.result.status)}function Fn(n){return n.type==="error"}function Bs(n){return(n&&n.type)==="redirect"}function Xg(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Pv(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function QE(n){return NE.has(n.toUpperCase())}function vr(n){return kE.has(n.toUpperCase())}function wf(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function $a(n,e){let t=typeof e=="string"?gs(e).search:e.search;if(n[n.length-1].route.index&&wf(t||""))return n[n.length-1];let i=Tv(n);return i[i.length-1]}function Jg(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:l,json:h}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:h,text:void 0}}}function Pd(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function YE(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ga(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function XE(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ji(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function JE(n,e){try{let t=n.sessionStorage.getItem(Av);if(t){let i=JSON.parse(t);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function ZE(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(Av,JSON.stringify(t))}catch(i){en(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function eT(){let n,e,t=new Promise((i,o)=>{n=async l=>{i(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Xs=$.createContext(null);Xs.displayName="DataRouter";var ml=$.createContext(null);ml.displayName="DataRouterState";var Ef=$.createContext({isTransitioning:!1});Ef.displayName="ViewTransition";var kv=$.createContext(new Map);kv.displayName="Fetchers";var tT=$.createContext(null);tT.displayName="Await";var Hr=$.createContext(null);Hr.displayName="Navigation";var Nc=$.createContext(null);Nc.displayName="Location";var _i=$.createContext({outlet:null,matches:[],isDataRoute:!1});_i.displayName="Route";var Tf=$.createContext(null);Tf.displayName="RouteError";function nT(n,{relative:e}={}){Ke(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=$.useContext(Hr),{hash:o,pathname:l,search:h}=yl(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Mr([t,l])),i.createHref({pathname:d,search:h,hash:o})}function gl(){return $.useContext(Nc)!=null}function Js(){return Ke(gl(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Nc).location}var xv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nv(n){$.useContext(Hr).static||$.useLayoutEffect(n)}function If(){let{isDataRoute:n}=$.useContext(_i);return n?mT():rT()}function rT(){Ke(gl(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(Xs),{basename:e,navigator:t}=$.useContext(Hr),{matches:i}=$.useContext(_i),{pathname:o}=Js(),l=JSON.stringify(yf(i)),h=$.useRef(!1);return Nv(()=>{h.current=!0}),$.useCallback((p,y={})=>{if(en(h.current,xv),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=vf(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Mr([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,o,n])}$.createContext(null);function yl(n,{relative:e}={}){let{matches:t}=$.useContext(_i),{pathname:i}=Js(),o=JSON.stringify(yf(t));return $.useMemo(()=>vf(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function iT(n,e,t,i){Ke(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(Hr),{matches:l}=$.useContext(_i),h=l[l.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let q=_&&_.path||"";Dv(p,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let T=Js(),A;A=T;let S=A.pathname||"/",L=S;if(y!=="/"){let q=y.replace(/^\//,"").split("/");L="/"+S.replace(/^\//,"").split("/").slice(q.length).join("/")}let O=es(n,{pathname:L});return en(_||O!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),en(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),uT(O&&O.map(q=>Object.assign({},q,{params:Object.assign({},d,q.params),pathname:Mr([y,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:Mr([y,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),l,t,i)}function sT(){let n=pT(),e=xc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,h)}var oT=$.createElement(sT,null),aT=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(_i.Provider,{value:this.props.routeContext},$.createElement(Tf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lT({routeContext:n,match:e,children:t}){let i=$.useContext(Xs);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(_i.Provider,{value:n},t)}function uT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);Ke(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:_,errors:T}=t,A=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||A){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let T,A=!1,S=null,L=null;t&&(T=l&&y.route.id?l[y.route.id]:void 0,S=y.route.errorElement||oT,h&&(d<0&&_===0?(Dv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,L=null):d===_&&(A=!0,L=y.route.hydrateFallbackElement||null)));let O=e.concat(o.slice(0,_+1)),M=()=>{let q;return T?q=S:A?q=L:y.route.Component?q=$.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=p,$.createElement(lT,{match:y,routeContext:{outlet:p,matches:O,isDataRoute:t!=null},children:q})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?$.createElement(aT,{location:t.location,revalidation:t.revalidation,component:S,error:T,children:M(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):M()},null)}function Af(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cT(n){let e=$.useContext(Xs);return Ke(e,Af(n)),e}function hT(n){let e=$.useContext(ml);return Ke(e,Af(n)),e}function dT(n){let e=$.useContext(_i);return Ke(e,Af(n)),e}function Sf(n){let e=dT(n),t=e.matches[e.matches.length-1];return Ke(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function fT(){return Sf("useRouteId")}function pT(){var i;let n=$.useContext(Tf),e=hT("useRouteError"),t=Sf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function mT(){let{router:n}=cT("useNavigate"),e=Sf("useNavigate"),t=$.useRef(!1);return Nv(()=>{t.current=!0}),$.useCallback(async(o,l={})=>{en(t.current,xv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var Zg={};function Dv(n,e,t){!e&&!Zg[n]&&(Zg[n]=!0,en(!1,t))}var ey={};function ty(n,e){!n&&!ey[e]&&(ey[e]=!0,console.warn(e))}function gT(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&en(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:$.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&en(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:$.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&en(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:$.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var yT=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function vT({router:n,flushSync:e}){let[t,i]=$.useState(n.state),[o,l]=$.useState(),[h,d]=$.useState({isTransitioning:!1}),[p,y]=$.useState(),[_,T]=$.useState(),[A,S]=$.useState(),L=$.useRef(new Map),O=$.useCallback((ee,{deletedFetchers:oe,flushSync:F,viewTransitionOpts:ce})=>{oe.forEach(I=>L.current.delete(I)),ee.fetchers.forEach((I,R)=>{I.data!==void 0&&L.current.set(R,I.data)}),ty(F===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(ty(ce==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ce||!k){e&&F?e(()=>i(ee)):$.startTransition(()=>i(ee));return}if(e&&F){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let I=n.window.document.startViewTransition(()=>{e(()=>i(ee))});I.finished.finally(()=>{e(()=>{y(void 0),T(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>T(I));return}_?(p&&p.resolve(),_.skipTransition(),S({state:ee,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(l(ee),d({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[n.window,e,_,p]);$.useLayoutEffect(()=>n.subscribe(O),[n,O]),$.useEffect(()=>{h.isTransitioning&&!h.flushSync&&y(new yT)},[h]),$.useEffect(()=>{if(p&&o&&n.window){let ee=o,oe=p.promise,F=n.window.document.startViewTransition(async()=>{$.startTransition(()=>i(ee)),await oe});F.finished.finally(()=>{y(void 0),T(void 0),l(void 0),d({isTransitioning:!1})}),T(F)}},[o,p,n.window]),$.useEffect(()=>{p&&o&&t.location.key===o.location.key&&p.resolve()},[p,_,t.location,o]),$.useEffect(()=>{!h.isTransitioning&&A&&(l(A.state),d({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),S(void 0))},[h.isTransitioning,A]);let M=$.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:ee=>n.navigate(ee),push:(ee,oe,F)=>n.navigate(ee,{state:oe,preventScrollReset:F==null?void 0:F.preventScrollReset}),replace:(ee,oe,F)=>n.navigate(ee,{replace:!0,state:oe,preventScrollReset:F==null?void 0:F.preventScrollReset})}),[n]),q=n.basename||"/",Y=$.useMemo(()=>({router:n,navigator:M,static:!1,basename:q}),[n,M,q]);return $.createElement($.Fragment,null,$.createElement(Xs.Provider,{value:Y},$.createElement(ml.Provider,{value:t},$.createElement(kv.Provider,{value:L.current},$.createElement(Ef.Provider,{value:h},$.createElement(ET,{basename:q,location:t.location,navigationType:t.historyAction,navigator:M},$.createElement(_T,{routes:n.routes,future:n.future,state:t})))))),null)}var _T=$.memo(wT);function wT({routes:n,future:e,state:t}){return iT(n,void 0,t,e)}function ET({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){Ke(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=gs(t));let{pathname:p="/",search:y="",hash:_="",state:T=null,key:A="default"}=t,S=$.useMemo(()=>{let L=Er(p,h);return L==null?null:{location:{pathname:L,search:y,hash:_,state:T,key:A},navigationType:i}},[h,p,y,_,T,A,i]);return en(S!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:$.createElement(Hr.Provider,{value:d},$.createElement(Nc.Provider,{children:e,value:S}))}var $u="get",Qu="application/x-www-form-urlencoded";function Dc(n){return n!=null&&typeof n.tagName=="string"}function TT(n){return Dc(n)&&n.tagName.toLowerCase()==="button"}function IT(n){return Dc(n)&&n.tagName.toLowerCase()==="form"}function AT(n){return Dc(n)&&n.tagName.toLowerCase()==="input"}function ST(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function RT(n,e){return n.button===0&&(!e||e==="_self")&&!ST(n)}var Uu=null;function CT(){if(Uu===null)try{new FormData(document.createElement("form"),0),Uu=!1}catch{Uu=!0}return Uu}var PT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kd(n){return n!=null&&!PT.has(n)?(en(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qu}"`),null):n}function kT(n,e){let t,i,o,l,h;if(IT(n)){let d=n.getAttribute("action");i=d?Er(d,e):null,t=n.getAttribute("method")||$u,o=kd(n.getAttribute("enctype"))||Qu,l=new FormData(n)}else if(TT(n)||AT(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Er(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||$u,o=kd(n.getAttribute("formenctype"))||kd(d.getAttribute("enctype"))||Qu,l=new FormData(d,n),!CT()){let{name:y,type:_,value:T}=n;if(_==="image"){let A=y?`${y}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else y&&l.append(y,T)}}else{if(Dc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=$u,i=null,o=Qu,h=n}return l&&o==="text/plain"&&(h=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Rf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function xT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function DT(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await xT(l,t);return h.links?h.links():[]}return[]}));return bT(i.flat(1).filter(NT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ny(n,e,t,i,o,l){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,d=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>h(p,y)||d(p,y)):l==="data"?e.filter((p,y)=>{var T;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function LT(n,e){return OT(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function OT(n){return[...new Set(n)]}function VT(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function bT(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(VT(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function MT(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function UT(){let n=$.useContext(Xs);return Rf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function FT(){let n=$.useContext(ml);return Rf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Cf=$.createContext(void 0);Cf.displayName="FrameworkContext";function Lv(){let n=$.useContext(Cf);return Rf(n,"You must render this element inside a <HydratedRouter> element"),n}function jT(n,e){let t=$.useContext(Cf),[i,o]=$.useState(!1),[l,h]=$.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:T}=e,A=$.useRef(null);$.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let O=q=>{q.forEach(Y=>{h(Y.isIntersecting)})},M=new IntersectionObserver(O,{threshold:.5});return A.current&&M.observe(A.current),()=>{M.disconnect()}}},[n]),$.useEffect(()=>{if(i){let O=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(O)}}},[i]);let S=()=>{o(!0)},L=()=>{o(!1),h(!1)};return t?n!=="intent"?[l,A,{}]:[l,A,{onFocus:Ka(d,S),onBlur:Ka(p,L),onMouseEnter:Ka(y,S),onMouseLeave:Ka(_,L),onTouchStart:Ka(T,S)}]:[!1,A,{}]}function Ka(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function BT({page:n,...e}){let{router:t}=UT(),i=$.useMemo(()=>es(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?$.createElement(HT,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function zT(n){let{manifest:e,routeModules:t}=Lv(),[i,o]=$.useState([]);return $.useEffect(()=>{let l=!1;return DT(n,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[n,e,t]),i}function HT({page:n,matches:e,...t}){let i=Js(),{manifest:o,routeModules:l}=Lv(),{loaderData:h,matches:d}=FT(),p=$.useMemo(()=>ny(n,e,d,o,i,"data"),[n,e,d,o,i]),y=$.useMemo(()=>ny(n,e,d,o,i,"assets"),[n,e,d,o,i]),_=$.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let S=new Set,L=!1;if(e.forEach(M=>{var Y;let q=o.routes[M.route.id];!q||!q.hasLoader||(!p.some(ee=>ee.route.id===M.route.id)&&M.route.id in h&&((Y=l[M.route.id])!=null&&Y.shouldRevalidate)||q.hasClientLoader?L=!0:S.add(M.route.id))}),S.size===0)return[];let O=MT(n);return L&&S.size>0&&O.searchParams.set("_routes",e.filter(M=>S.has(M.route.id)).map(M=>M.route.id).join(",")),[O.pathname+O.search]},[h,i,o,p,e,n,l]),T=$.useMemo(()=>LT(y,o),[y,o]),A=zT(y);return $.createElement($.Fragment,null,_.map(S=>$.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),T.map(S=>$.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),A.map(({key:S,link:L})=>$.createElement("link",{key:S,...L})))}function qT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ov=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ov&&(window.__reactRouterVersion="7.0.2")}catch{}function WT(n,e){return bE({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:oE({window:e==null?void 0:e.window}),hydrationData:GT(),routes:n,mapRouteProperties:gT,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function GT(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:KT(n.errors)}),n}function KT(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new hc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let h=new l(o.message);h.stack="",t[i]=h}catch{}}if(t[i]==null){let l=new Error(o.message);l.stack="",t[i]=l}}else t[i]=o;return t}var Vv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pf=$.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:h,state:d,target:p,to:y,preventScrollReset:_,viewTransition:T,...A},S){let{basename:L}=$.useContext(Hr),O=typeof y=="string"&&Vv.test(y),M,q=!1;if(typeof y=="string"&&O&&(M=y,Ov))try{let R=new URL(window.location.href),x=y.startsWith("//")?new URL(R.protocol+y):new URL(y),V=Er(x.pathname,L);x.origin===R.origin&&V!=null?y=V+x.search+x.hash:q=!0}catch{en(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=nT(y,{relative:o}),[ee,oe,F]=jT(i,A),ce=XT(y,{replace:h,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:T});function k(R){e&&e(R),R.defaultPrevented||ce(R)}let I=$.createElement("a",{...A,...F,href:M||Y,onClick:q||l?e:k,ref:qT(S,oe),target:p,"data-discover":!O&&t==="render"?"true":void 0});return ee&&!O?$.createElement($.Fragment,null,I,$.createElement(BT,{page:Y})):I});Pf.displayName="Link";var $T=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:h,viewTransition:d,children:p,...y},_){let T=yl(h,{relative:y.relative}),A=Js(),S=$.useContext(ml),{navigator:L,basename:O}=$.useContext(Hr),M=S!=null&&nI(T)&&d===!0,q=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,Y=A.pathname,ee=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),ee=ee?ee.toLowerCase():null,q=q.toLowerCase()),ee&&O&&(ee=Er(ee,O)||ee);const oe=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let F=Y===q||!o&&Y.startsWith(q)&&Y.charAt(oe)==="/",ce=ee!=null&&(ee===q||!o&&ee.startsWith(q)&&ee.charAt(q.length)==="/"),k={isActive:F,isPending:ce,isTransitioning:M},I=F?e:void 0,R;typeof i=="function"?R=i(k):R=[i,F?"active":null,ce?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(k):l;return $.createElement(Pf,{...y,"aria-current":I,className:R,ref:_,style:x,to:h,viewTransition:d},typeof p=="function"?p(k):p)});$T.displayName="NavLink";var QT=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:h=$u,action:d,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:T,...A},S)=>{let L=eI(),O=tI(d,{relative:y}),M=h.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&Vv.test(d),Y=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let oe=ee.nativeEvent.submitter,F=(oe==null?void 0:oe.getAttribute("formmethod"))||h;L(oe||ee.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:o,state:l,relative:y,preventScrollReset:_,viewTransition:T})};return $.createElement("form",{ref:S,method:M,action:O,onSubmit:i?p:Y,...A,"data-discover":!q&&n==="render"?"true":void 0})});QT.displayName="Form";function YT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bv(n){let e=$.useContext(Xs);return Ke(e,YT(n)),e}function XT(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=If(),p=Js(),y=yl(n,{relative:l});return $.useCallback(_=>{if(RT(_,e)){_.preventDefault();let T=t!==void 0?t:cs(p)===cs(y);d(n,{replace:T,state:i,preventScrollReset:o,relative:l,viewTransition:h})}},[p,d,y,t,i,e,n,o,l,h])}var JT=0,ZT=()=>`__${String(++JT)}__`;function eI(){let{router:n}=bv("useSubmit"),{basename:e}=$.useContext(Hr),t=fT();return $.useCallback(async(i,o={})=>{let{action:l,method:h,encType:d,formData:p,body:y}=kT(i,e);if(o.navigate===!1){let _=o.fetcherKey||ZT();await n.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function tI(n,{relative:e}={}){let{basename:t}=$.useContext(Hr),i=$.useContext(_i);Ke(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...yl(n||".",{relative:e})},h=Js();if(n==null){l.search=h.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Mr([t,l.pathname])),cs(l)}function nI(n,e={}){let t=$.useContext(Ef);Ke(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=bv("useViewTransitionState"),o=yl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Er(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Er(t.nextLocation.pathname,i)||t.nextLocation.pathname;return cc(o.pathname,h)!=null||cc(o.pathname,l)!=null}new TextEncoder;var rI=_v();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iI(n){return $.createElement(vT,{flushSync:rI.flushSync,...n})}function sI(){return Ee.jsx("div",{className:"pageNotFound h-[100vh] w-[100vw] flex items-center justify-center",children:Ee.jsxs("div",{className:"backdrop-blur relative bg-[#212121] bg-opacity-70 min-h-[400px] h-[50%] aspect-square flex items-center justify-start flex-col rounded-[50px] ",children:[Ee.jsx("h1",{className:"mt-[15%] text-white font-bold text-5xl font-inria",children:"Page Not Found"}),Ee.jsx(Pf,{to:"/",children:Ee.jsx("button",{className:"absolute left-1/2 top-3/4 transform -translate-x-1/2 -translate-y-[70%] bg-[#915472] min-w-[250px] px-3 py-5 rounded-[20px] text-2xl font-inria text-white",children:"Go to Home Page"})})]})})}var ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},oI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],h=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Uv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],h=o+1<n.length,d=h?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let A=(d&15)<<2|y>>6,S=y&63;p||(S=64,h||(A=64)),i.push(t[_],t[T],t[A],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Mv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):oI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||y==null||T==null)throw new aI;const A=l<<2|d>>4;if(i.push(A),y!==64){const S=d<<4&240|y>>2;if(i.push(S),T!==64){const L=y<<6&192|T;i.push(L)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class aI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lI=function(n){const e=Mv(n);return Uv.encodeByteArray(e,!0)},dc=function(n){return lI(n).replace(/\./g,"")},Fv=function(n){try{return Uv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=()=>uI().__FIREBASE_DEFAULTS__,hI=()=>{if(typeof process>"u"||typeof ry>"u")return;const n=ry.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Fv(n[1]);return e&&JSON.parse(e)},Lc=()=>{try{return cI()||hI()||dI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jv=n=>{var e,t;return(t=(e=Lc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},fI=n=>{const e=jv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Bv=()=>{var n;return(n=Lc())===null||n===void 0?void 0:n.config},zv=n=>{var e;return(e=Lc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[dc(JSON.stringify(t)),dc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function yI(){var n;const e=(n=Lc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _I(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function wI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EI(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function TI(){return!yI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function II(){try{return typeof indexedDB=="object"}catch{return!1}}function AI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="FirebaseError";class wi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=SI,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vl.prototype.create)}}class vl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?RI(l,i):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new wi(o,d,i)}}function RI(n,e){return n.replace(CI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const CI=/\{\$([^}]+)}/g;function PI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function fc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],h=e[o];if(iy(l)&&iy(h)){if(!fc(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function iy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function kI(n,e){const t=new xI(n,e);return t.subscribe.bind(t)}class xI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");NI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=xd),o.error===void 0&&(o.error=xd),o.complete===void 0&&(o.complete=xd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(n){return n&&n._delegate?n._delegate:n}class $s{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new pI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OI(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:LI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LI(n){return n===Fs?void 0:n}function OI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const bI={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},MI=ze.INFO,UI={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},FI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=UI[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kf{constructor(e){this.name=e,this._logLevel=MI,this._logHandler=FI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const jI=(n,e)=>e.some(t=>n instanceof t);let sy,oy;function BI(){return sy||(sy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zI(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hv=new WeakMap,Wd=new WeakMap,qv=new WeakMap,Nd=new WeakMap,xf=new WeakMap;function HI(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(ss(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Hv.set(t,n)}).catch(()=>{}),xf.set(e,n),e}function qI(n){if(Wd.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});Wd.set(n,e)}let Gd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Wd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ss(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function WI(n){Gd=n(Gd)}function GI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Dd(this),e,...t);return qv.set(i,e.sort?e.sort():[e]),ss(i)}:zI().includes(n)?function(...e){return n.apply(Dd(this),e),ss(Hv.get(this))}:function(...e){return ss(n.apply(Dd(this),e))}}function KI(n){return typeof n=="function"?GI(n):(n instanceof IDBTransaction&&qI(n),jI(n,BI())?new Proxy(n,Gd):n)}function ss(n){if(n instanceof IDBRequest)return HI(n);if(Nd.has(n))return Nd.get(n);const e=KI(n);return e!==n&&(Nd.set(n,e),xf.set(e,n)),e}const Dd=n=>xf.get(n);function $I(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(n,e),d=ss(h);return i&&h.addEventListener("upgradeneeded",p=>{i(ss(h.result),p.oldVersion,p.newVersion,ss(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const QI=["get","getKey","getAll","getAllKeys","count"],YI=["put","add","delete","clear"],Ld=new Map;function ay(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=YI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||QI.includes(t)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return Ld.set(e,l),l}WI(n=>({...n,get:(e,t,i)=>ay(e,t)||n.get(e,t,i),has:(e,t)=>!!ay(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(JI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function JI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kd="@firebase/app",ly="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new kf("@firebase/app"),ZI="@firebase/app-compat",eA="@firebase/analytics-compat",tA="@firebase/analytics",nA="@firebase/app-check-compat",rA="@firebase/app-check",iA="@firebase/auth",sA="@firebase/auth-compat",oA="@firebase/database",aA="@firebase/data-connect",lA="@firebase/database-compat",uA="@firebase/functions",cA="@firebase/functions-compat",hA="@firebase/installations",dA="@firebase/installations-compat",fA="@firebase/messaging",pA="@firebase/messaging-compat",mA="@firebase/performance",gA="@firebase/performance-compat",yA="@firebase/remote-config",vA="@firebase/remote-config-compat",_A="@firebase/storage",wA="@firebase/storage-compat",EA="@firebase/firestore",TA="@firebase/vertexai",IA="@firebase/firestore-compat",AA="firebase",SA="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]",RA={[Kd]:"fire-core",[ZI]:"fire-core-compat",[tA]:"fire-analytics",[eA]:"fire-analytics-compat",[rA]:"fire-app-check",[nA]:"fire-app-check-compat",[iA]:"fire-auth",[sA]:"fire-auth-compat",[oA]:"fire-rtdb",[aA]:"fire-data-connect",[lA]:"fire-rtdb-compat",[uA]:"fire-fn",[cA]:"fire-fn-compat",[hA]:"fire-iid",[dA]:"fire-iid-compat",[fA]:"fire-fcm",[pA]:"fire-fcm-compat",[mA]:"fire-perf",[gA]:"fire-perf-compat",[yA]:"fire-rc",[vA]:"fire-rc-compat",[_A]:"fire-gcs",[wA]:"fire-gcs-compat",[EA]:"fire-fst",[IA]:"fire-fst-compat",[TA]:"fire-vertex","fire-js":"fire-js",[AA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Map,CA=new Map,Qd=new Map;function uy(n,e){try{n.container.addComponent(e)}catch(t){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yo(n){const e=n.name;if(Qd.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Qd.set(e,n);for(const t of pc.values())uy(t,n);for(const t of CA.values())uy(t,n);return!0}function Nf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ci(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new vl("app","Firebase",PA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=SA;function Wv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:$d,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(t||(t=Bv()),!t)throw os.create("no-options");const l=pc.get(o);if(l){if(fc(t,l.options)&&fc(i,l.config))return l;throw os.create("duplicate-app",{appName:o})}const h=new VI(o);for(const p of Qd.values())h.addComponent(p);const d=new kA(t,i,h);return pc.set(o,d),d}function Gv(n=$d){const e=pc.get(n);if(!e&&n===$d&&Bv())return Wv();if(!e)throw os.create("no-app",{appName:n});return e}function as(n,e,t){var i;let o=(i=RA[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(d.join(" "));return}Yo(new $s(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="firebase-heartbeat-database",NA=1,ol="firebase-heartbeat-store";let Od=null;function Kv(){return Od||(Od=$I(xA,NA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ol)}catch(t){console.warn(t)}}}}).catch(n=>{throw os.create("idb-open",{originalErrorMessage:n.message})})),Od}async function DA(n){try{const t=(await Kv()).transaction(ol),i=await t.objectStore(ol).get($v(n));return await t.done,i}catch(e){if(e instanceof wi)mi.warn(e.message);else{const t=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mi.warn(t.message)}}}async function cy(n,e){try{const i=(await Kv()).transaction(ol,"readwrite");await i.objectStore(ol).put(e,$v(n)),await i.done}catch(t){if(t instanceof wi)mi.warn(t.message);else{const i=os.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});mi.warn(i.message)}}}function $v(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=1024,OA=30*24*60*60*1e3;class VA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=hy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=OA}),this._storage.overwrite(this._heartbeatsCache))}catch(i){mi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=hy(),{heartbeatsToSend:i,unsentEntries:o}=bA(this._heartbeatsCache.heartbeats),l=dc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return mi.warn(t),""}}}function hy(){return new Date().toISOString().substring(0,10)}function bA(n,e=LA){const t=[];let i=n.slice();for(const o of n){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),dy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),dy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class MA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return II()?AI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return cy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return cy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function dy(n){return dc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(n){Yo(new $s("platform-logger",e=>new XI(e),"PRIVATE")),Yo(new $s("heartbeat",e=>new VA(e),"PRIVATE")),as(Kd,ly,n),as(Kd,ly,"esm2017"),as("fire-js","")}UA("");var fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gs,Qv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function R(){}R.prototype=I.prototype,k.D=I.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(x,V,B){for(var P=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)P[ht-2]=arguments[ht];return I.prototype[V].apply(x,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,I,R){R||(R=0);var x=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)x[V]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(V=0;16>V;++V)x[V]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=k.g[0],R=k.g[1],V=k.g[2];var B=k.g[3],P=I+(B^R&(V^B))+x[0]+3614090360&4294967295;I=R+(P<<7&4294967295|P>>>25),P=B+(V^I&(R^V))+x[1]+3905402710&4294967295,B=I+(P<<12&4294967295|P>>>20),P=V+(R^B&(I^R))+x[2]+606105819&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(I^V&(B^I))+x[3]+3250441966&4294967295,R=V+(P<<22&4294967295|P>>>10),P=I+(B^R&(V^B))+x[4]+4118548399&4294967295,I=R+(P<<7&4294967295|P>>>25),P=B+(V^I&(R^V))+x[5]+1200080426&4294967295,B=I+(P<<12&4294967295|P>>>20),P=V+(R^B&(I^R))+x[6]+2821735955&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(I^V&(B^I))+x[7]+4249261313&4294967295,R=V+(P<<22&4294967295|P>>>10),P=I+(B^R&(V^B))+x[8]+1770035416&4294967295,I=R+(P<<7&4294967295|P>>>25),P=B+(V^I&(R^V))+x[9]+2336552879&4294967295,B=I+(P<<12&4294967295|P>>>20),P=V+(R^B&(I^R))+x[10]+4294925233&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(I^V&(B^I))+x[11]+2304563134&4294967295,R=V+(P<<22&4294967295|P>>>10),P=I+(B^R&(V^B))+x[12]+1804603682&4294967295,I=R+(P<<7&4294967295|P>>>25),P=B+(V^I&(R^V))+x[13]+4254626195&4294967295,B=I+(P<<12&4294967295|P>>>20),P=V+(R^B&(I^R))+x[14]+2792965006&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(I^V&(B^I))+x[15]+1236535329&4294967295,R=V+(P<<22&4294967295|P>>>10),P=I+(V^B&(R^V))+x[1]+4129170786&4294967295,I=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(I^R))+x[6]+3225465664&4294967295,B=I+(P<<9&4294967295|P>>>23),P=V+(I^R&(B^I))+x[11]+643717713&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^I&(V^B))+x[0]+3921069994&4294967295,R=V+(P<<20&4294967295|P>>>12),P=I+(V^B&(R^V))+x[5]+3593408605&4294967295,I=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(I^R))+x[10]+38016083&4294967295,B=I+(P<<9&4294967295|P>>>23),P=V+(I^R&(B^I))+x[15]+3634488961&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^I&(V^B))+x[4]+3889429448&4294967295,R=V+(P<<20&4294967295|P>>>12),P=I+(V^B&(R^V))+x[9]+568446438&4294967295,I=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(I^R))+x[14]+3275163606&4294967295,B=I+(P<<9&4294967295|P>>>23),P=V+(I^R&(B^I))+x[3]+4107603335&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^I&(V^B))+x[8]+1163531501&4294967295,R=V+(P<<20&4294967295|P>>>12),P=I+(V^B&(R^V))+x[13]+2850285829&4294967295,I=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(I^R))+x[2]+4243563512&4294967295,B=I+(P<<9&4294967295|P>>>23),P=V+(I^R&(B^I))+x[7]+1735328473&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^I&(V^B))+x[12]+2368359562&4294967295,R=V+(P<<20&4294967295|P>>>12),P=I+(R^V^B)+x[5]+4294588738&4294967295,I=R+(P<<4&4294967295|P>>>28),P=B+(I^R^V)+x[8]+2272392833&4294967295,B=I+(P<<11&4294967295|P>>>21),P=V+(B^I^R)+x[11]+1839030562&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^I)+x[14]+4259657740&4294967295,R=V+(P<<23&4294967295|P>>>9),P=I+(R^V^B)+x[1]+2763975236&4294967295,I=R+(P<<4&4294967295|P>>>28),P=B+(I^R^V)+x[4]+1272893353&4294967295,B=I+(P<<11&4294967295|P>>>21),P=V+(B^I^R)+x[7]+4139469664&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^I)+x[10]+3200236656&4294967295,R=V+(P<<23&4294967295|P>>>9),P=I+(R^V^B)+x[13]+681279174&4294967295,I=R+(P<<4&4294967295|P>>>28),P=B+(I^R^V)+x[0]+3936430074&4294967295,B=I+(P<<11&4294967295|P>>>21),P=V+(B^I^R)+x[3]+3572445317&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^I)+x[6]+76029189&4294967295,R=V+(P<<23&4294967295|P>>>9),P=I+(R^V^B)+x[9]+3654602809&4294967295,I=R+(P<<4&4294967295|P>>>28),P=B+(I^R^V)+x[12]+3873151461&4294967295,B=I+(P<<11&4294967295|P>>>21),P=V+(B^I^R)+x[15]+530742520&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^I)+x[2]+3299628645&4294967295,R=V+(P<<23&4294967295|P>>>9),P=I+(V^(R|~B))+x[0]+4096336452&4294967295,I=R+(P<<6&4294967295|P>>>26),P=B+(R^(I|~V))+x[7]+1126891415&4294967295,B=I+(P<<10&4294967295|P>>>22),P=V+(I^(B|~R))+x[14]+2878612391&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~I))+x[5]+4237533241&4294967295,R=V+(P<<21&4294967295|P>>>11),P=I+(V^(R|~B))+x[12]+1700485571&4294967295,I=R+(P<<6&4294967295|P>>>26),P=B+(R^(I|~V))+x[3]+2399980690&4294967295,B=I+(P<<10&4294967295|P>>>22),P=V+(I^(B|~R))+x[10]+4293915773&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~I))+x[1]+2240044497&4294967295,R=V+(P<<21&4294967295|P>>>11),P=I+(V^(R|~B))+x[8]+1873313359&4294967295,I=R+(P<<6&4294967295|P>>>26),P=B+(R^(I|~V))+x[15]+4264355552&4294967295,B=I+(P<<10&4294967295|P>>>22),P=V+(I^(B|~R))+x[6]+2734768916&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~I))+x[13]+1309151649&4294967295,R=V+(P<<21&4294967295|P>>>11),P=I+(V^(R|~B))+x[4]+4149444226&4294967295,I=R+(P<<6&4294967295|P>>>26),P=B+(R^(I|~V))+x[11]+3174756917&4294967295,B=I+(P<<10&4294967295|P>>>22),P=V+(I^(B|~R))+x[2]+718787259&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~I))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+B&4294967295}i.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var R=I-this.blockSize,x=this.B,V=this.h,B=0;B<I;){if(V==0)for(;B<=R;)o(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<I;)if(x[V++]=k.charCodeAt(B++),V==this.blockSize){o(this,x),V=0;break}}else for(;B<I;)if(x[V++]=k[B++],V==this.blockSize){o(this,x),V=0;break}}this.h=V,this.o+=I},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var R=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=R&255,R/=256;for(this.u(k),k=Array(16),I=R=0;4>I;++I)for(var x=0;32>x;x+=8)k[R++]=this.g[I]>>>x&255;return k};function l(k,I){var R=d;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=I(k)}function h(k,I){this.h=I;for(var R=[],x=!0,V=k.length-1;0<=V;V--){var B=k[V]|0;x&&B==I||(R[V]=B,x=!1)}this.g=R}var d={};function p(k){return-128<=k&&128>k?l(k,function(I){return new h([I|0],0>I?-1:0)}):new h([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return T;if(0>k)return M(y(-k));for(var I=[],R=1,x=0;k>=R;x++)I[x]=k/R|0,R*=4294967296;return new h(I,0)}function _(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return M(_(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(I,8)),x=T,V=0;V<k.length;V+=8){var B=Math.min(8,k.length-V),P=parseInt(k.substring(V,V+B),I);8>B?(B=y(Math.pow(I,B)),x=x.j(B).add(y(P))):(x=x.j(R),x=x.add(y(P)))}return x}var T=p(0),A=p(1),S=p(16777216);n=h.prototype,n.m=function(){if(O(this))return-M(this).m();for(var k=0,I=1,R=0;R<this.g.length;R++){var x=this.i(R);k+=(0<=x?x:4294967296+x)*I,I*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(L(this))return"0";if(O(this))return"-"+M(this).toString(k);for(var I=y(Math.pow(k,6)),R=this,x="";;){var V=oe(R,I).g;R=q(R,V.j(I));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=V,L(R))return B+x;for(;6>B.length;)B="0"+B;x=B+x}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function L(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function O(k){return k.h==-1}n.l=function(k){return k=q(this,k),O(k)?-1:L(k)?0:1};function M(k){for(var I=k.g.length,R=[],x=0;x<I;x++)R[x]=~k.g[x];return new h(R,~k.h).add(A)}n.abs=function(){return O(this)?M(this):this},n.add=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0,V=0;V<=I;V++){var B=x+(this.i(V)&65535)+(k.i(V)&65535),P=(B>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);x=P>>>16,B&=65535,P&=65535,R[V]=P<<16|B}return new h(R,R[R.length-1]&-2147483648?-1:0)};function q(k,I){return k.add(M(I))}n.j=function(k){if(L(this)||L(k))return T;if(O(this))return O(k)?M(this).j(M(k)):M(M(this).j(k));if(O(k))return M(this.j(M(k)));if(0>this.l(S)&&0>k.l(S))return y(this.m()*k.m());for(var I=this.g.length+k.g.length,R=[],x=0;x<2*I;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<k.g.length;V++){var B=this.i(x)>>>16,P=this.i(x)&65535,ht=k.i(V)>>>16,$e=k.i(V)&65535;R[2*x+2*V]+=P*$e,Y(R,2*x+2*V),R[2*x+2*V+1]+=B*$e,Y(R,2*x+2*V+1),R[2*x+2*V+1]+=P*ht,Y(R,2*x+2*V+1),R[2*x+2*V+2]+=B*ht,Y(R,2*x+2*V+2)}for(x=0;x<I;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=I;x<2*I;x++)R[x]=0;return new h(R,0)};function Y(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function ee(k,I){this.g=k,this.h=I}function oe(k,I){if(L(I))throw Error("division by zero");if(L(k))return new ee(T,T);if(O(k))return I=oe(M(k),I),new ee(M(I.g),M(I.h));if(O(I))return I=oe(k,M(I)),new ee(M(I.g),I.h);if(30<k.g.length){if(O(k)||O(I))throw Error("slowDivide_ only works with positive integers.");for(var R=A,x=I;0>=x.l(k);)R=F(R),x=F(x);var V=ce(R,1),B=ce(x,1);for(x=ce(x,2),R=ce(R,2);!L(x);){var P=B.add(x);0>=P.l(k)&&(V=V.add(R),B=P),x=ce(x,1),R=ce(R,1)}return I=q(k,V.j(I)),new ee(V,I)}for(V=T;0<=k.l(I);){for(R=Math.max(1,Math.floor(k.m()/I.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),B=y(R),P=B.j(I);O(P)||0<P.l(k);)R-=x,B=y(R),P=B.j(I);L(B)&&(B=A),V=V.add(B),k=q(k,P)}return new ee(V,k)}n.A=function(k){return oe(this,k).h},n.and=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)&k.i(x);return new h(R,this.h&k.h)},n.or=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)|k.i(x);return new h(R,this.h|k.h)},n.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)^k.i(x);return new h(R,this.h^k.h)};function F(k){for(var I=k.g.length+1,R=[],x=0;x<I;x++)R[x]=k.i(x)<<1|k.i(x-1)>>>31;return new h(R,k.h)}function ce(k,I){var R=I>>5;I%=32;for(var x=k.g.length-R,V=[],B=0;B<x;B++)V[B]=0<I?k.i(B+R)>>>I|k.i(B+R+1)<<32-I:k.i(B+R);return new h(V,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Qv=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,Gs=h}).apply(typeof fy<"u"?fy:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yv,Qa,Xv,Yu,Yd,Jv,Zv,e_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var z=u[E];if(!(z in v))break e;v=v[z]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,E=!1,z={next:function(){if(!E&&v<u.length){var Q=v++;return{value:m(Q,u[Q]),done:!1}}return E=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function T(u,m,v){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,E),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function A(u,m,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,A.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function L(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(E,z,Q){for(var ue=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)ue[ut-2]=arguments[ut];return m.prototype[z].apply(E,ue)}}function O(u){const m=u.length;if(0<m){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function M(u,m){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(p(E)){const z=u.length||0,Q=E.length||0;u.length=z+Q;for(let ue=0;ue<Q;ue++)u[z+ue]=E[ue]}else u.push(E)}}class q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(u){return/^[\s\xa0]*$/.test(u)}function ee(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function oe(u){return oe[" "](u),u}oe[" "]=function(){};var F=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function ce(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function k(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function I(u){const m={};for(const v in u)m[v]=u[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let v,E;for(let z=1;z<arguments.length;z++){E=arguments[z];for(v in E)u[v]=E[v];for(let Q=0;Q<R.length;Q++)v=R[Q],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function V(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function B(u){d.setTimeout(()=>{throw u},0)}function P(){var u=Te;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,v){const E=$e.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var $e=new q(()=>new Ct,u=>u.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Qe,ae=!1,Te=new ht,he=()=>{const u=d.Promise.resolve(void 0);Qe=()=>{u.then(U)}};var U=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(v){B(v)}var m=$e;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ae=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function Le(u,m){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(F){e:{try{oe(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Le.aa.h.call(this)}}L(Le,_e);var Be={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),et=0;function Ue(u,m,v,E,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=z,this.key=++et,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bn(u){this.src=u,this.g={},this.h=0}Bn.prototype.add=function(u,m,v,E,z){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var ue=nn(u,m,E,z);return-1<ue?(m=u[ue],v||(m.fa=!1)):(m=new Ue(m,this.src,Q,!!E,z),m.fa=v,u.push(m)),m};function Ei(u,m){var v=m.type;if(v in u.g){var E=u.g[v],z=Array.prototype.indexOf.call(E,m,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(E,z,1),Q&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function nn(u,m,v,E){for(var z=0;z<u.length;++z){var Q=u[z];if(!Q.da&&Q.listener==m&&Q.capture==!!v&&Q.ha==E)return z}return-1}var qr="closure_lm_"+(1e6*Math.random()|0),Ti={};function Ii(u,m,v,E,z){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Ii(u,m[Q],v,E,z);return null}return v=_n(v),u&&u[Ze]?u.K(m,v,y(E)?!!E.capture:!!E,z):ys(u,m,v,!1,E,z)}function ys(u,m,v,E,z,Q){if(!m)throw Error("Invalid event type");var ue=y(z)?!!z.capture:!!z,ut=Wr(u);if(ut||(u[qr]=ut=new Bn(u)),v=ut.add(m,v,E,ue,Q),v.proxy)return v;if(E=ro(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)be||(z=ue),z===void 0&&(z=!1),u.addEventListener(m.toString(),E,z);else if(u.attachEvent)u.attachEvent(qt(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ro(){function u(v){return m.call(u.src,u.listener,v)}const m=er;return u}function Ai(u,m,v,E,z){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)Ai(u,m[Q],v,E,z);else E=y(E)?!!E.capture:!!E,v=_n(v),u&&u[Ze]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],v=nn(Q,v,E,z),-1<v&&(ft(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Wr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=nn(m,v,E,z)),(v=-1<u?m[u]:null)&&Zn(v))}function Zn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ze])Ei(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(qt(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=Wr(m))?(Ei(v,u),v.h==0&&(v.src=null,m[qr]=null)):ft(u)}}}function qt(u){return u in Ti?Ti[u]:Ti[u]="on"+u}function er(u,m){if(u.da)u=!0;else{m=new Le(m,this);var v=u.listener,E=u.ha||u.src;u.fa&&Zn(u),u=v.call(E,m)}return u}function Wr(u){return u=u[qr],u instanceof Bn?u:null}var Ir="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(u){return typeof u=="function"?u:(u[Ir]||(u[Ir]=function(m){return u.handleEvent(m)}),u[Ir])}function lt(){X.call(this),this.i=new Bn(this),this.M=this,this.F=null}L(lt,X),lt.prototype[Ze]=!0,lt.prototype.removeEventListener=function(u,m,v,E){Ai(this,u,m,v,E)};function At(u,m){var v,E=u.F;if(E)for(v=[];E;E=E.F)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new _e(m,u);else if(m instanceof _e)m.target=m.target||u;else{var z=m;m=new _e(E,u),x(m,z)}if(z=!0,v)for(var Q=v.length-1;0<=Q;Q--){var ue=m.g=v[Q];z=Nn(ue,E,!0,m)&&z}if(ue=m.g=u,z=Nn(ue,E,!0,m)&&z,z=Nn(ue,E,!1,m)&&z,v)for(Q=0;Q<v.length;Q++)ue=m.g=v[Q],z=Nn(ue,E,!1,m)&&z}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],E=0;E<v.length;E++)ft(v[E]);delete u.g[m],u.h--}}this.F=null},lt.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},lt.prototype.L=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function Nn(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,Q=0;Q<m.length;++Q){var ue=m[Q];if(ue&&!ue.da&&ue.capture==v){var ut=ue.listener,Ot=ue.ha||ue.src;ue.fa&&Ei(u.i,ue),z=ut.call(Ot,E)!==!1&&z}}return z&&!E.defaultPrevented}function vs(u,m,v){if(typeof u=="function")v&&(u=A(u,v));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function Wt(u){u.g=vs(()=>{u.g=null,u.i&&(u.i=!1,Wt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ar extends X{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(u){X.call(this),this.h=u,this.g={}}L(Sr,X);var Si=[];function _s(u){ce(u.g,function(m,v){this.g.hasOwnProperty(v)&&Zn(m)},u),u.g={}}Sr.prototype.N=function(){Sr.aa.N.call(this),_s(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ri=d.JSON.stringify,Rr=d.JSON.parse,Ci=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tr(){}tr.prototype.h=null;function Pi(u){return u.h||(u.h=u.i())}function Gr(){}var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dn(){_e.call(this,"d")}L(Dn,_e);function nr(){_e.call(this,"c")}L(nr,_e);var pn={},ws=null;function Kr(){return ws=ws||new lt}pn.La="serverreachability";function D(u){_e.call(this,pn.La,u)}L(D,_e);function j(u){const m=Kr();At(m,new D(m))}pn.STAT_EVENT="statevent";function K(u,m){_e.call(this,pn.STAT_EVENT,u),this.stat=m}L(K,_e);function J(u){const m=Kr();At(m,new K(m,u))}pn.Ma="timingevent";function de(u,m){_e.call(this,pn.Ma,u),this.size=m}L(de,_e);function ge(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ce(){this.g=!0}Ce.prototype.xa=function(){this.g=!1};function fe(u,m,v,E,z,Q){u.info(function(){if(u.g)if(Q)for(var ue="",ut=Q.split("&"),Ot=0;Ot<ut.length;Ot++){var Xe=ut[Ot].split("=");if(1<Xe.length){var Ft=Xe[0];Xe=Xe[1];var xt=Ft.split("_");ue=2<=xt.length&&xt[1]=="type"?ue+(Ft+"="+Xe+"&"):ue+(Ft+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+E+") [attempt "+z+"]: "+m+`
`+v+`
`+ue})}function ve(u,m,v,E,z,Q,ue){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+z+"]: "+m+`
`+v+`
`+Q+" "+ue})}function le(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fe(u,v)+(E?" "+E:"")})}function xe(u,m){u.info(function(){return"TIMEOUT: "+m})}Ce.prototype.info=function(){};function Fe(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var E=v[u];if(!(2>E.length)){var z=E[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<z.length;ue++)z[ue]=""}}}}return Ri(v)}catch{return m}}var it={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},St={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qe;function tt(){}L(tt,tr),tt.prototype.g=function(){return new XMLHttpRequest},tt.prototype.i=function(){return{}},qe=new tt;function st(u,m,v,E){this.j=u,this.i=m,this.l=v,this.R=E||1,this.U=new Sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rr}function rr(){this.i=null,this.g="",this.h=!1}var ir={},rn={};function Gt(u,m,v){u.L=1,u.v=Di(Ln(m)),u.m=v,u.P=!0,$r(u,null)}function $r(u,m){u.F=Date.now(),ot(u),u.A=Ln(u.v);var v=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Oi(v.i,"t",E),u.C=0,v=u.j.J,u.h=new rr,u.g=Bl(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Ar(A(u.Y,u,u.g),u.O)),m=u.U,v=u.g,E=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Si[0]=z.toString()),z=Si);for(var Q=0;Q<z.length;Q++){var ue=Ii(v,z[Q],E||m.handleEvent,!1,m.h||m);if(!ue)break;m.g[ue.key]=ue}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),j(),fe(u.i,u.u,u.A,u.l,u.R,u.m)}st.prototype.ca=function(u){u=u.target;const m=this.M;m&&In(u)==3?m.j():this.Y(u)},st.prototype.Y=function(u){try{if(u==this.g)e:{const xt=In(this.g);var m=this.g.Ba();const Hn=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||ga(this.g)))){this.J||xt!=4||m==7||(m==8||0>=Hn?j(3):j(2)),Ye(this);var v=this.g.Z();this.X=v;t:if(Cr(this)){var E=ga(this.g);u="";var z=E.length,Q=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),pt(this);var ue="";break t}this.h.i=new d.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(Q&&m==z-1)});E.length=0,this.h.g+=u,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,ve(this.i,this.u,this.A,this.l,this.R,xt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,Ot=this.g;if((ut=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(ut)){var Xe=ut;break t}}Xe=null}if(v=Xe)le(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,or(this,v);else{this.o=!1,this.s=3,J(12),Kt(this),pt(this);break e}}if(this.P){v=!0;let Vn;for(;!this.J&&this.C<ue.length;)if(Vn=sr(this,ue),Vn==rn){xt==4&&(this.s=4,J(14),v=!1),le(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==ir){this.s=4,J(15),le(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else le(this.i,this.l,Vn,null),or(this,Vn);if(Cr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||ue.length!=0||this.h.h||(this.s=1,J(16),v=!1),this.o=this.o&&v,!v)le(this.i,this.l,ue,"[Invalid Chunked Response]"),Kt(this),pt(this);else if(0<ue.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),va(Ft),Ft.M=!0,J(11))}}else le(this.i,this.l,ue,null),or(this,ue);xt==4&&Kt(this),this.o&&!this.J&&(xt==4?go(this.j,this):(this.o=!1,ot(this)))}else co(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),Kt(this),pt(this)}}}catch{}finally{}};function Cr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function sr(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?rn:(v=Number(m.substring(v,E)),isNaN(v)?ir:(E+=1,E+v>m.length?rn:(m=m.slice(E,E+v),u.C=E+v,m)))}st.prototype.cancel=function(){this.J=!0,Kt(this)};function ot(u){u.S=Date.now()+u.I,Qr(u,u.I)}function Qr(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ge(A(u.ba,u),m)}function Ye(u){u.B&&(d.clearTimeout(u.B),u.B=null)}st.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(xe(this.i,this.A),this.L!=2&&(j(),J(17)),Kt(this),this.s=2,pt(this)):Qr(this,this.S-u)};function pt(u){u.j.G==0||u.J||go(u.j,u)}function Kt(u){Ye(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,_s(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function or(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||mn(v.h,u))){if(!u.K&&mn(v.h,u)&&v.G==3){try{var E=v.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var z=E;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)mo(v),hr(v);else break e;po(v),J(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=ge(A(v.Za,v),6e3));if(1>=io(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ei(v,11)}else if((u.K||v.g==u)&&mo(v),!Y(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let Xe=z[m];if(v.T=Xe[0],Xe=Xe[1],v.G==2)if(Xe[0]=="c"){v.K=Xe[1],v.ia=Xe[2];const Ft=Xe[3];Ft!=null&&(v.la=Ft,v.j.info("VER="+v.la));const xt=Xe[4];xt!=null&&(v.Aa=xt,v.j.info("SVER="+v.Aa));const Hn=Xe[5];Hn!=null&&typeof Hn=="number"&&0<Hn&&(E=1.5*Hn,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const Vn=u.g;if(Vn){const Rs=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var Q=E.h;Q.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(da(Q,Q.h),Q.h=null))}if(E.D){const vo=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(E.ya=vo,ct(E.I,E.D,vo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var ue=u;if(E.qa=jl(E,E.J?E.ia:null,E.W),ue.K){Pl(E.h,ue);var ut=ue,Ot=E.L;Ot&&(ut.I=Ot),ut.B&&(Ye(ut),ot(ut)),E.g=ue}else Ss(E);0<v.i.length&&Nr(v)}else Xe[0]!="stop"&&Xe[0]!="close"||ei(v,7);else v.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?ei(v,7):Qt(v):Xe[0]!="noop"&&v.l&&v.l.ta(Xe),v.v=0)}}j(4)}catch{}}var mt=class{constructor(u,m){this.g=u,this.map=m}};function En(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function io(u){return u.h?1:u.g?u.g.size:0}function mn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function da(u,m){u.g?u.g.add(m):u.h=m}function Pl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}En.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function kl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return O(u.i)}function so(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,E=0;E<v;E++)m.push(u[E]);return m}m=[],v=0;for(E in u)m[v++]=u[E];return m}function oo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const E in u)m[v++]=E;return m}}}function ki(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=oo(u),E=so(u),z=E.length,Q=0;Q<z;Q++)m.call(void 0,E[Q],v&&v[Q],u)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xc(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var E=u[v].indexOf("="),z=null;if(0<=E){var Q=u[v].substring(0,E);z=u[v].substring(E+1)}else Q=u[v];m(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Yr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Yr){this.h=u.h,Ts(this,u.j),this.o=u.o,this.g=u.g,xi(this,u.s),this.l=u.l;var m=u.i,v=new Pr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Ni(this,v),this.m=u.m}else u&&(m=String(u).match(Es))?(this.h=!1,Ts(this,m[1]||"",!0),this.o=We(m[2]||""),this.g=We(m[3]||"",!0),xi(this,m[4]),this.l=We(m[5]||"",!0),Ni(this,m[6]||"",!0),this.m=We(m[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}Yr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Li(m,ao,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Li(m,ao,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Li(v,v.charAt(0)=="/"?Dl:Nl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Li(v,fa)),u.join("")};function Ln(u){return new Yr(u)}function Ts(u,m,v){u.j=v?We(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function xi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ni(u,m,v){m instanceof Pr?(u.i=m,kr(u.i,u.h)):(v||(m=Li(m,Ll)),u.i=new Pr(m,u.h))}function ct(u,m,v){u.i.set(m,v)}function Di(u){return ct(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function We(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Li(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,xl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ao=/[#\/\?@]/g,Nl=/[#\?:]/g,Dl=/[#\?]/g,Ll=/[#\?@]/g,fa=/#/g;function Pr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function $t(u){u.g||(u.g=new Map,u.h=0,u.i&&Xc(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Pr.prototype,n.add=function(u,m){$t(this),this.i=null,u=zn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ar(u,m){$t(u),m=zn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function lr(u,m){return $t(u),m=zn(u,m),u.g.has(m)}n.forEach=function(u,m){$t(this),this.g.forEach(function(v,E){v.forEach(function(z){u.call(m,z,E,this)},this)},this)},n.na=function(){$t(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let E=0;E<m.length;E++){const z=u[E];for(let Q=0;Q<z.length;Q++)v.push(m[E])}return v},n.V=function(u){$t(this);let m=[];if(typeof u=="string")lr(this,u)&&(m=m.concat(this.g.get(zn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return $t(this),this.i=null,u=zn(this,u),lr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Oi(u,m,v){ar(u,m),0<v.length&&(u.i=null,u.g.set(zn(u,m),O(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var E=m[v];const Q=encodeURIComponent(String(E)),ue=this.V(E);for(E=0;E<ue.length;E++){var z=Q;ue[E]!==""&&(z+="="+encodeURIComponent(String(ue[E]))),u.push(z)}}return this.i=u.join("&")};function zn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function kr(u,m){m&&!u.j&&($t(u),u.i=null,u.g.forEach(function(v,E){var z=E.toLowerCase();E!=z&&(ar(this,E),Oi(this,z,v))},u)),u.j=m}function Jc(u,m){const v=new Ce;if(d.Image){const E=new Image;E.onload=S(Tn,v,"TestLoadImage: loaded",!0,m,E),E.onerror=S(Tn,v,"TestLoadImage: error",!1,m,E),E.onabort=S(Tn,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=S(Tn,v,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Ol(u,m){const v=new Ce,E=new AbortController,z=setTimeout(()=>{E.abort(),Tn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(Q=>{clearTimeout(z),Q.ok?Tn(v,"TestPingServer: ok",!0,m):Tn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Tn(v,"TestPingServer: error",!1,m)})}function Tn(u,m,v,E,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),E(v)}catch{}}function Zc(){this.g=new Ci}function Vl(u,m,v){const E=v||"";try{ki(u,function(z,Q){let ue=z;y(z)&&(ue=Ri(z)),m.push(E+Q+"="+encodeURIComponent(ue))})}catch(z){throw m.push(E+"type="+encodeURIComponent("_badmap")),z}}function Xr(u){this.l=u.Ub||null,this.j=u.eb||!1}L(Xr,tr),Xr.prototype.g=function(){return new Is(this.l,this.j)},Xr.prototype.i=function(u){return function(){return u}}({});function Is(u,m){lt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Is,lt),n=Is.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,cr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function bl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ur(this):cr(this),this.readyState==3&&bl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,ur(this))},n.Qa=function(u){this.g&&(this.response=u,ur(this))},n.ga=function(){this.g&&ur(this)};function ur(u){u.readyState=4,u.l=null,u.j=null,u.v=null,cr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function cr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jr(u){let m="";return ce(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function Vi(u,m,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=Jr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):ct(u,m,v))}function _t(u){lt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(_t,lt);var eh=/^https?$/i,pa=["POST","PUT"];n=_t.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qe.g(),this.v=this.o?Pi(this.o):Pi(qe),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){As(this,Q);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var z in E)v.set(z,E[z]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const Q of E.keys())v.set(Q,E.get(Q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(pa,m,void 0))||E||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of v)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uo(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){As(this,Q)}};function As(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,lo(u),On(u)}function lo(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,At(this,"complete"),At(this,"abort"),On(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),_t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ma(this):this.bb())},n.bb=function(){ma(this)};function ma(u){if(u.h&&typeof h<"u"&&(!u.v[1]||In(u)!=4||u.Z()!=2)){if(u.u&&In(u)==4)vs(u.Ea,0,u);else if(At(u,"readystatechange"),In(u)==4){u.h=!1;try{const ue=u.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var E;if(E=ue===0){var z=String(u.D).match(Es)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),E=!eh.test(z?z.toLowerCase():"")}v=E}if(v)At(u,"complete"),At(u,"success");else{u.m=6;try{var Q=2<In(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",lo(u)}}finally{On(u)}}}}function On(u,m){if(u.g){uo(u);const v=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||At(u,"ready");try{v.onreadystatechange=E}catch{}}}function uo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function In(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rr(m)}};function ga(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function co(u){const m={};u=(u.g&&2<=In(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(Y(u[E]))continue;var v=V(u[E]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=m[z]||[];m[z]=Q,Q.push(v)}k(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ya(u){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xr("baseRetryDelayMs",5e3,u),this.cb=xr("retryDelaySeedMs",1e4,u),this.Wa=xr("forwardChannelMaxRetries",2,u),this.wa=xr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new En(u&&u.concurrentRequestLimit),this.Da=new Zc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ya.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,E){J(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=jl(this,null,this.W),Nr(this)};function Qt(u){if(ho(u),u.G==3){var m=u.U++,v=Ln(u.I);if(ct(v,"SID",u.K),ct(v,"RID",m),ct(v,"TYPE","terminate"),Zr(u,v),m=new st(u,u.j,m),m.L=2,m.v=Di(Ln(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=Bl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ot(m)}Fl(u)}function hr(u){u.g&&(va(u),u.g.cancel(),u.g=null)}function ho(u){hr(u),u.u&&(d.clearTimeout(u.u),u.u=null),mo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Nr(u){if(!sn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Qe||he(),ae||(Qe(),ae=!0),Te.add(m,u),u.B=0}}function th(u,m){return io(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ge(A(u.Ga,u,m),Ul(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new st(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=I(Q),x(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=bi(this,z,m),v=Ln(this.I),ct(v,"RID",u),ct(v,"CVER",22),this.D&&ct(v,"X-HTTP-Session-Id",this.D),Zr(this,v),Q&&(this.O?m="headers="+encodeURIComponent(String(Jr(Q)))+"&"+m:this.m&&Vi(v,this.m,Q)),da(this.h,z),this.Ua&&ct(v,"TYPE","init"),this.P?(ct(v,"$req",m),ct(v,"SID","null"),z.T=!0,Gt(z,v,null)):Gt(z,v,m),this.G=2}}else this.G==3&&(u?fo(this,u):this.i.length==0||sn(this.h)||fo(this))};function fo(u,m){var v;m?v=m.l:v=u.U++;const E=Ln(u.I);ct(E,"SID",u.K),ct(E,"RID",v),ct(E,"AID",u.T),Zr(u,E),u.m&&u.o&&Vi(E,u.m,u.o),v=new st(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=bi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),da(u.h,v),Gt(v,E,m)}function Zr(u,m){u.H&&ce(u.H,function(v,E){ct(m,E,v)}),u.l&&ki({},function(v,E){ct(m,E,v)})}function bi(u,m,v){v=Math.min(u.i.length,v);var E=u.l?A(u.l.Na,u.l,u):null;e:{var z=u.i;let Q=-1;for(;;){const ue=["count="+v];Q==-1?0<v?(Q=z[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let ut=!0;for(let Ot=0;Ot<v;Ot++){let Xe=z[Ot].g;const Ft=z[Ot].map;if(Xe-=Q,0>Xe)Q=Math.max(0,z[Ot].g-100),ut=!1;else try{Vl(Ft,ue,"req"+Xe+"_")}catch{E&&E(Ft)}}if(ut){E=ue.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,E}function Ss(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Qe||he(),ae||(Qe(),ae=!0),Te.add(m,u),u.v=0}}function po(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ge(A(u.Fa,u),Ul(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Ml(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ge(A(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),hr(this),Ml(this))};function va(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Ml(u){u.g=new st(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Ln(u.qa);ct(m,"RID","rpc"),ct(m,"SID",u.K),ct(m,"AID",u.T),ct(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ct(m,"TO",u.ja),ct(m,"TYPE","xmlhttp"),Zr(u,m),u.m&&u.o&&Vi(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Di(Ln(m)),v.m=null,v.P=!0,$r(v,u)}n.Za=function(){this.C!=null&&(this.C=null,hr(this),po(this),J(19))};function mo(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function go(u,m){var v=null;if(u.g==m){mo(u),va(u),u.g=null;var E=2}else if(mn(u.h,m))v=m.D,Pl(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;E=Kr(),At(E,new de(E,v)),Nr(u)}else Ss(u);else if(z=m.s,z==3||z==0&&0<m.X||!(E==1&&th(u,m)||E==2&&po(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),z){case 1:ei(u,5);break;case 4:ei(u,10);break;case 3:ei(u,6);break;default:ei(u,2)}}}function Ul(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function ei(u,m){if(u.j.info("Error code "+m),m==2){var v=A(u.fb,u),E=u.Xa;const z=!E;E=new Yr(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ts(E,"https"),Di(E),z?Jc(E.toString(),v):Ol(E.toString(),v)}else J(2);u.G=0,u.l&&u.l.sa(m),Fl(u),ho(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function Fl(u){if(u.G=0,u.ka=[],u.l){const m=kl(u.h);(m.length!=0||u.i.length!=0)&&(M(u.ka,m),M(u.ka,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.ra()}}function jl(u,m,v){var E=v instanceof Yr?Ln(v):new Yr(v);if(E.g!="")m&&(E.g=m+"."+E.g),xi(E,E.s);else{var z=d.location;E=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var Q=new Yr(null);E&&Ts(Q,E),m&&(Q.g=m),z&&xi(Q,z),v&&(Q.l=v),E=Q}return v=u.D,m=u.ya,v&&m&&ct(E,v,m),ct(E,"VER",u.la),Zr(u,E),E}function Bl(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new _t(new Xr({eb:v})):new _t(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _a(){}n=_a.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function yo(){}yo.prototype.g=function(u,m){return new gn(u,m)};function gn(u,m){lt.call(this),this.g=new ya(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Y(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Y(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Dr(this)}L(gn,lt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Ri(u),u=v);m.i.push(new mt(m.Ya++,u)),m.G==3&&Nr(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)};function zl(u){Dn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}L(zl,Dn);function Hl(){nr.call(this),this.status=1}L(Hl,nr);function Dr(u){this.g=u}L(Dr,_a),Dr.prototype.ua=function(){At(this.g,"a")},Dr.prototype.ta=function(u){At(this.g,new zl(u))},Dr.prototype.sa=function(u){At(this.g,new Hl)},Dr.prototype.ra=function(){At(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,e_=function(){return new yo},Zv=function(){return Kr()},Jv=pn,Yd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},it.NO_ERROR=0,it.TIMEOUT=8,it.HTTP_ERROR=6,Yu=it,St.COMPLETE="complete",Xv=St,Gr.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Qa=Gr,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,Yv=_t}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});const py="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new kf("@firebase/firestore");function jo(){return Qs.logLevel}function me(n,...e){if(Qs.logLevel<=ze.DEBUG){const t=e.map(Df);Qs.debug(`Firestore (${oa}): ${n}`,...t)}}function gi(n,...e){if(Qs.logLevel<=ze.ERROR){const t=e.map(Df);Qs.error(`Firestore (${oa}): ${n}`,...t)}}function Xo(n,...e){if(Qs.logLevel<=ze.WARN){const t=e.map(Df);Qs.warn(`Firestore (${oa}): ${n}`,...t)}}function Df(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n="Unexpected state"){const e=`FIRESTORE (${oa}) INTERNAL ASSERTION FAILED: `+n;throw gi(e),new Error(e)}function at(n,e){n||De()}function Me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends wi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class jA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class BA{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ls,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ls)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at(typeof i.accessToken=="string"),new t_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new hn(e)}}class zA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class HA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new zA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){at(this.o===void 0);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at(typeof t.token=="string"),this.R=t.token,new qA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=GA(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Ge(n,e){return n<e?-1:n>e?1:0}function Jo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Mt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Mt(0,0))}static max(){return new Ve(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(),i===void 0?i=e.length-t:i>e.length-t&&De(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return al.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof al?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vt extends al{construct(e,t,i){return new vt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ie(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const KA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends al{construct(e,t,i){return new Zt(e,t,i)}static isValidIdentifier(e){return KA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new Ie(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Ie(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ie(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(i+=d,o++):(l(),o++)}if(l(),h)throw new Ie(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(vt.fromString(e))}static fromName(e){return new Re(vt.fromString(e).popFirst(5))}static empty(){return new Re(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new vt(e.slice()))}}function $A(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(i===1e9?new Mt(t+1,0):new Mt(t,i));return new hs(o,Re.empty(),e)}function QA(n){return new hs(n.readTime,n.key,-1)}class hs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new hs(Ve.min(),Re.empty(),-1)}static max(){return new hs(Ve.max(),Re.empty(),-1)}}function YA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==XA)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,i)=>{t(e)})}static reject(e){return new Z((t,i)=>{i(e)})}static waitFor(e){return new Z((t,i)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},p=>i(p))}),h=!0,l===o&&t()})}static or(e){let t=Z.resolve(!1);for(const i of e)t=t.next(o=>o?Z.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new Z((i,o)=>{const l=e.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{h[y]=_,++d,d===l&&i(h)},_=>o(_))}})}static doWhile(e,t){return new Z((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function ZA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function la(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Oc.oe=-1;function Vc(n){return n==null}function mc(n){return n===0&&1/n==-1/0}function eS(n){return typeof n=="number"&&Number.isInteger(n)&&!mc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=my(e)),e=nS(n.get(t),e);return my(e)}function nS(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function my(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function r_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new It(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Jt.RED,this.left=o??Jt.EMPTY,this.right=l??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Jt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yy(this.data.getIterator())}getIteratorFrom(e){return new yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new _r([])}unionWith(e){let t=new Ut(Zt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new _r(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new i_("Invalid base64 string: "+l):l}}(e);return new tn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const rS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(n){if(at(!!n),typeof n=="string"){let e=0;const t=rS.exec(n);if(at(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:kt(n.seconds),nanos:kt(n.nanos)}}function kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fs(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function bc(n){const e=n.mapValue.fields.__previous_value__;return Lf(e)?bc(e):e}function ll(n){const e=ds(n.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t,i,o,l,h,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}class ul{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ul("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ps(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Lf(n)?4:oS(n)?9007199254740991:sS(n)?10:11:De()}function Br(n,e){if(n===e)return!0;const t=ps(n);if(t!==ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ll(n).isEqual(ll(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=ds(o.timestampValue),d=ds(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return fs(o.bytesValue).isEqual(fs(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return kt(o.geoPointValue.latitude)===kt(l.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return kt(o.integerValue)===kt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=kt(o.doubleValue),d=kt(l.doubleValue);return h===d?mc(h)===mc(d):isNaN(h)&&isNaN(d)}return!1}(n,e);case 9:return Jo(n.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(gy(h)!==gy(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Br(h[p],d[p])))return!1;return!0}(n,e);default:return De()}}function cl(n,e){return(n.values||[]).find(t=>Br(t,e))!==void 0}function Zo(n,e){if(n===e)return 0;const t=ps(n),i=ps(e);if(t!==i)return Ge(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(l,h){const d=kt(l.integerValue||l.doubleValue),p=kt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return vy(n.timestampValue,e.timestampValue);case 4:return vy(ll(n),ll(e));case 5:return Ge(n.stringValue,e.stringValue);case 6:return function(l,h){const d=fs(l),p=fs(h);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=Ge(d[y],p[y]);if(_!==0)return _}return Ge(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,h){const d=Ge(kt(l.latitude),kt(h.latitude));return d!==0?d:Ge(kt(l.longitude),kt(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return _y(n.arrayValue,e.arrayValue);case 10:return function(l,h){var d,p,y,_;const T=l.fields||{},A=h.fields||{},S=(d=T.value)===null||d===void 0?void 0:d.arrayValue,L=(p=A.value)===null||p===void 0?void 0:p.arrayValue,O=Ge(((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0,((_=L==null?void 0:L.values)===null||_===void 0?void 0:_.length)||0);return O!==0?O:_y(S,L)}(n.mapValue,e.mapValue);case 11:return function(l,h){if(l===Bu.mapValue&&h===Bu.mapValue)return 0;if(l===Bu.mapValue)return 1;if(h===Bu.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),y=h.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const A=Ge(p[T],_[T]);if(A!==0)return A;const S=Zo(d[p[T]],y[_[T]]);if(S!==0)return S}return Ge(p.length,_.length)}(n.mapValue,e.mapValue);default:throw De()}}function vy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=ds(n),i=ds(e),o=Ge(t.seconds,i.seconds);return o!==0?o:Ge(t.nanos,i.nanos)}function _y(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Zo(t[o],i[o]);if(l)return l}return Ge(t.length,i.length)}function ea(n){return Xd(n)}function Xd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ds(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return fs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Xd(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${Xd(t.fields[h])}`;return o+"}"}(n.mapValue):De()}function Xu(n){switch(ps(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bc(n);return e?16+Xu(e):16;case 5:return 2*n.stringValue.length;case 6:return fs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Xu(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Zs(i.fields,(l,h)=>{o+=l.length+Xu(h)}),o}(n.mapValue);default:throw De()}}function wy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Jd(n){return!!n&&"integerValue"in n}function Of(n){return!!n&&"arrayValue"in n}function Ey(n){return!!n&&"nullValue"in n}function Ty(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ju(n){return!!n&&"mapValue"in n}function sS(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ja(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ja(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ja(n.arrayValue.values[t]);return e}return Object.assign({},n)}function oS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ju(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ja(t)}setAll(e){let t=Zt.emptyPath(),i={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}h?i[d.lastSegment()]=Ja(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Ju(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Ju(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Zs(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Xn(Ja(this.value))}}function s_(n){const e=[];return Zs(n.fields,(t,i)=>{const o=new Zt([t]);if(Ju(i)){const l=s_(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new _r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,i,o,l,h,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,Ve.min(),Ve.min(),Ve.min(),Xn.empty(),0)}static newFoundDocument(e,t,i,o){return new dn(e,1,t,Ve.min(),i,o,0)}static newNoDocument(e,t){return new dn(e,2,t,Ve.min(),Ve.min(),Xn.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Ve.min(),Ve.min(),Xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t){this.position=e,this.inclusive=t}}function Iy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(l.field.isKeyField()?i=Re.comparator(Re.fromName(h.referenceValue),t.key):i=Zo(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ay(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Br(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t="asc"){this.field=e,this.dir=t}}function aS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{}class Lt extends o_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new uS(e,t,i):t==="array-contains"?new dS(e,i):t==="in"?new fS(e,i):t==="not-in"?new pS(e,i):t==="array-contains-any"?new mS(e,i):new Lt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new cS(e,i):new hS(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Zo(t,this.value)):t!==null&&ps(this.value)===ps(t)&&this.matchesComparison(Zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends o_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Tr(e,t)}matches(e){return a_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function a_(n){return n.op==="and"}function l_(n){return lS(n)&&a_(n)}function lS(n){for(const e of n.filters)if(e instanceof Tr)return!1;return!0}function Zd(n){if(n instanceof Lt)return n.field.canonicalString()+n.op.toString()+ea(n.value);if(l_(n))return n.filters.map(e=>Zd(e)).join(",");{const e=n.filters.map(t=>Zd(t)).join(",");return`${n.op}(${e})`}}function u_(n,e){return n instanceof Lt?function(i,o){return o instanceof Lt&&i.op===o.op&&i.field.isEqual(o.field)&&Br(i.value,o.value)}(n,e):n instanceof Tr?function(i,o){return o instanceof Tr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,h,d)=>l&&u_(h,o.filters[d]),!0):!1}(n,e):void De()}function c_(n){return n instanceof Lt?function(t){return`${t.field.canonicalString()} ${t.op} ${ea(t.value)}`}(n):n instanceof Tr?function(t){return t.op.toString()+" {"+t.getFilters().map(c_).join(" ,")+"}"}(n):"Filter"}class uS extends Lt{constructor(e,t,i){super(e,t,i),this.key=Re.fromName(i.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class cS extends Lt{constructor(e,t){super(e,"in",t),this.keys=h_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hS extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=h_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function h_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Re.fromName(i.referenceValue))}class dS extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Of(t)&&cl(t.arrayValue,this.value)}}class fS extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&cl(this.value.arrayValue,t)}}class pS extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!cl(this.value.arrayValue,t)}}class mS extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Of(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>cl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t=null,i=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.ue=null}}function Sy(n,e=null,t=[],i=[],o=null,l=null,h=null){return new gS(n,e,t,i,o,l,h)}function Vf(n){const e=Me(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Zd(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Vc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ea(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ea(i)).join(",")),e.ue=t}return e.ue}function bf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!aS(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!u_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ay(n.startAt,e.startAt)&&Ay(n.endAt,e.endAt)}function ef(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,t=null,i=[],o=[],l=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yS(n,e,t,i,o,l,h,d){return new wl(n,e,t,i,o,l,h,d)}function d_(n){return new wl(n)}function Ry(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function f_(n){return n.collectionGroup!==null}function Za(n){const e=Me(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ut(Zt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new yc(l,i))}),t.has(Zt.keyField().canonicalString())||e.ce.push(new yc(Zt.keyField(),i))}return e.ce}function Ur(n){const e=Me(n);return e.le||(e.le=vS(e,Za(n))),e.le}function vS(n,e){if(n.limitType==="F")return Sy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new yc(o.field,l)});const t=n.endAt?new gc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new gc(n.startAt.position,n.startAt.inclusive):null;return Sy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function tf(n,e){const t=n.filters.concat([e]);return new wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nf(n,e,t){return new wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mc(n,e){return bf(Ur(n),Ur(e))&&n.limitType===e.limitType}function p_(n){return`${Vf(Ur(n))}|lt:${n.limitType}`}function Bo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>c_(o)).join(", ")}]`),Vc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>ea(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>ea(o)).join(",")),`Target(${i})`}(Ur(n))}; limitType=${n.limitType})`}function Uc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Re.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of Za(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(h,d,p){const y=Iy(h,d,p);return h.inclusive?y<=0:y<0}(i.startAt,Za(i),o)||i.endAt&&!function(h,d,p){const y=Iy(h,d,p);return h.inclusive?y>=0:y>0}(i.endAt,Za(i),o))}(n,e)}function _S(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function m_(n){return(e,t)=>{let i=!1;for(const o of Za(n)){const l=wS(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function wS(n,e,t){const i=n.field.isKeyField()?Re.comparator(e.key,t.key):function(l,h,d){const p=h.data.field(l),y=d.data.field(l);return p!==null&&y!==null?Zo(p,y):De()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return r_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=new It(Re.comparator);function yi(){return ES}const g_=new It(Re.comparator);function Ya(...n){let e=g_;for(const t of n)e=e.insert(t.key,t);return e}function y_(n){let e=g_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function zs(){return el()}function v_(){return el()}function el(){return new eo(n=>n.toString(),(n,e)=>n.isEqual(e))}const TS=new It(Re.comparator),IS=new Ut(Re.comparator);function He(...n){let e=IS;for(const t of n)e=e.add(t);return e}const AS=new Ut(Ge);function SS(){return AS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function __(n){return{integerValue:""+n}}function RS(n,e){return eS(e)?__(e):Mf(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this._=void 0}}function CS(n,e,t){return n instanceof hl?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Lf(l)&&(l=bc(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):n instanceof dl?E_(n,e):n instanceof fl?T_(n,e):function(o,l){const h=w_(o,l),d=Cy(h)+Cy(o.Pe);return Jd(h)&&Jd(o.Pe)?__(d):Mf(o.serializer,d)}(n,e)}function PS(n,e,t){return n instanceof dl?E_(n,e):n instanceof fl?T_(n,e):t}function w_(n,e){return n instanceof vc?function(i){return Jd(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class hl extends Fc{}class dl extends Fc{constructor(e){super(),this.elements=e}}function E_(n,e){const t=I_(e);for(const i of n.elements)t.some(o=>Br(o,i))||t.push(i);return{arrayValue:{values:t}}}class fl extends Fc{constructor(e){super(),this.elements=e}}function T_(n,e){let t=I_(e);for(const i of n.elements)t=t.filter(o=>!Br(o,i));return{arrayValue:{values:t}}}class vc extends Fc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Cy(n){return kt(n.integerValue||n.doubleValue)}function I_(n){return Of(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t){this.field=e,this.transform=t}}function xS(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof dl&&o instanceof dl||i instanceof fl&&o instanceof fl?Jo(i.elements,o.elements,Br):i instanceof vc&&o instanceof vc?Br(i.Pe,o.Pe):i instanceof hl&&o instanceof hl}(n.transform,e.transform)}class NS{constructor(e,t){this.version=e,this.transformResults=t}}class pi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zu(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class jc{}function A_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new R_(n.key,pi.none()):new El(n.key,n.data,pi.none());{const t=n.data,i=Xn.empty();let o=new Ut(Zt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new to(n.key,i,new _r(o.toArray()),pi.none())}}function DS(n,e,t){n instanceof El?function(o,l,h){const d=o.value.clone(),p=ky(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,e,t):n instanceof to?function(o,l,h){if(!Zu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=ky(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(S_(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function tl(n,e,t,i){return n instanceof El?function(l,h,d,p){if(!Zu(l.precondition,h))return d;const y=l.value.clone(),_=xy(l.fieldTransforms,p,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof to?function(l,h,d,p){if(!Zu(l.precondition,h))return d;const y=xy(l.fieldTransforms,p,h),_=h.data;return _.setAll(S_(l)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,h,d){return Zu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,e,t)}function LS(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=w_(i.transform,o||null);l!=null&&(t===null&&(t=Xn.empty()),t.set(i.field,l))}return t||null}function Py(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Jo(i,o,(l,h)=>xS(l,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class El extends jc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class to extends jc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function S_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function ky(n,e,t){const i=new Map;at(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,d=e.data.field(l.field);i.set(l.field,PS(h,d,t[o]))}return i}function xy(n,e,t){const i=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);i.set(o.field,CS(l,h,e))}return i}class R_ extends jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OS extends jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&DS(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=tl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=tl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=v_();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const p=A_(h,d);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ve.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),He())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(t,i)=>Py(t,i))&&Jo(this.baseMutations,e.baseMutations,(t,i)=>Py(t,i))}}class Uf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){at(e.mutations.length===i.length);let o=function(){return TS}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new Uf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Je;function US(n){switch(n){default:return De();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function C_(n){if(n===void 0)return gi("GRPC error has no .code"),te.UNKNOWN;switch(n){case Dt.OK:return te.OK;case Dt.CANCELLED:return te.CANCELLED;case Dt.UNKNOWN:return te.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return te.INTERNAL;case Dt.UNAVAILABLE:return te.UNAVAILABLE;case Dt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Dt.NOT_FOUND:return te.NOT_FOUND;case Dt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Dt.ABORTED:return te.ABORTED;case Dt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Dt.DATA_LOSS:return te.DATA_LOSS;default:return De()}}(Je=Dt||(Dt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=new Gs([4294967295,4294967295],0);function Ny(n){const e=FS().encode(n),t=new Qv;return t.update(e),new Uint8Array(t.digest())}function Dy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gs([t,i],0),new Gs([o,l],0)]}class Ff{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Xa(`Invalid padding: ${t}`);if(i<0)throw new Xa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Xa(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Xa(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Gs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Gs.fromNumber(i)));return o.compare(jS)===1&&(o=new Gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Ny(e),[i,o]=Dy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);if(!this.de(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Ff(l,o,t);return i.forEach(d=>h.insert(d)),h}insert(e){if(this.Te===0)return;const t=Ny(e),[i,o]=Dy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Tl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Bc(Ve.min(),o,new It(Ge),yi(),He())}}class Tl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Tl(i,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class P_{constructor(e,t){this.targetId=e,this.me=t}}class k_{constructor(e,t,i=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Ly{constructor(){this.fe=0,this.ge=Oy(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=He(),t=He(),i=He();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:De()}}),new Tl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Oy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,at(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class BS{constructor(e){this.Le=e,this.Be=new Map,this.ke=yi(),this.qe=zu(),this.Qe=zu(),this.Ke=new It(Ge)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:De()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(ef(l))if(i===0){const h=new Re(l.path);this.We(t,h,dn.newNoDocument(h,Ve.min()))}else at(i===1);else{const h=this.Ze(t);if(h!==i){const d=this.Xe(e),p=d?this.et(d,e,h):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=fs(i).toUint8Array()}catch(p){if(p instanceof i_)return Xo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Ff(h,o,l)}catch(p){return Xo(p instanceof Xa?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const h=this.Le.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,h)=>{const d=this.Ye(h);if(d){if(l.current&&ef(d.target)){const p=new Re(d.target.path);this.st(p).has(h)||this.ot(h,p)||this.We(h,p,dn.newNoDocument(p,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let i=He();this.Qe.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const o=new Bc(e,t,this.Ke,this.ke,i);return this.ke=yi(),this.qe=zu(),this.Qe=zu(),this.Ke=new It(Ge),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Ly,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Ut(Ge),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ut(Ge),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Ly),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function zu(){return new It(Re.comparator)}function Oy(){return new It(Re.comparator)}const zS={asc:"ASCENDING",desc:"DESCENDING"},HS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qS={and:"AND",or:"OR"};class WS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rf(n,e){return n.useProto3Json||Vc(e)?e:{value:e}}function _c(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function GS(n,e){return _c(n,e.toTimestamp())}function Fr(n){return at(!!n),Ve.fromTimestamp(function(t){const i=ds(t);return new Mt(i.seconds,i.nanos)}(n))}function jf(n,e){return sf(n,e).canonicalString()}function sf(n,e){const t=function(o){return new vt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function N_(n){const e=vt.fromString(n);return at(b_(e)),e}function of(n,e){return jf(n.databaseId,e.path)}function Vd(n,e){const t=N_(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(L_(t))}function D_(n,e){return jf(n.databaseId,e)}function KS(n){const e=N_(n);return e.length===4?vt.emptyPath():L_(e)}function af(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function L_(n){return at(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Vy(n,e,t){return{name:of(n,e),fields:t.value.mapValue.fields}}function $S(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(at(_===void 0||typeof _=="string"),tn.fromBase64String(_||"")):(at(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),tn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(y){const _=y.code===void 0?te.UNKNOWN:C_(y.code);return new Ie(_,y.message||"")}(h);t=new k_(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Vd(n,i.document.name),l=Fr(i.document.updateTime),h=i.document.createTime?Fr(i.document.createTime):Ve.min(),d=new Xn({mapValue:{fields:i.document.fields}}),p=dn.newFoundDocument(o,l,h,d),y=i.targetIds||[],_=i.removedTargetIds||[];t=new ec(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Vd(n,i.document),l=i.readTime?Fr(i.readTime):Ve.min(),h=dn.newNoDocument(o,l),d=i.removedTargetIds||[];t=new ec([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Vd(n,i.document),l=i.removedTargetIds||[];t=new ec([],l,o,null)}else{if(!("filter"in e))return De();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new MS(o,l),d=i.targetId;t=new P_(d,h)}}return t}function QS(n,e){let t;if(e instanceof El)t={update:Vy(n,e.key,e.value)};else if(e instanceof R_)t={delete:of(n,e.key)};else if(e instanceof to)t={update:Vy(n,e.key,e.data),updateMask:i1(e.fieldMask)};else{if(!(e instanceof OS))return De();t={verify:of(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,h){const d=h.transform;if(d instanceof hl)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof dl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof fl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof vc)return{fieldPath:h.field.canonicalString(),increment:d.Pe};throw De()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:GS(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:De()}(n,e.precondition)),t}function YS(n,e){return n&&n.length>0?(at(e!==void 0),n.map(t=>function(o,l){let h=o.updateTime?Fr(o.updateTime):Fr(l);return h.isEqual(Ve.min())&&(h=Fr(l)),new NS(h,o.transformResults||[])}(t,e))):[]}function XS(n,e){return{documents:[D_(n,e.path)]}}function JS(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=D_(n,o);const l=function(y){if(y.length!==0)return V_(Tr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(_=>function(A){return{field:zo(A.field),direction:t1(A.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=rf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function ZS(n){let e=KS(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){at(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const A=O_(T);return A instanceof Tr&&l_(A)?A.getFilters():[A]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(A=>function(L){return new yc(Ho(L.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(A))}(t.orderBy));let d=null;t.limit&&(d=function(T){let A;return A=typeof T=="object"?T.value:T,Vc(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(T){const A=!!T.before,S=T.values||[];return new gc(S,A)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const A=!T.before,S=T.values||[];return new gc(S,A)}(t.endAt)),yS(e,o,h,l,d,"F",p,y)}function e1(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function O_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ho(t.unaryFilter.field);return Lt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Ho(t.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ho(t.unaryFilter.field);return Lt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ho(t.unaryFilter.field);return Lt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(n):n.fieldFilter!==void 0?function(t){return Lt.create(Ho(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Tr.create(t.compositeFilter.filters.map(i=>O_(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De()}}(t.compositeFilter.op))}(n):De()}function t1(n){return zS[n]}function n1(n){return HS[n]}function r1(n){return qS[n]}function zo(n){return{fieldPath:n.canonicalString()}}function Ho(n){return Zt.fromServerFormat(n.fieldPath)}function V_(n){return n instanceof Lt?function(t){if(t.op==="=="){if(Ty(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NAN"}};if(Ey(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ty(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NOT_NAN"}};if(Ey(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(t.field),op:n1(t.op),value:t.value}}}(n):n instanceof Tr?function(t){const i=t.getFilters().map(o=>V_(o));return i.length===1?i[0]:{compositeFilter:{op:r1(t.op),filters:i}}}(n):De()}function i1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function b_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,t,i,o,l=Ve.min(),h=Ve.min(),d=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.ht=e}}function o1(n){const e=ZS({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.ln=new l1}addToCollectionParentIndex(e,t){return this.ln.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(hs.min())}updateCollectionGroup(e,t,i){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class l1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Ut(vt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ut(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(41943040,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ta(0)}static Qn(){return new ta(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My([n,e],[t,i]){const o=Ge(n,t);return o===0?Ge(e,i):o}class u1{constructor(e){this.Gn=e,this.buffer=new Ut(My),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();My(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class c1{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){la(t)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await aa(t)}await this.Yn(3e5)})}}class h1{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Oc.oe);const i=new u1(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(by)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),by):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,h,d,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),jo()<=ze.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function d1(n,e){return new h1(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.changes=new eo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Z.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&tl(i.mutation,o,_r.empty(),Mt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,He()).next(()=>i))}getLocalViewOfDocuments(e,t,i=He()){const o=zs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let h=Ya();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=zs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,He()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,i,o){let l=yi();const h=el(),d=function(){return el()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof to)?l=l.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),tl(_.mutation,y,_.mutation.getFieldMask(),Mt.now())):h.set(y.key,_r.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>h.set(y,_)),t.forEach((y,_)=>{var T;return d.set(y,new p1(_,(T=h.get(y))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=el();let o=new It((h,d)=>h-d),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||_r.empty();_=d.applyToLocalView(y,_),i.set(p,_);const T=(o.get(d.batchId)||He()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,T=v_();_.forEach(A=>{if(!l.has(A)){const S=A_(t.get(A),i.get(A));S!==null&&T.set(A,S),l=l.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return Z.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return Re.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):f_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Z.resolve(zs());let d=-1,p=l;return h.next(y=>Z.forEach(y,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?Z.resolve():this.remoteDocumentCache.getEntry(e,_).next(A=>{p=p.insert(_,A)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,He())).next(_=>({batchId:d,changes:y_(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(i=>{let o=Ya();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=Ya();return this.indexManager.getCollectionParents(e,l).next(d=>Z.forEach(d,p=>{const y=function(T,A){return new wl(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((T,A)=>{h=h.insert(T,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(h=>{l.forEach((p,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,dn.newInvalidDocument(_)))});let d=Ya();return h.forEach((p,y)=>{const _=l.get(p);_!==void 0&&tl(_.mutation,y,_r.empty(),Mt.now()),Uc(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Z.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Fr(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:o1(o.bundledQuery),readTime:Fr(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.overlays=new It(Re.comparator),this.Er=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const i=zs();return Z.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),Z.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),Z.resolve()}getOverlaysForCollection(e,t,i){const o=zs(),l=t.length+1,h=new Re(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new It((y,_)=>y-_);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=zs(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=zs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return Z.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new bS(t,i));let l=this.Er.get(t);l===void 0&&(l=He(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this.dr=new Ut(Ht.Ar),this.Rr=new Ut(Ht.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Ht(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Ht(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Re(new vt([])),i=new Ht(t,e),o=new Ht(t,e+1),l=[];return this.Rr.forEachInRange([i,o],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Re(new vt([])),i=new Ht(t,e),o=new Ht(t,e+1);let l=He();return this.Rr.forEachInRange([i,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Ht(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ht{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Re.comparator(e.key,t.key)||Ge(e.br,t.br)}static Vr(e,t){return Ge(e.br,t.br)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Ut(Ht.Ar)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new VS(l,t,i,o);this.mutationQueue.push(h);for(const d of o)this.vr=this.vr.add(new Ht(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,t){return Z.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return Z.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],h=>{const d=this.Cr(h.br);l.push(d)}),Z.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ut(Ge);return t.forEach(o=>{const l=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],d=>{i=i.add(d.br)})}),Z.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Re.isDocumentKey(l)||(l=l.child(""));const h=new Ht(new Re(l),0);let d=new Ut(Ge);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.br)),!0)},h),Z.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){at(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return Z.forEach(t.mutations,o=>{const l=new Ht(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Ht(t,0),o=this.vr.firstAfterOrEqual(i);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.Nr=e,this.docs=function(){return new It(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Z.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let i=yi();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():dn.newInvalidDocument(o))}),Z.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=yi();const h=t.path,d=new Re(h.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||YA(QA(_),i)<=0||(o.has(_.key)||Uc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return Z.resolve(l)}getAllFromCollectionGroup(e,t,i,o){De()}Lr(e,t){return Z.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new E1(this)}getSize(e){return Z.resolve(this.size)}}class E1 extends f1{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),Z.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.persistence=e,this.Br=new eo(t=>Vf(t),bf),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.kr=0,this.qr=new Bf,this.targetCount=0,this.Qr=ta.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),Z.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ta(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Un(t),Z.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((h,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Z.waitFor(l).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return Z.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),Z.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Z.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return Z.resolve(i)}containsKey(e,t){return Z.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Oc(0),this.Ur=!1,this.Ur=!0,this.Wr=new v1,this.referenceDelegate=e(this),this.Gr=new T1(this),this.indexManager=new a1,this.remoteDocumentCache=function(o){return new w1(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new s1(t),this.jr=new g1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new y1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new _1(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const o=new I1(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return Z.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class I1 extends JA{constructor(e){super(),this.currentSequenceNumber=e}}class zf{constructor(e){this.persistence=e,this.Zr=new Bf,this.Xr=null}static ei(e){return new zf(e)}get ti(){if(this.Xr)return this.Xr;throw De()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),Z.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ti,i=>{const o=Re.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ve.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Z.or([()=>Z.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class wc{constructor(e,t){this.persistence=e,this.ri=new eo(i=>tS(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=d1(this,t)}static ei(e,t){return new wc(e,t)}Hr(){}Jr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return Z.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?Z.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(d=>{d||(i++,l.removeEntry(h,Ve.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xu(e.data.value)),t}ir(e,t,i){return Z.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Z.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=He(),o=He();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Hf(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return TI()?8:ZA(fn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new A1;return this.ts(e,t,h).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,h,d.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(jo()<=ze.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Z.resolve()):(jo()<=ze.DEBUG&&me("QueryEngine","Query:",Bo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(jo()<=ze.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(t))):Z.resolve())}Xi(e,t){if(Ry(t))return Z.resolve(null);let i=Ur(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=nf(t,null,"F"),i=Ur(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const h=He(...l);return this.Zi.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,d);return this.ss(t,y,h,p.readTime)?this.Xi(e,nf(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return Ry(t)||o.isEqual(Ve.min())?Z.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const h=this.rs(t,l);return this.ss(t,h,i,o)?Z.resolve(null):(jo()<=ze.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Bo(t)),this.os(e,h,t,$A(o,-1)).next(d=>d))})}rs(e,t){let i=new Ut(m_(e));return t.forEach((o,l)=>{Uc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return jo()<=ze.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.Zi.getDocumentsMatchingQuery(e,t,hs.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new It(Ge),this.cs=new eo(l=>Vf(l),bf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m1(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function C1(n,e,t,i){return new R1(n,e,t,i)}async function U_(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const h=[],d=[];let p=He();for(const y of o){h.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:d}))})})}function P1(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,y,_){const T=y.batch,A=T.keys();let S=Z.resolve();return A.forEach(L=>{S=S.next(()=>_.getEntry(p,L)).next(O=>{const M=y.docVersions.get(L);at(M!==null),O.version.compareTo(M)<0&&(T.applyToRemoteDocument(O,y),O.isValidDocument()&&(O.setReadTime(y.commitVersion),_.addEntry(O)))})}),S.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=He();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function F_(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function k1(n,e){const t=Me(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((_,T)=>{const A=o.get(T);if(!A)return;d.push(t.Gr.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(l,_.addedDocuments,T)));let S=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?S=S.withResumeToken(tn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,i)),o=o.insert(T,S),function(O,M,q){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(A,S,_)&&d.push(t.Gr.updateTargetData(l,S))});let p=yi(),y=He();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(x1(l,h,e.documentUpdates).next(_=>{p=_.Is,y=_.Es})),!i.isEqual(Ve.min())){const _=t.Gr.getLastRemoteSnapshotVersion(l).next(T=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return Z.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function x1(n,e,t){let i=He(),o=He();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let h=yi();return t.forEach((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ve.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):me("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Is:h,Es:o}})}function N1(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function D1(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,Z.resolve(o)):t.Gr.allocateTargetId(i).next(h=>(o=new is(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function lf(n,e,t){const i=Me(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!la(h))throw h;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Uy(n,e,t){const i=Me(n);let o=Ve.min(),l=He();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,_){const T=Me(p),A=T.cs.get(_);return A!==void 0?Z.resolve(T.us.get(A)):T.Gr.getTargetData(y,_)}(i,h,Ur(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(h,e,t?o:Ve.min(),t?l:He())).next(d=>(L1(i,_S(e),d),{documents:d,ds:l})))}function L1(n,e,t){let i=n.ls.get(e)||Ve.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class Fy{constructor(){this.activeTargetIds=SS()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O1{constructor(){this._o=new Fy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Fy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function bd(){return Hu===null?Hu=function(){return 268435456+Math.round(2147483648*Math.random())}():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class U1 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,h){const d=bd(),p=this.No(t,i.toUriEncodedString());me("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,h),this.Bo(t,p,y,o).then(_=>(me("RestConnection",`Received RPC '${t}' ${d}: `,_),_),_=>{throw Xo("RestConnection",`RPC '${t}' ${d} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,l,h,d){return this.Oo(t,i,o,l,h)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),o&&o.headers.forEach((l,h)=>t[h]=l)}No(t,i){const o=b1[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=bd();return new Promise((h,d)=>{const p=new Yv;p.setWithCredentials(!0),p.listenOnce(Xv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Yu.NO_ERROR:const _=p.getResponseJson();me(cn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),h(_);break;case Yu.TIMEOUT:me(cn,`RPC '${e}' ${l} timed out`),d(new Ie(te.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const T=p.getStatus();if(me(cn,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const S=A==null?void 0:A.error;if(S&&S.status&&S.message){const L=function(M){const q=M.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(q)>=0?q:te.UNKNOWN}(S.status);d(new Ie(L,S.message))}else d(new Ie(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Ie(te.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{me(cn,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);me(cn,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=bd(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=e_(),d=Zv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");me(cn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=h.createWebChannel(_,p);let A=!1,S=!1;const L=new M1({Eo:M=>{S?me(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(A||(me(cn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),me(cn,`RPC '${e}' stream ${o} sending:`,M),T.send(M))},Ao:()=>T.close()}),O=(M,q,Y)=>{M.listen(q,ee=>{try{Y(ee)}catch(oe){setTimeout(()=>{throw oe},0)}})};return O(T,Qa.EventType.OPEN,()=>{S||(me(cn,`RPC '${e}' stream ${o} transport opened.`),L.So())}),O(T,Qa.EventType.CLOSE,()=>{S||(S=!0,me(cn,`RPC '${e}' stream ${o} transport closed`),L.Do())}),O(T,Qa.EventType.ERROR,M=>{S||(S=!0,Xo(cn,`RPC '${e}' stream ${o} transport errored:`,M),L.Do(new Ie(te.UNAVAILABLE,"The operation could not be completed")))}),O(T,Qa.EventType.MESSAGE,M=>{var q;if(!S){const Y=M.data[0];at(!!Y);const ee=Y,oe=(ee==null?void 0:ee.error)||((q=ee[0])===null||q===void 0?void 0:q.error);if(oe){me(cn,`RPC '${e}' stream ${o} received error:`,oe);const F=oe.status;let ce=function(R){const x=Dt[R];if(x!==void 0)return C_(x)}(F),k=oe.message;ce===void 0&&(ce=te.INTERNAL,k="Unknown error status: "+F+" with message "+oe.message),S=!0,L.Do(new Ie(ce,k)),T.close()}else me(cn,`RPC '${e}' stream ${o} received:`,Y),L.vo(Y)}}),O(d,Jv.STAT_EVENT,M=>{M.stat===Yd.PROXY?me(cn,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===Yd.NOPROXY&&me(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.bo()},0),L}}function Md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){return new WS(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,t,i,o,l,h,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new j_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(gi(t.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new Ie(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F1 extends B_{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=$S(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ve.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ve.min():h.readTime?Fr(h.readTime):Ve.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=af(this.serializer),t.addTarget=function(l,h){let d;const p=h.target;if(d=ef(p)?{documents:XS(l,p)}:{query:JS(l,p).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=x_(l,h.resumeToken);const y=rf(l,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ve.min())>0){d.readTime=_c(l,h.snapshotVersion.toTimestamp());const y=rf(l,h.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=e1(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=af(this.serializer),t.removeTarget=e,this.c_(t)}}class j1 extends B_{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=YS(e.writeResults,e.commitTime),i=Fr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=af(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>QS(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1 extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Ie(te.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,sf(t,i),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ie(te.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.ko(e,sf(t,i),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ie(te.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class z1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(gi(t),this.C_=!1):me("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{i.enqueueAndForget(async()=>{no(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Me(p);y.k_.add(4),await Il(y),y.K_.set("Unknown"),y.k_.delete(4),await Hc(y)}(this))})}),this.K_=new z1(i,o)}}async function Hc(n){if(no(n))for(const e of n.q_)await e(!0)}async function Il(n){for(const e of n.q_)await e(!1)}function z_(n,e){const t=Me(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Kf(t)?Gf(t):ua(t).s_()&&Wf(t,e))}function qf(n,e){const t=Me(n),i=ua(t);t.B_.delete(e),i.s_()&&H_(t,e),t.B_.size===0&&(i.s_()?i.a_():no(t)&&t.K_.set("Unknown"))}function Wf(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ua(n).V_(e)}function H_(n,e){n.U_.xe(e),ua(n).m_(e)}function Gf(n){n.U_=new BS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ua(n).start(),n.K_.F_()}function Kf(n){return no(n)&&!ua(n).i_()&&n.B_.size>0}function no(n){return Me(n).k_.size===0}function q_(n){n.U_=void 0}async function q1(n){n.K_.set("Online")}async function W1(n){n.B_.forEach((e,t)=>{Wf(n,e)})}async function G1(n,e){q_(n),Kf(n)?(n.K_.O_(e),Gf(n)):n.K_.set("Unknown")}async function K1(n,e,t){if(n.K_.set("Online"),e instanceof k_&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ec(n,i)}else if(e instanceof ec?n.U_.$e(e):e instanceof P_?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ve.min()))try{const i=await F_(n.localStore);t.compareTo(i)>=0&&await function(l,h){const d=l.U_.it(h);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.B_.get(y);_&&l.B_.set(y,_.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,y)=>{const _=l.B_.get(p);if(!_)return;l.B_.set(p,_.withResumeToken(tn.EMPTY_BYTE_STRING,_.snapshotVersion)),H_(l,p);const T=new is(_.target,p,y,_.sequenceNumber);Wf(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){me("RemoteStore","Failed to raise snapshot:",i),await Ec(n,i)}}async function Ec(n,e,t){if(!la(e))throw e;n.k_.add(1),await Il(n),n.K_.set("Offline"),t||(t=()=>F_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Hc(n)})}function W_(n,e){return e().catch(t=>Ec(n,t,e))}async function qc(n){const e=Me(n),t=ms(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;$1(e);)try{const o=await N1(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,Q1(e,o)}catch(o){await Ec(e,o)}G_(e)&&K_(e)}function $1(n){return no(n)&&n.L_.length<10}function Q1(n,e){n.L_.push(e);const t=ms(n);t.s_()&&t.f_&&t.g_(e.mutations)}function G_(n){return no(n)&&!ms(n).i_()&&n.L_.length>0}function K_(n){ms(n).start()}async function Y1(n){ms(n).w_()}async function X1(n){const e=ms(n);for(const t of n.L_)e.g_(t.mutations)}async function J1(n,e,t){const i=n.L_.shift(),o=Uf.from(i,e,t);await W_(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await qc(n)}async function Z1(n,e){e&&ms(n).f_&&await async function(i,o){if(function(h){return US(h)&&h!==te.ABORTED}(o.code)){const l=i.L_.shift();ms(i).__(),await W_(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await qc(i)}}(n,e),G_(n)&&K_(n)}async function By(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const i=no(t);t.k_.add(3),await Il(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Hc(t)}async function eR(n,e){const t=Me(n);e?(t.k_.delete(2),await Hc(t)):e||(t.k_.add(2),await Il(t),t.K_.set("Unknown"))}function ua(n){return n.W_||(n.W_=function(t,i,o){const l=Me(t);return l.b_(),new F1(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:q1.bind(null,n),mo:W1.bind(null,n),po:G1.bind(null,n),R_:K1.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Kf(n)?Gf(n):n.K_.set("Unknown")):(await n.W_.stop(),q_(n))})),n.W_}function ms(n){return n.G_||(n.G_=function(t,i,o){const l=Me(t);return l.b_(),new j1(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Y1.bind(null,n),po:Z1.bind(null,n),p_:X1.bind(null,n),y_:J1.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await qc(n)):(await n.G_.stop(),n.L_.length>0&&(me("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,d=new $f(e,t,h,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qf(n,e){if(gi("AsyncQueue",`${e}: ${n}`),la(n))return new Ie(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Re.comparator(t.key,i.key):(t,i)=>Re.comparator(t.key,i.key),this.keyedMap=Ya(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Wo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this.z_=new It(Re.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):De():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class na{constructor(e,t,i,o,l,h,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new na(e,t,Wo.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class nR{constructor(){this.queries=Hy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Me(t),l=o.queries;o.queries=Hy(),l.forEach((h,d)=>{for(const p of d.J_)p.onError(i)})})(this,new Ie(te.ABORTED,"Firestore shutting down"))}}function Hy(){return new eo(n=>p_(n),Mc)}async function rR(n,e){const t=Me(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new tR,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Qf(h,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Yf(t)}async function iR(n,e){const t=Me(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function sR(n,e){const t=Me(n);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.J_)d.ta(o)&&(i=!0);h.H_=o}}i&&Yf(t)}function oR(n,e,t){const i=Me(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Yf(n){n.X_.forEach(e=>{e.next()})}var uf,qy;(qy=uf||(uf={})).na="default",qy.Cache="cache";class aR{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new na(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==uf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e){this.key=e}}class Q_{constructor(e){this.key=e}}class lR{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=He(),this.mutatedKeys=He(),this.Va=m_(e),this.ma=new Wo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new zy,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const A=o.get(_),S=Uc(this.query,T)?T:null,L=!!A&&this.mutatedKeys.has(A.key),O=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;A&&S?A.data.isEqual(S.data)?L!==O&&(i.track({type:3,doc:S}),M=!0):this.ya(A,S)||(i.track({type:2,doc:S}),M=!0,(p&&this.Va(S,p)>0||y&&this.Va(S,y)<0)&&(d=!0)):!A&&S?(i.track({type:0,doc:S}),M=!0):A&&!S&&(i.track({type:1,doc:A}),M=!0,(p||y)&&(d=!0)),M&&(S?(h=h.add(S),l=O?l.add(_):l.delete(_)):(h=h.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{ma:h,pa:i,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((_,T)=>function(S,L){const O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return O(S)-O(L)}(_.type,T.type)||this.Va(_.doc,T.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,h.length!==0||y?{snapshot:new na(this.query,e.ma,l,h,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new zy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=He(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new Q_(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new $_(i))}),t}va(e){this.da=e.ds,this.Ra=He();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return na.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class uR{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class cR{constructor(e){this.key=e,this.Fa=!1}}class hR{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new eo(d=>p_(d),Mc),this.Oa=new Map,this.Na=new Set,this.La=new It(Re.comparator),this.Ba=new Map,this.ka=new Bf,this.qa={},this.Qa=new Map,this.Ka=ta.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function dR(n,e,t=!0){const i=t0(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await Y_(i,e,t,!0),o}async function fR(n,e){const t=t0(n);await Y_(t,e,!0,!1)}async function Y_(n,e,t,i){const o=await D1(n.localStore,Ur(e)),l=o.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await pR(n,e,l,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&z_(n.remoteStore,o),d}async function pR(n,e,t,i,o){n.Ua=(T,A,S)=>async function(O,M,q,Y){let ee=M.view.ga(q);ee.ss&&(ee=await Uy(O.localStore,M.query,!1).then(({documents:k})=>M.view.ga(k,ee)));const oe=Y&&Y.targetChanges.get(M.targetId),F=Y&&Y.targetMismatches.get(M.targetId)!=null,ce=M.view.applyChanges(ee,O.isPrimaryClient,oe,F);return Gy(O,M.targetId,ce.ba),ce.snapshot}(n,T,A,S);const l=await Uy(n.localStore,e,!0),h=new lR(e,l.ds),d=h.ga(l.documents),p=Tl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=h.applyChanges(d,n.isPrimaryClient,p);Gy(n,t,y.ba);const _=new uR(e,t,h);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function mR(n,e,t){const i=Me(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(h=>!Mc(h,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await lf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&qf(i.remoteStore,o.targetId),cf(i,o.targetId)}).catch(aa)):(cf(i,o.targetId),await lf(i.localStore,o.targetId,!0))}async function gR(n,e){const t=Me(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),qf(t.remoteStore,i.targetId))}async function yR(n,e,t){const i=AR(n);try{const o=await function(h,d){const p=Me(h),y=Mt.now(),_=d.reduce((S,L)=>S.add(L.key),He());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let L=yi(),O=He();return p.hs.getEntries(S,_).next(M=>{L=M,L.forEach((q,Y)=>{Y.isValidDocument()||(O=O.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,L)).next(M=>{T=M;const q=[];for(const Y of d){const ee=LS(Y,T.get(Y.key).overlayedDocument);ee!=null&&q.push(new to(Y.key,ee,s_(ee.value.mapValue),pi.exists(!0)))}return p.mutationQueue.addMutationBatch(S,y,q,d)}).next(M=>{A=M;const q=M.applyToLocalDocumentSet(T,O);return p.documentOverlayCache.saveOverlays(S,M.batchId,q)})}).then(()=>({batchId:A.batchId,changes:y_(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let y=h.qa[h.currentUser.toKey()];y||(y=new It(Ge)),y=y.insert(d,p),h.qa[h.currentUser.toKey()]=y}(i,o.batchId,t),await Al(i,o.changes),await qc(i.remoteStore)}catch(o){const l=Qf(o,"Failed to persist write");t.reject(l)}}async function X_(n,e){const t=Me(n);try{const i=await k1(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ba.get(l);h&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?at(h.Fa):o.removedDocuments.size>0&&(at(h.Fa),h.Fa=!1))}),await Al(t,i,e)}catch(i){await aa(i)}}function Wy(n,e,t){const i=Me(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,h)=>{const d=h.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Me(h);p.onlineState=d;let y=!1;p.queries.forEach((_,T)=>{for(const A of T.J_)A.ea(d)&&(y=!0)}),y&&Yf(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function vR(n,e,t){const i=Me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let h=new It(Re.comparator);h=h.insert(l,dn.newNoDocument(l,Ve.min()));const d=He().add(l),p=new Bc(Ve.min(),new Map,new It(Ge),h,d);await X_(i,p),i.La=i.La.remove(l),i.Ba.delete(e),Xf(i)}else await lf(i.localStore,e,!1).then(()=>cf(i,e,t)).catch(aa)}async function _R(n,e){const t=Me(n),i=e.batch.batchId;try{const o=await P1(t.localStore,e);Z_(t,i,null),J_(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Al(t,o)}catch(o){await aa(o)}}async function wR(n,e,t){const i=Me(n);try{const o=await function(h,d){const p=Me(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,d).next(T=>(at(T!==null),_=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);Z_(i,e,t),J_(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Al(i,o)}catch(o){await aa(o)}}function J_(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function Z_(n,e,t){const i=Me(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function cf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||e0(n,i)})}function e0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(qf(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Xf(n))}function Gy(n,e,t){for(const i of t)i instanceof $_?(n.ka.addReference(i.key,e),ER(n,i)):i instanceof Q_?(me("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||e0(n,i.key)):De()}function ER(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(me("SyncEngine","New document in limbo: "+t),n.Na.add(i),Xf(n))}function Xf(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Re(vt.fromString(e)),i=n.Ka.next();n.Ba.set(i,new cR(t)),n.La=n.La.insert(t,i),z_(n.remoteStore,new is(Ur(d_(t.path)),i,"TargetPurposeLimboResolution",Oc.oe))}}async function Al(n,e,t){const i=Me(n),o=[],l=[],h=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{h.push(i.Ua(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Hf.zi(p.targetId,y);l.push(T)}}))}),await Promise.all(h),i.Ma.R_(o),await async function(p,y){const _=Me(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Z.forEach(y,A=>Z.forEach(A.Wi,S=>_.persistence.referenceDelegate.addReference(T,A.targetId,S)).next(()=>Z.forEach(A.Gi,S=>_.persistence.referenceDelegate.removeReference(T,A.targetId,S)))))}catch(T){if(!la(T))throw T;me("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const A=T.targetId;if(!T.fromCache){const S=_.us.get(A),L=S.snapshotVersion,O=S.withLastLimboFreeSnapshotVersion(L);_.us=_.us.insert(A,O)}}}(i.localStore,l))}async function TR(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const i=await U_(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(d=>{d.forEach(p=>{p.reject(new Ie(te.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Al(t,i.Ts)}}function IR(n,e){const t=Me(n),i=t.Ba.get(e);if(i&&i.Fa)return He().add(i.key);{let o=He();const l=t.Oa.get(e);if(!l)return o;for(const h of l){const d=t.xa.get(h);o=o.unionWith(d.view.fa)}return o}}function t0(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=X_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vR.bind(null,e),e.Ma.R_=sR.bind(null,e.eventManager),e.Ma.Wa=oR.bind(null,e.eventManager),e}function AR(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_R.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wR.bind(null,e),e}class Tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return C1(this.persistence,new S1,e.initialUser,this.serializer)}ja(e){return new M_(zf.ei,this.serializer)}za(e){return new O1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tc.provider={build:()=>new Tc};class SR extends Tc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){at(this.persistence.referenceDelegate instanceof wc);const i=this.persistence.referenceDelegate.garbageCollector;return new c1(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new M_(i=>wc.ei(i,t),this.serializer)}}class hf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Wy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=TR.bind(null,this.syncEngine),await eR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nR}()}createDatastore(e){const t=zc(e.databaseInfo.databaseId),i=function(l){return new U1(l)}(e.databaseInfo);return function(l,h,d,p){return new B1(l,h,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,h,d){return new H1(i,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Wy(this.syncEngine,t,0),function(){return jy.p()?new jy:new V1}())}createSyncEngine(e,t){return function(o,l,h,d,p,y,_){const T=new hR(o,l,h,d,p,y);return _&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Me(o);me("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Il(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}hf.provider={build:()=>new hf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=n_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async h=>{me("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(me("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Qf(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ud(n,e){n.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await U_(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Ky(n,e){n.asyncQueue.verifyOperationInProgress();const t=await PR(n);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>By(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>By(e.remoteStore,o)),n._onlineComponents=e}async function PR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ud(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Xo("Error using user provided cache. Falling back to memory cache: "+t),await Ud(n,new Tc)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await Ud(n,new SR(void 0));return n._offlineComponents}async function n0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await Ky(n,n._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await Ky(n,new hf))),n._onlineComponents}function kR(n){return n0(n).then(e=>e.syncEngine)}async function xR(n){const e=await n0(n),t=e.eventManager;return t.onListen=dR.bind(null,e.syncEngine),t.onUnlisten=mR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=fR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gR.bind(null,e.syncEngine),t}function NR(n,e,t={}){const i=new ls;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,y){const _=new RR({next:A=>{_.eu(),h.enqueueAndForget(()=>iR(l,T)),A.fromCache&&p.source==="server"?y.reject(new Ie(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new aR(d,_,{includeMetadataChanges:!0,ua:!0});return rR(l,T)}(await xR(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(n,e,t){if(!t)throw new Ie(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DR(n,e,t,i){if(e===!0&&i===!0)throw new Ie(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Qy(n){if(!Re.isDocumentKey(n))throw new Ie(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Yy(n){if(Re.isDocumentKey(n))throw new Ie(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Wc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De()}function Ic(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wc(n);throw new Ie(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ie(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ie(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ie(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ie(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new FA;switch(i.type){case"firstParty":return new HA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ie(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=$y.get(t);i&&(me("ComponentProvider","Removing Datastore"),$y.delete(t),i.terminate())}(this),Promise.resolve()}}function LR(n,e,t,i={}){var o;const l=(n=Ic(n,Gc))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=hn.MOCK_USER;else{d=mI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Ie(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new hn(y)}n._authCredentials=new jA(new t_(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ca(this.firestore,e,this._query)}}class Jn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class us extends ca{constructor(e,t,i){super(e,t,d_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new Re(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function Hs(n,e,...t){if(n=jn(n),i0("collection","path",e),n instanceof Gc){const i=vt.fromString(e,...t);return Yy(i),new us(n,null,i)}{if(!(n instanceof Jn||n instanceof us))throw new Ie(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return Yy(i),new us(n.firestore,null,i)}}function df(n,e,...t){if(n=jn(n),arguments.length===1&&(e=n_.newId()),i0("doc","path",e),n instanceof Gc){const i=vt.fromString(e,...t);return Qy(i),new Jn(n,null,new Re(i))}{if(!(n instanceof Jn||n instanceof us))throw new Ie(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return Qy(i),new Jn(n.firestore,n instanceof us?n.converter:null,new Re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new j_(this,"async_queue_retry"),this.fu=()=>{const i=Md();i&&me("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Md();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Md();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new ls;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!la(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(i);throw gi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=$f.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&De()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Jf extends Gc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Jy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jy(e),this._firestoreClient=void 0,await e}}}function OR(n,e){const t=typeof n=="object"?n:Gv(),i=typeof n=="string"?n:"(default)",o=Nf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=fI("firestore");l&&LR(o,...l)}return o}function s0(n){if(n._terminated)throw new Ie(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||VR(n),n._firestoreClient}function VR(n){var e,t,i;const o=n._freezeSettings(),l=function(d,p,y,_){return new iS(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,r0(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new CR(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ra(tn.fromBase64String(e))}catch(t){throw new Ie(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ra(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ie(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=/^__.*__$/;class MR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,t,this.fieldTransforms):new El(e,this.data,t,this.fieldTransforms)}}function o0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class rp{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new rp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ac(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(o0(this.Mu)&&bR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class UR{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||zc(e)}$u(e,t,i,o=!1){return new rp({Mu:e,methodName:t,Ku:i,path:Zt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a0(n){const e=n._freezeSettings(),t=zc(n._databaseId);return new UR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FR(n,e,t,i,o,l={}){const h=n.$u(l.merge||l.mergeFields?2:0,e,t,o);c0("Data must be an object, but it was:",h,i);const d=l0(i,h);let p,y;if(l.merge)p=new _r(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const A=BR(e,T,t);if(!h.contains(A))throw new Ie(te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);HR(_,A)||_.push(A)}p=new _r(_),y=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=h.fieldTransforms;return new MR(new Xn(d),p,y)}class ip extends ep{_toFieldTransform(e){return new kS(e.path,new hl)}isEqual(e){return e instanceof ip}}function jR(n,e,t,i=!1){return sp(t,n.$u(i?4:3,e))}function sp(n,e){if(u0(n=jn(n)))return c0("Unsupported field value:",e,n),l0(n,e);if(n instanceof ep)return function(i,o){if(!o0(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let h=0;for(const d of i){let p=sp(d,o.ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=jn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return RS(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Mt.fromDate(i);return{timestampValue:_c(o.serializer,l)}}if(i instanceof Mt){const l=new Mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_c(o.serializer,l)}}if(i instanceof tp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ra)return{bytesValue:x_(o.serializer,i._byteString)};if(i instanceof Jn){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:jf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof np)return function(h,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return Mf(d.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Wc(i)}`)}(n,e)}function l0(n,e){const t={};return r_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(n,(i,o)=>{const l=sp(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function u0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Mt||n instanceof tp||n instanceof ra||n instanceof Jn||n instanceof ep||n instanceof np)}function c0(n,e,t){if(!u0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Wc(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function BR(n,e,t){if((e=jn(e))instanceof Zf)return e._internalPath;if(typeof e=="string")return h0(n,e);throw Ac("Field path arguments must be of type string or ",n,!1,void 0,t)}const zR=new RegExp("[~\\*/\\[\\]]");function h0(n,e,t){if(e.search(zR)>=0)throw Ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zf(...e.split("."))._internalPath}catch{throw Ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ac(n,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new Ie(te.INVALID_ARGUMENT,d+n+p)}function HR(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(op("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class qR extends d0{data(){return super.data()}}function op(n,e){return typeof e=="string"?h0(n,e):e instanceof Zf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ie(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ap{}class GR extends ap{}function nl(n,e,...t){let i=[];e instanceof ap&&i.push(e),i=i.concat(t),function(l){const h=l.filter(p=>p instanceof lp).length,d=l.filter(p=>p instanceof Kc).length;if(h>1||h>0&&d>0)throw new Ie(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Kc extends GR{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Kc(e,t,i)}_apply(e){const t=this._parse(e);return f0(e._query,t),new ca(e.firestore,e.converter,tf(e._query,t))}_parse(e){const t=a0(e.firestore);return function(l,h,d,p,y,_,T){let A;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Ie(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){ev(T,_);const S=[];for(const L of T)S.push(Zy(p,l,L));A={arrayValue:{values:S}}}else A=Zy(p,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||ev(T,_),A=jR(d,h,T,_==="in"||_==="not-in");return Lt.create(y,_,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function rl(n,e,t){const i=e,o=op("where",n);return Kc._create(o,i,t)}class lp extends ap{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Tr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const p of d)f0(h,p),h=tf(h,p)}(e._query,t),new ca(e.firestore,e.converter,tf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Zy(n,e,t){if(typeof(t=jn(t))=="string"){if(t==="")throw new Ie(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f_(e)&&t.indexOf("/")!==-1)throw new Ie(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(vt.fromString(t));if(!Re.isDocumentKey(i))throw new Ie(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return wy(n,new Re(i))}if(t instanceof Jn)return wy(n,t._key);throw new Ie(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wc(t)}.`)}function ev(n,e){if(!Array.isArray(n)||n.length===0)throw new Ie(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function f0(n,e){const t=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ie(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class KR{convertValue(e,t="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Zs(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>kt(h.doubleValue));return new np(l)}convertGeoPoint(e){return new tp(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=bc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){const t=ds(e);return new Mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=vt.fromString(e);at(b_(i));const o=new ul(i.get(1),i.get(3)),l=new Re(i.popFirst(5));return o.isEqual(t)||gi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QR extends d0{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(op("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class tc extends QR{data(e={}){return super.data(e)}}class YR{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new qu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new tc(this._firestore,this._userDataWriter,i.key,i,new qu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new tc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new qu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new tc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new qu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:XR(d.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function XR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}class JR extends KR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function Go(n){n=Ic(n,ca);const e=Ic(n.firestore,Jf),t=s0(e),i=new JR(e);return WR(n._query),NR(t,n._query).then(o=>new YR(e,i,n,o))}function nc(n,e){const t=Ic(n.firestore,Jf),i=df(n),o=$R(n.converter,e);return ZR(t,[FR(a0(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,pi.exists(!1))]).then(()=>i)}function ZR(n,e){return function(i,o){const l=new ls;return i.asyncQueue.enqueueAndForget(async()=>yR(await kR(i),o,l)),l.promise}(s0(n),e)}function rc(){return new ip("serverTimestamp")}(function(e,t=!0){(function(o){oa=o})(sa),Yo(new $s("firestore",(i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),d=new Jf(new BA(i.getProvider("auth-internal")),new WA(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ie(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(y.options.projectId,_)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),as(py,"4.7.5",e),as(py,"4.7.5","esm2017")})();const eC="/ClassSpace/assets/Logo-jUKUXq73.png";var tC="firebase",nC="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(tC,nC,"app");function up(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function p0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rC=p0,m0=new vl("auth","Firebase",p0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new kf("@firebase/auth");function iC(n,...e){Sc.logLevel<=ze.WARN&&Sc.warn(`Auth (${sa}): ${n}`,...e)}function ic(n,...e){Sc.logLevel<=ze.ERROR&&Sc.error(`Auth (${sa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(n,...e){throw hp(n,...e)}function wr(n,...e){return hp(n,...e)}function cp(n,e,t){const i=Object.assign(Object.assign({},rC()),{[e]:t});return new vl("auth","Firebase",i).create(e,{appName:n.name})}function Ks(n){return cp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sC(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&zr(n,"argument-error"),cp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return m0.create(n,...e)}function Oe(n,e,...t){if(!n)throw hp(e,...t)}function hi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ic(e),new Error(e)}function vi(n,e){n||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function oC(){return tv()==="http:"||tv()==="https:"}function tv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oC()||_I()||"connection"in navigator)?navigator.onLine:!0}function lC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t){this.shortDelay=e,this.longDelay=t,vi(t>e,"Short delay should be less than long delay!"),this.isMobile=gI()||wI()}get(){return aC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(n,e){vi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new Sl(3e4,6e4);function fp(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ha(n,e,t,i,o={}){return y0(n,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const d=_l(Object.assign({key:n.config.apiKey},h)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return vI()||(y.referrerPolicy="no-referrer"),g0.fetch()(v0(n,n.config.apiHost,t,d),y)})}async function y0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},uC),e);try{const o=new dC(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Wu(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(n,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Wu(n,"email-already-in-use",h);if(p==="USER_DISABLED")throw Wu(n,"user-disabled",h);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw cp(n,_,y);zr(n,_)}}catch(o){if(o instanceof wi)throw o;zr(n,"network-request-failed",{message:String(o)})}}async function hC(n,e,t,i,o={}){const l=await ha(n,e,t,i,o);return"mfaPendingCredential"in l&&zr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function v0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?dp(n.config,o):`${n.config.apiScheme}://${o}`}class dC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(wr(this.auth,"network-request-failed")),cC.get())})}}function Wu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=wr(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(n,e){return ha(n,"POST","/v1/accounts:delete",e)}async function _0(n,e){return ha(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pC(n,e=!1){const t=jn(n),i=await t.getIdToken(e),o=pp(i);Oe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:il(Fd(o.auth_time)),issuedAtTime:il(Fd(o.iat)),expirationTime:il(Fd(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Fd(n){return Number(n)*1e3}function pp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ic("JWT malformed, contained fewer than 3 sections"),null;try{const o=Fv(t);return o?JSON.parse(o):(ic("Failed to decode base64 JWT payload"),null)}catch(o){return ic("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function nv(n){const e=pp(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof wi&&mC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function mC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await pl(n,_0(t,{idToken:i}));Oe(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?w0(l.providerUserInfo):[],d=vC(n.providerData,h),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new pf(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function yC(n){const e=jn(n);await Rc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vC(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function w0(n){return n.map(e=>{var{providerId:t}=e,i=up(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(n,e){const t=await y0(n,{},async()=>{const i=_l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,h=v0(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",g0.fetch()(h,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wC(n,e){return ha(n,"POST","/v2/accounts:revokeToken",fp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=nv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await _C(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new Ko;return i&&(Oe(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Oe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Oe(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=up(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new pf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await pl(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pC(this,e)}reload(){return yC(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Rc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(Ks(this.auth));const e=await this.getIdToken();return await pl(this,fC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,h,d,p,y,_;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,S=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,L=(h=t.photoURL)!==null&&h!==void 0?h:void 0,O=(d=t.tenantId)!==null&&d!==void 0?d:void 0,M=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,q=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Y=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:ee,emailVerified:oe,isAnonymous:F,providerData:ce,stsTokenManager:k}=t;Oe(ee&&k,e,"internal-error");const I=Ko.fromJSON(this.name,k);Oe(typeof ee=="string",e,"internal-error"),Xi(T,e.name),Xi(A,e.name),Oe(typeof oe=="boolean",e,"internal-error"),Oe(typeof F=="boolean",e,"internal-error"),Xi(S,e.name),Xi(L,e.name),Xi(O,e.name),Xi(M,e.name),Xi(q,e.name),Xi(Y,e.name);const R=new di({uid:ee,auth:e,email:A,emailVerified:oe,displayName:T,isAnonymous:F,photoURL:L,phoneNumber:S,tenantId:O,stsTokenManager:I,createdAt:q,lastLoginAt:Y});return ce&&Array.isArray(ce)&&(R.providerData=ce.map(x=>Object.assign({},x))),M&&(R._redirectEventId=M),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new Ko;o.updateFromServerResponse(t);const l=new di({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Rc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Oe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?w0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Ko;d.updateFromIdToken(i);const p=new di({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new pf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map;function fi(n){vi(n instanceof Function,"Expected a class definition");let e=rv.get(n);return e?(vi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,rv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}E0.type="NONE";const iv=E0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(n,e,t){return`firebase:${n}:${e}:${t}`}class $o{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=sc(this.userKey,o.apiKey,l),this.fullPersistenceKey=sc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new $o(fi(iv),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||fi(iv);const h=sc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(h);if(_){const T=di._fromJSON(e,_);y!==l&&(d=T),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new $o(l,e,i):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new $o(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C0(e))return"Blackberry";if(P0(e))return"Webos";if(I0(e))return"Safari";if((e.includes("chrome/")||A0(e))&&!e.includes("edge/"))return"Chrome";if(R0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function T0(n=fn()){return/firefox\//i.test(n)}function I0(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A0(n=fn()){return/crios\//i.test(n)}function S0(n=fn()){return/iemobile/i.test(n)}function R0(n=fn()){return/android/i.test(n)}function C0(n=fn()){return/blackberry/i.test(n)}function P0(n=fn()){return/webos/i.test(n)}function mp(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function EC(n=fn()){var e;return mp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TC(){return EI()&&document.documentMode===10}function k0(n=fn()){return mp(n)||R0(n)||P0(n)||C0(n)||/windows phone/i.test(n)||S0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(n,e=[]){let t;switch(n){case"Browser":t=sv(fn());break;case"Worker":t=`${sv(fn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,d)=>{try{const p=e(l);h(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(n,e={}){return ha(n,"GET","/v2/passwordPolicy",fp(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=6;class RC{constructor(e){var t,i,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:SC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ov(this),this.idTokenSubscription=new ov(this),this.beforeStateQueue=new IC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _0(this,{idToken:e}),i=await di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ci(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Rc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject(Ks(this));const t=e?jn(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AC(this),t=new RC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await wC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fi(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&iC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $c(n){return jn(n)}class ov{constructor(e){this.auth=e,this.observer=null,this.addObserver=kI(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PC(n){gp=n}function kC(n){return gp.loadJS(n)}function xC(){return gp.gapiScript}function NC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(n,e){const t=Nf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(fc(l,e??{}))return o;zr(o,"already-initialized")}return t.initialize({options:e})}function LC(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(fi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function OC(n,e,t){const i=$c(n);Oe(i._canInitEmulator,i,"emulator-config-failed"),Oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=N0(e),{host:h,port:d}=VC(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${h}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),bC()}function N0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function VC(n){const e=N0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:av(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:av(h)}}}function av(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function bC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,t){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(n,e){return hC(n,"POST","/v1/accounts:signInWithIdp",fp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="http://localhost";class Ys extends D0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=up(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new Ys(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Qo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Qo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qo(e,t)}buildRequest(){const e={requestUri:MC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_l(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends yp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Rl{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Rl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ys._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ui.credential(t,i)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Rl{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Rl{constructor(){super("twitter.com")}static credential(e,t){return Ys._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return rs.credential(t,i)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await di._fromIdTokenResponse(e,i,o),h=lv(i);return new ia({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=lv(i);return new ia({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function lv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends wi{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Cc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Cc(e,t,i,o)}}function L0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Cc._fromErrorAndOperation(n,l,e,i):l})}async function UC(n,e,t=!1){const i=await pl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ia._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(n,e,t=!1){const{auth:i}=n;if(ci(i.app))return Promise.reject(Ks(i));const o="reauthenticate";try{const l=await pl(n,L0(i,o,e,n),t);Oe(l.idToken,i,"internal-error");const h=pp(l.idToken);Oe(h,i,"internal-error");const{sub:d}=h;return Oe(n.uid===d,i,"user-mismatch"),ia._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&zr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(n,e,t=!1){if(ci(n.app))return Promise.reject(Ks(n));const i="signIn",o=await L0(n,i,e),l=await ia._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function BC(n,e,t,i){return jn(n).onIdTokenChanged(e,t,i)}function zC(n,e,t){return jn(n).beforeAuthStateChanged(e,t)}function HC(n,e,t,i){return jn(n).onAuthStateChanged(e,t,i)}const Pc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pc,"1"),this.storage.removeItem(Pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=1e3,WC=10;class V0 extends O0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);TC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,WC):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}V0.type="LOCAL";const GC=V0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0 extends O0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}b0.type="SESSION";const M0=b0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Qc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(h).map(async y=>y(t.origin,l)),p=await KC(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const y=vp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(A.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function QC(n){jr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function YC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function JC(){return U0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="firebaseLocalStorageDb",ZC=1,kc="firebaseLocalStorage",j0="fbase_key";class Cl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yc(n,e){return n.transaction([kc],e?"readwrite":"readonly").objectStore(kc)}function eP(){const n=indexedDB.deleteDatabase(F0);return new Cl(n).toPromise()}function mf(){const n=indexedDB.open(F0,ZC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(kc,{keyPath:j0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(kc)?e(i):(i.close(),await eP(),e(await mf()))})})}async function uv(n,e,t){const i=Yc(n,!0).put({[j0]:e,value:t});return new Cl(i).toPromise()}async function tP(n,e){const t=Yc(n,!1).get(e),i=await new Cl(t).toPromise();return i===void 0?null:i.value}function cv(n,e){const t=Yc(n,!0).delete(e);return new Cl(t).toPromise()}const nP=800,rP=3;class B0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>rP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qc._getInstance(JC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await YC(),!this.activeServiceWorker)return;this.sender=new $C(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mf();return await uv(e,Pc,"1"),await cv(e,Pc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>uv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>tP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>cv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Yc(o,!1).getAll();return new Cl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B0.type="LOCAL";const iP=B0;new Sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(n,e){return e?fi(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p extends D0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sP(n){return jC(n.auth,new _p(n),n.bypassAuthState)}function oP(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),FC(t,new _p(n),n.bypassAuthState)}async function aP(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),UC(t,new _p(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sP;case"linkViaPopup":case"linkViaRedirect":return aP;case"reauthViaPopup":case"reauthViaRedirect":return oP;default:zr(this.auth,"internal-error")}}resolve(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=new Sl(2e3,1e4);async function uP(n,e,t){if(ci(n.app))return Promise.reject(wr(n,"operation-not-supported-in-this-environment"));const i=$c(n);sC(n,e,yp);const o=z0(i,t);return new qs(i,"signInViaPopup",e,o).executeNotNull()}class qs extends H0{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){vi(this.filter.length===1,"Popup operations only handle one event");const e=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lP.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="pendingRedirect",oc=new Map;class hP extends H0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=oc.get(this.auth._key());if(!e){try{const i=await dP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}oc.set(this.auth._key(),e)}return this.bypassAuthState||oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dP(n,e){const t=mP(e),i=pP(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function fP(n,e){oc.set(n._key(),e)}function pP(n){return fi(n._redirectPersistence)}function mP(n){return sc(cP,n.config.apiKey,n.name)}async function gP(n,e,t=!1){if(ci(n.app))return Promise.reject(Ks(n));const i=$c(n),o=z0(i,e),h=await new hP(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=10*60*1e3;class vP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_P(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!q0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(wr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yP&&this.cachedEventUids.clear(),this.cachedEventUids.has(hv(e))}saveEventToCache(e){this.cachedEventUids.add(hv(e)),this.lastProcessedEventTime=Date.now()}}function hv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function q0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _P(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(n,e={}){return ha(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TP=/^https?/;async function IP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wP(n);for(const t of e)try{if(AP(t))return}catch{}zr(n,"unauthorized-domain")}function AP(n){const e=ff(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!TP.test(t))return!1;if(EP.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=new Sl(3e4,6e4);function dv(){const n=jr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function RP(n){return new Promise((e,t)=>{var i,o,l;function h(){dv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dv(),t(wr(n,"network-request-failed"))},timeout:SP.get()})}if(!((o=(i=jr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=jr().gapi)===null||l===void 0)&&l.load)h();else{const d=NC("iframefcb");return jr()[d]=()=>{gapi.load?h():t(wr(n,"network-request-failed"))},kC(`${xC()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw ac=null,e})}let ac=null;function CP(n){return ac=ac||RP(n),ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=new Sl(5e3,15e3),kP="__/auth/iframe",xP="emulator/auth/iframe",NP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LP(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?dp(e,xP):`https://${n.config.authDomain}/${kP}`,i={apiKey:e.apiKey,appName:n.name,v:sa},o=DP.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${_l(i).slice(1)}`}async function OP(n){const e=await CP(n),t=jr().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:LP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NP,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=wr(n,"network-request-failed"),d=jr().setTimeout(()=>{l(h)},PP.get());function p(){jr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bP=500,MP=600,UP="_blank",FP="http://localhost";class fv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jP(n,e,t,i=bP,o=MP){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},VP),{width:i.toString(),height:o.toString(),top:l,left:h}),y=fn().toLowerCase();t&&(d=A0(y)?UP:t),T0(y)&&(e=e||FP,p.scrollbars="yes");const _=Object.entries(p).reduce((A,[S,L])=>`${A}${S}=${L},`,"");if(EC(y)&&d!=="_self")return BP(e||"",d),new fv(null);const T=window.open(e||"",d,_);Oe(T,n,"popup-blocked");try{T.focus()}catch{}return new fv(T)}function BP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="__/auth/handler",HP="emulator/auth/handler",qP=encodeURIComponent("fac");async function pv(n,e,t,i,o,l){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:sa,eventId:o};if(e instanceof yp){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",PI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof Rl){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}n.tenantId&&(h.tid=n.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),y=p?`#${qP}=${encodeURIComponent(p)}`:"";return`${WP(n)}?${_l(d).slice(1)}${y}`}function WP({config:n}){return n.emulator?dp(n,HP):`https://${n.authDomain}/${zP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="webStorageSupport";class GP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M0,this._completeRedirectFn=gP,this._overrideRedirectResult=fP}async _openPopup(e,t,i,o){var l;vi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await pv(e,t,i,ff(),o);return jP(e,h,vp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await pv(e,t,i,ff(),o);return QC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(vi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await OP(e),i=new vP(e);return t.register("authEvent",o=>(Oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jd,{type:jd},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[jd];h!==void 0&&t(!!h),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return k0()||I0()||mp()}}const KP=GP;var mv="@firebase/auth",gv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YP(n){Yo(new $s("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=i.options;Oe(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x0(n)},y=new CC(i,o,l,p);return LC(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Yo(new $s("auth-internal",e=>{const t=$c(e.getProvider("auth").getImmediate());return(i=>new $P(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(mv,gv,QP(n)),as(mv,gv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=5*60,JP=zv("authIdTokenMaxAge")||XP;let yv=null;const ZP=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>JP)return;const o=t==null?void 0:t.token;yv!==o&&(yv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ek(n=Gv()){const e=Nf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=DC(n,{popupRedirectResolver:KP,persistence:[iP,GC,M0]}),i=zv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=ZP(l.toString());zC(t,h,()=>h(t.currentUser)),BC(t,d=>h(d))}}const o=jv("auth");return o&&OC(t,`http://${o}`),t}function tk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}PC({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=wr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",tk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YP("Browser");const nk={apiKey:"AIzaSyCl4yble0NF4t3i5FCALJl8XbZNY2nJgzE",authDomain:"classspace-db5d2.firebaseapp.com",projectId:"classspace-db5d2",storageBucket:"classspace-db5d2.firebasestorage.app",messagingSenderId:"411887990451",appId:"1:411887990451:web:fcb068cce8591dbfb522c6",measurementId:"G-ETMP27FRYR"},W0=Wv(nk),Zi=ek(W0),rk=new ui,Ws=OR(W0);var Gu={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var vv;function ik(){if(vv)return Gu;vv=1,Gu.parse=h,Gu.serialize=y;var n=Object.prototype.toString,e=Object.prototype.hasOwnProperty,t=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,i=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/;function h(S,L){if(typeof S!="string")throw new TypeError("argument str must be a string");var O={},M=S.length;if(M<2)return O;var q=L&&L.decode||_,Y=0,ee=0,oe=0;do{if(ee=S.indexOf("=",Y),ee===-1)break;if(oe=S.indexOf(";",Y),oe===-1)oe=M;else if(ee>oe){Y=S.lastIndexOf(";",ee-1)+1;continue}var F=d(S,Y,ee),ce=p(S,ee,F),k=S.slice(F,ce);if(!e.call(O,k)){var I=d(S,ee+1,oe),R=p(S,oe,I);S.charCodeAt(I)===34&&S.charCodeAt(R-1)===34&&(I++,R--);var x=S.slice(I,R);O[k]=A(x,q)}Y=oe+1}while(Y<M);return O}function d(S,L,O){do{var M=S.charCodeAt(L);if(M!==32&&M!==9)return L}while(++L<O);return O}function p(S,L,O){for(;L>O;){var M=S.charCodeAt(--L);if(M!==32&&M!==9)return L+1}return O}function y(S,L,O){var M=O&&O.encode||encodeURIComponent;if(typeof M!="function")throw new TypeError("option encode is invalid");if(!t.test(S))throw new TypeError("argument name is invalid");var q=M(L);if(!i.test(q))throw new TypeError("argument val is invalid");var Y=S+"="+q;if(!O)return Y;if(O.maxAge!=null){var ee=Math.floor(O.maxAge);if(!isFinite(ee))throw new TypeError("option maxAge is invalid");Y+="; Max-Age="+ee}if(O.domain){if(!o.test(O.domain))throw new TypeError("option domain is invalid");Y+="; Domain="+O.domain}if(O.path){if(!l.test(O.path))throw new TypeError("option path is invalid");Y+="; Path="+O.path}if(O.expires){var oe=O.expires;if(!T(oe)||isNaN(oe.valueOf()))throw new TypeError("option expires is invalid");Y+="; Expires="+oe.toUTCString()}if(O.httpOnly&&(Y+="; HttpOnly"),O.secure&&(Y+="; Secure"),O.partitioned&&(Y+="; Partitioned"),O.priority){var F=typeof O.priority=="string"?O.priority.toLowerCase():O.priority;switch(F){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(O.sameSite){var ce=typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite;switch(ce){case!0:Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"strict":Y+="; SameSite=Strict";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return Y}function _(S){return S.indexOf("%")!==-1?decodeURIComponent(S):S}function T(S){return n.call(S)==="[object Date]"}function A(S,L){try{return L(S)}catch{return S}}return Gu}var lc=ik();function sk(){const n=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof n=="boolean"?n:typeof document=="object"&&typeof document.cookie=="string"}function ok(n){return typeof n=="string"?lc.parse(n):typeof n=="object"&&n!==null?n:{}}function Bd(n,e={}){const t=ak(n);if(!e.doNotParse)try{return JSON.parse(t)}catch{}return n}function ak(n){return n&&n[0]==="j"&&n[1]===":"?n.substr(2):n}class wp{constructor(e,t={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const o=this.cookies;this.cookies=lc.parse(document.cookie),this._checkChanges(o)};const i=typeof document>"u"?"":document.cookie;this.cookies=ok(e||i),this.defaultSetOptions=t,this.HAS_DOCUMENT_COOKIE=sk()}_emitChange(e){for(let t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)}_checkChanges(e){new Set(Object.keys(e).concat(Object.keys(this.cookies))).forEach(i=>{e[i]!==this.cookies[i]&&this._emitChange({name:i,value:Bd(this.cookies[i])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(e,t={}){return t.doNotUpdate||this.update(),Bd(this.cookies[e],t)}getAll(e={}){e.doNotUpdate||this.update();const t={};for(let i in this.cookies)t[i]=Bd(this.cookies[i],e);return t}set(e,t,i){i?i=Object.assign(Object.assign({},this.defaultSetOptions),i):i=this.defaultSetOptions;const o=typeof t=="string"?t:JSON.stringify(t);this.cookies=Object.assign(Object.assign({},this.cookies),{[e]:o}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=lc.serialize(e,o,i)),this._emitChange({name:e,value:t,options:i})}remove(e,t){const i=t=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=lc.serialize(e,"",i)),this._emitChange({name:e,value:void 0,options:t})}addChangeListener(e){this.changeListeners.push(e),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(e){const t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}const lk=new wp;function uk({setLogin:n}){const e=async()=>{try{const t=await uP(Zi,rk);lk.set("auth-token",t.user.refreshToken);const i=t.user,o=Hs(Ws,"users"),l=nl(o,rl("uid","==",t.user.uid));(await Go(l)).empty?(await nc(o,{uid:i.uid,displayName:i.displayName,email:i.email,photoURL:i.photoURL,refreshToken:i.refreshToken,createdAt:rc()}),console.log("New user, WELCOME! <3")):console.log("User Already exist"),n(!0)}catch(t){console.log(t)}};return Ee.jsxs("div",{className:"h-[100vh] w-[100vw] flex",children:[Ee.jsx("div",{className:"loginPlanet w-[60%] h-[100%]",children:Ee.jsx("h1",{className:"text-white px-[25px] text-[50px] font-agdasima",children:"LOG IN"})}),Ee.jsxs("div",{className:"w-[40%] h-[100%] bg-[#0D0D0E] flex items-center justify-start pt-[5%] flex-col gap-[30%]",children:[Ee.jsx("img",{className:"w-[75%]",src:eC,alt:""}),Ee.jsxs("button",{onClick:e,className:"px-10 py-2 text-3xl bg-[#915472] font-inria text-white rounded-[20px] login transition-all ease-in-out duration-[800ms]",children:["Log In With ",Ee.jsx("br",{}),"Google"]})]})]})}const ck="/ClassSpace/assets/LogoOnly-DNnGNioa.png",hk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANsSURBVHgB7Zo7TxRRFMfPgoLPGNFYqmAjWljiWqmx1EYxBm2I0RgpbPwULr2KsdHCxEeiUUsbH1H5AiAIiwZtNKAIhFWBw//kXpLdnTu7s8yZ2Zlkf8kvw84uc8+Zx537ImrQoEGUZEgZZpZjboHb4E7YDnfYfcIcnIJ5u52RfZlMhkkRtcRsQh3wKuyCnbCtQhmSyDQcgoPwNsxrJ7hmkNAGeA6+g0u8dhbhW3gebqR6gcLXwYtwlPUZgZelDIoTFNgOn8ACR4cc+7GURXGAgo7APMfHODzOUV09HLgVdsNfHD/f2Tx7LaQJm+epB/7k+vEDniVN2NwK37j+yN2SDRJz1fcYm4f3FZl3VBKYgCfwvstX+lFTpS+R1Hps+ik5SQlyom9wlcqkYmKgF56k8MzC19Y5Cs8pMrHVDs7IJtZ5+Upr5BrcZb0O/3B45CVeewuFTfWqwScuum0kGDjMOvT4xd/kk5RUKn2kgzRqi98/GbtPgz4bqwe/Z0wqi0DVagD2wDNFn7vJVAAaZAMfS84A7GddpOU+bF1kXXLsuGquKlM6hIdJl2a4n6JB+n4S82zxTtetKD3fTkoPB8nEXIIrMenGt1F62E4m5hJcie0j/bGQZThOZpxjmXSRHNpdO8uJ4mrdgYesd0mfQFdsM+nyF75Eo3UeSnPqhd2niSfmam1FDeTW+1/0+R/p344eXInNU/rwxOxKbIrShydmV2JScyVj0DIYEqun0+l3xaYpPTjjdSUmY+lDlB4k1pnyna7EpEoepPTwkRy9ck9idlJAJgiWKPlIjAOuiQy/95g8jB8o+bwnM2rlwZmYPQO3KPnc9Jt2qtTyeApHKbmMwGd+X/omhjOxgE2OdNp1TWV/h+09FGAOMRYoQIEu7sHnFI5WKu09Syc27OSCxHS/0g/iGuL+DR/Yvy+Qo8dbA2Nkhri/UliQXJbrM31UziQ8SprggKfZTOXUCylbBnF1JwBxwBY2c2STHD9yt8iko+7EX1FyMgF4DH7m+BiDXRQHKGg3fAQXODpkcv0h3EtxggKbYS+bWQ9tZCLjEse9HKIsQVnAIve/LGAJM3wt//uGlRawaC85knfeFTJD5AfIDIv5lSEDOqtLjqTrMQAntJYcRb1ITMYoO+x2K5lu/OoisS8U4SKxBg0aRMsKFonsBT2zlJcAAAAASUVORK5CYII=",dk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEeSURBVHgB7ZgxS0NBEITn2WuhloqihVgomkYQrfObrQRB0cJYaKGioIWVomD6vMwkbLjcD0g2MB8My+1r5h4LOxxgjDGiKQ9t266wrCIHLfXXNM1/NCZmaXSd5ZbaQXWJOSGzr1SXhj/VWCo+dqld5DAq5GOPOotGabZH/SAP+rPf1H006pk9YDnC9CXmhcz2OAJPMMYYMxPqpbCBPCtXS+EjcoEog8wmyyUWJMicImeQOYlGafaOesH4RhmQj3fqJhr1zG6xbCMHI7McgS8YY4yZCfVSOGQ5Ro6VO6AeuBQeo1EGmX2WK2oNefKB3jHOafhZhzIbdCg9IWUxKuSnE4fS7DWlG2QKMm/URTTqmV1GnldE8csR6MMYY6YYAl88SBOHIrcpAAAAAElFTkSuQmCC",fk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA5CAYAAACMGIOFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAP+SURBVHgB7ZrJaxRBFMbfaGIWzYJR1IB6UNCLggpBJXowGMzJm4pBPAkSNMQE8eBRPfkvSFxQkFy8alxAk4NLTnrSg4piEiQG4pLVSfl9VA2GzFRPd6a6pwf6Bx9NT1dXvzddXfXqVYkkJCQkRExKQkQptRyHBqjOaAVUBqWhGWgSGoPGU6nUXwkJ507CsRoctkKHoUPQJmgNVAVVQHScDs1CE9BP6Cs0CD2EPvA3OK0kbsC5dVAn9BKaVEuD9w2ZeuokLsCYBugqNKrcMgJdg9ZKMYEBTeafT6twmDf1H4DKJUrwwDroPDShooGt5JKKqgnjQZXQLWhaRcuceW6VhAkfAPUr3YyKAT+Lx1C1hAEqroduq/C+P7/MGzt8N91lfgop/dGfgU76vSdEOLYfg06JS+DkQeV+iCgUdnpNfuzPG/GgIkYrjET2SPwYgo4gOvrhVchP07sA7ZLCGYF6oB3m+EsKZzfUJYWg9Hg4otzwACoz9VaacxfQPs+oKN+bPA2tFzcMZ2YaOE7zXNxA+054FbA6iX+nFod2cUeYs4p2pWc/OfF6k9tFfz+lwE5oi+2il5NtoueApQDtbLFdzOmk6SD2S2nRArtz+mN7k0xZbJTSYrPoDEQWXk7GZ2buD9pcm+tCmeWGatsNFjiwPxU9LNh60YFF5y88yjIS2wDtNUc/0OZ68QvadjM0E2BA7laO53morxzqCWAD7d2Xqy5bc+XvQdIN/Rjgp8QhqG+O9Qa4ha0yp802JxmZpMU/raZHdobSE+PWALfwT8mZu7UZxpzojMf1xVyEOB375lHmOd5OX+YEZY/zHktZfpONovO2fpk1ysLmBBO+f6CV4g/Gj0fzlGEn07fgnA52iDsyNmdha67MbHvO0WKI1Wabk1yf+CKlBe317yS+HXY6z6S0GDR2Z+EVoLP7djoshAjtfGS76OXkR+idlAZvofe2i1Yn8erZW90Td4S5FnoX9lpzRvnSH/dFJ6Bc0JgJ/ZTO4zaKG2jfHa8Cnk7i3/mOQy80L4XDSW0HHGS2oVN08F0otOuGaXVW/ORdV4vuhOKYd30DtRWcd0UF4zicFR1RxIlRqDufg8TXugYqYqb6suh4Ng4wEL8OvRKXKJ1o7lXFX9Xi87lOGWRSH8jRzPpksRxNm+eHvhBbAd1UeuU3SqbMcyslCpRuul3QsIoGLtNxj0KNRInSORjuyghz9wfrfa18rkOG6Sz38VxR7t/qsKm3QeKC+r/tZQD6rZYGd2TxzZ1TevHXCWHsrVuFwzbRaynNojPxmQ2EjFm5iZDjHJfvOEXiBP2z6PnrE+hTvjAtKFHtkqSYL8psIGRmbeEGwjE45iI+TkhISIgH/wBwMbdMnjCLBAAAAABJRU5ErkJggg==",pk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAYAAAA6oTAqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVwSURBVHgB3VpriFVVFN7zzJrMphTpZZhI78wahmnMFNPMR/aAoiDKEiMJrBzIgn70wAL/CUX9iEKiF06UPbAHkWSBUWBlT0glDKeXZZk5zTSz+j72d7h7bufezrn3zr3n+sHHvZyzH2vttdZea+97nTuE0ODqFGbWio8usAnc2tDQcNDVE6BAA3gceB3YC+4F+8AFfN/s6gQQ+HB8LAevBjvBVr3aA+53WYcs0Q2uA3+0eGwAW1xWAeGOBhfKlX4DBwsowufXuqwBQjWBE8FbwY/AvyVwP7gLfBcczlPmQ3CSyxIg0FTwPvDLQNB/wG3gKnAJuEPPQ4V66Iqu1oAQx4KXgq/kuRHd6llwvtrNBb/Vu53g2/r+C3iEqyUgwGTwbvBT8EDg+7TKWrqNKaClSJ/acANYLJcjHnG1ACYeC54PPiAliCHwT3CLXOnUoH0LOEsWGZZF5oG3gwfBX8GZrprAhK3gAvPb54HAlajEC+DlYHNMv3zXukTPP9Gzl8FGVw1goilaxS2KgciVPpMrnQG2F+hLRXYEisyWpS6WNf8wZfzRVGAMeBp4D/iFJia4tX4FrlY8NBYZY5piZFgxElmkEXxa430MjnejAfP54QLzCa4vcCUq8br5oG1LME53nGvp3UmKE2KVqzQw6MngXYEfm1Z0t/mcMTXFWHStHwJFpue9f0jvvgYnukoAAzWDZ4IPS+jBwArM2ivkSokL2LwYoWt15r2fpFgzLVLpSVL+eqQC8Hnwp8AKnHwjuIhtUo7LoO4IYmSEawXtbtOiDaaxdtyEzA9LwbfMlxcRuEM9Cl4INrkSYLk8YnKxOEUYj++pzRsuLYIVux/cFygwYL6wYz00zpUB87kn3H5nFGh3mfmcxBy1MOngPDeMk7s8CX5nfmuNXIn1E093E6zMwk4WCbff2QXacVGfk8LbE7mxOt0AbjJfKkRgCf4YOAcc4yoA83kksgg/FxVpe7r5BEn0JJ3gKvCvQAmu2p3g8a6CsJG7FmNlVpG23HSi7fhzcErSSc4CN1tum6V7cYdi3dTqKgApsjOwCC3UUqQ9t/+oIF2TSg5aQa72TRArDP4XwU5LkMGLjN2RFyPzEvRZITnoMR2uFKBjO3i9lIrAOHoJ7LKUwW++RIlKnNg8EtOnLbAKS6SxrhyYL91vNH9sHQrc7xlwpiXI8DayjGcemZFwbm7b/fKMxa5SMH+05QUDE9eAXIUTvUrhCq2a/feE2JlwPqaITer3vlUoZvMnYX200nxROaDJfgbXS6k2tWtRcI84IaaY5xS5NRes8tVx3mSMqWWWK/xMQbpBgT7HCpTxCcZm6XKv+rI6Lr0OSwvF1AeWq9mGgu9UZFrK8Wj9Xer/oKs2MOmJ4M3gO5ZLvFRqbspxGCs9lksJ1bNKjDCs69YqnqjM9JT922VlgmmgIuVTyZBAmyUQzz2JL+jMXwb2q+9FLguAILeYL1Dpct0J+zDwo8sK1mHVuUL6P5j/ISiyzhOWLLnyMmSv3HO1ywoUyEulDLN+V4I+6xT434OTXZYghbZLodeKWQfvjpJVarMdJwEEW27+YLWvUEBL6ZVSZA94jssiINgx5ksfus/6uKA2/2vAVimz0Wr980QxQLg7lHdYFXTEvL/G/IGQ7+e7LMP8jec2rXxvuPLm76V79Y4/HpV3ZqkGzJ9eueXynu284DkPerulzDJXD4Cg4y13auTB7jA9f1zPfrcy7+CqCgh7kwTnznaF+fuGfllsjasn0BqWO//0amMgeEtzrqs3mL8k4c6133LH6acsK3VYGijvhDc+dLMlrl5hvqKO7g/eBCe4egWEP8H8rQ5v9K+0LPyzohxAgbOlyKj8NexfNK9AiNCLKHsAAAAASUVORK5CYII=",G0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAABJCAYAAABxcwvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQgSURBVHgB7ZvLThRBFIZrBAUCmghu3IqsJEE3LnwEJSCRRINg4orEG5GIF9CVlxfQl0B9BcW9xoAbL9FEo+LGIM6IJMb4+59UtYOEme6q7qnpIfUlf9jQVadOnzp1uqpGqUAgEAgEAoFAIBAIBAL/A6CgcgDt2KIyJPWgaFAr//RQ+6gd1FfqRaFQeKs8Q1v28k8ftcvY8YZ6SVt+q3ohkUNNUc+oIvXH/J2jBqitygPSDzVIPVljx0/qKXWxbhHOjpupS6jMd2qG6lI1hO23ULeolSq2TFNtyjfstNdEEGIcdYXapmqAtGvaL8bY8ZzqU75hp8PUKuJZpEapZpUh0FNsNIGDhBJ1XDnitApAz/EOqiXBv++m7lFnsnKUaWecukttT/BIO9WqfENDh6hlJOebefOppp6JoJOmPZu+B5Vv2Gk39Rh2yNSQHJIkAjfqs8s8vwg7HlF7lG+gl/+j1A/YETnKKqKgk/QFJMtBa5HFY0DVC+jQv2kMsUEiYSypo0w/I9Qn2CEJ+zo81WvVBiB1ypSDo2TAp+McBR1Bp6iPsOMLdQ01rtMSg/KbtkmmQtEMpKVCu/ICLsP+BciCkjhSvQFdgZ+jlmCHTD2JxOYN2ht3dJDkrvpOsUqYgY3AfvUpmoE1r2lHHL7i0M4YMi5cMwd66qWZIh1IN3XzNcUqQUM7qfOwT7aSzO9T72GHRO5VONZfdQPlZG7rKFvEsflL0kkxjpLl23bqJUXqoNgyIvcYR7nUUXFEdVBjOygCuiCU5dz2E6YSkqTF8Y2Vg+KAex21nnzXQWlBuY6yXb0ioiSd7zooLRxgOzULNx5SHcozmZ5PxWEiQDa/Dik3DlJDmzaSUM5JtpX0eqKctLkcBb26TSK7MkC+6WTPfHOsbsZB8i1n+9EbR2N9q1UC5Q0z2y3XpDR2xY3w7VYd6B1Fl1OND9QDuO0eTCAvW7VxIOwnVQflitrWQbJa/fvUQLlccD2FyWd5APc6SCLgLDbe456E/ZTNZx2FcFpSHeitWpc6KOm5W7RxZ5vMq74Ab5gBzMC+DpIBu5zgfoYdUkfdRr22VaDvAhx2cJAYPgG3uwAuU082+vpRjyuB7LQH+m6kDamOnlE+Urd9MXNUt/IN9E23koWhkkyzuJ8kEWV7P0mcekw5kuamm0RDe8JHlqkb1GyhUPilUmCenzXtLSd8TDbquuB7yrHDEwkjqSZHz7A7Upe7ncPKN+z0ALUQY1xebt/Oi73KN+y0Dfp+dCXkU+MOalynQNdp06i+6slFrvpU4Oy4CbpOWjAhHf0iQO5SHvFlGHQd1W/6jX4RUDIRJPY1qRRk8dsSKdR6KVlid1JL1DwT7DvlGehlfj/VSZWo19Qr2rKq8gLy8yulXNgRCAQCgUAgEAgEAoFArvgLdDT+8EN8aRMAAAAASUVORK5CYII=",mk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGYAAABhCAYAAAAk2tTaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAsMSURBVHgB7V1/rFxFFT77KL9KKa0IVml5W6BqkUgroglqWDBBm2haYmIwMekr6h8isZUYg5HYVzVRE/VVDAaV+FpDNCYqNQpFErMrmhC1sS2gIFLe1laFiqH8aMuPluP3dea+Nzs7d/du3963s/vul3x5e++dmTszZ+bMzLln5okUKJAnVLVEyoCg7wqCyh/Cn7PBZeCw/T0PnGuDHAYPgU+B+8A94NOlUulV6SNELxjbC84FLwJXg1eDi8AzwJPBU8Ehy+NRwGPgy+BLYoT0EPgAWBUjqCchKJWIEbVgIJTF+PNRcBV4mRhhTAfPg7vAu8FxCOeAFMgGCOMUcCW4FXxO88Oz4O3gCqseC6QBFbQI/CL4T+0cr1p2ikfBTeA5EhGiUGWolJPw5xrwS2JUVrt8HQEfA/eKGeCpog7bZ5wEzAfPB5eAy8FT2qTHicGfwc+DtdjHnxkBhHI2eCf4UotWzWd/Bb8OXg3O7SD9M8D3gN8A/wYebfGeF8EfgK+R2QxUwJvBn4HHUirqCLgD/BR4gU5jLGCvBJeD14M7wVdS3knB/QQcltkIFPxC8A+aDrbuG8CzpMtAmvPBG8HHWrz/PrAsswko8JvA36dUCGdinJG9HjxZcgTSP8++6/kWwrlAZgNY2eCPUyriBfDT2sEY0oX8cAz6ZAvhjIMLZdCBQi5VM5D74LSVA/uMzxTV2NneB04E8sUx57s6QHa4IFDAs8DtXuH3gB/oZeHx7iHwg+DjGu7JV8qgQ830lbMtTk93g++OoUVa4bzfCsIHx8TBn0arWb8Mg+dKRLBq7bPgIU8wnNJzJjdHCvQGqPx5Gp6g/AN8ixToHWxvfsITDG1x35JBh9XpXOy9EVwck5pAXk4Fb7LjoIv/UA3LIAMFvBys2pa4H1wXmXA4Doam9jfIoAKFewf4oDaa6imcqGxUyM/N2mxXuxtcIIMGDqABoRCc+SyTiKDG8LnHy+f/wJUySFCzTpjQZlBIvwLPlIigxoR0eyC/N8mgwKqvp7W5p/D6Xo3Umot8rQkIZrsMAhz1FQJX1W+VSIG8naPNH9g4lZ6uc0hvgQJcAT4UEMhRK5TXSuTQ5nHmAHiJ9COQ8Tlqvr08oWH1RaFwDTPUZXbd7oY0a17+nwFXSU7Ie83wNvAOcGngGR0g9oPXS/fBnvgg/t5TKpVekO5gv3d9GpibZ01ugkHFXIg/3wPTujs9Y66T/EAvzFvBz0l38Kx3Tf+D3MaYPB3d2M0vlt65SNF1ll8m27kuZcUR75p1d7rkhDwF84oYP+Jegj7M3XImn9EGlqdg7gF3S3rFqH2WBymQ/4K3YYw5Kt3B3ED+D0tOyG2MQYXsgxr5mJjB/52BIKzAO8FHpPugYDj4/066h/neNQV+SPoVEE4Z/GPKdJl+ZZdLHwD5vN/LP53Sr5F+BgpwKfiwNoPC+Qu4RCIH8ljX5gXmcul3oBDngw9oGBROtNZa5O0N2tzj+Zn5NOl3qFmRXwLuS+k5fwIvlgiBfH0okOefyiBBjevSoynCqWpkH6DUfGL+YSC/N8qgwVFroY1GUeltNbvb/F7+FHiZ5IhebXGj3ekT4A5pXOckm5CigBpj6HvB87xHzPceGVSo+UbzCzWej38Hr9O4nDG49TC0VSMPw2tcUONtv0TNzOckiQRqPDJv0eZNVU+C86RAb6Bmt9t+TygU0lekQG+Ayl8IbguoMG4RjMqLp6uwaoI7xriuWawR7T1Rs976gpr9ny7oW7Yhprx2HWpcmB63qoGmjlUawSEIajbQfljDO6h/oznsB40GajYu+QbBvWpmZD0TjhXKR8B/B4TCLRlvl0GGGi/6kD8wB9o1vRCOVV/sKSFzEZ3KvyaDDtsyb9MwqEJunkmVoWag36hh9UXLxPe13/3HskLNYQrbU4RDtcEZEd2achtokfbp4DLw19o80CdC+blGtuMtd6jZY3+vpoPjDmdHi6TL0KnDhP6V8u5EKF1/d19AjTHzR+DLKRXEWdsj4Ho1xsQT9nhRYyXm9PzLar6lpB1Zwvu3qjkrbfZCzX7H72jzzi2/BbMH3aHm28jrOkifPZMzvnE1x20da/Eeeld+VSMwucRyLBbzcQW4CayIcQZshcSL0z0Wix6XTIcDtXss1hJpX046VvwWvKVUKu2QAo1QM0PiuLJbT+xQuE7Bd9AXYQScLwXSocZcwxnZN61qyQu0OHC8uUiLoxc7AyrsTPDjak5BOqDTB032/P7DTbhR7Vzz0RcGOTX7Z7hp9l3gVSA3ObFi6aUyxzIpS+IWS6dyHvHLsedh8D7wfnAvxpHnJHL0paVUjdsQt3a4B2Inq/ND0nggdh2CeFEKFChQoECBAgUKFChQoECBAgWiwbRNMjCPbHQut8L8UZcC00aTYFDRFfzh4c9le+ugmN2/u0KVTpOtc1lBmG7uFM4NajZIrQVX2FssZx38ZVSNS83u4mobszmfl714LqI/zZsCATe3KeeY5rSzTc2/3qpYtn+Hhk/d8zERiFd1eKlEDm3f+BJUJQd49ZzakOfYwCMypbqIGrhNTPfm/YplzU8A3f4q6RPYclacWyzfFjH/6Y8qbY1M1QNb9AaUb7P0CsjAXe1aihpV19cnp3qtdcIvjxo1t9MJ84x0GVl7TBK46gQel85eNO6oshWB5yzsqM1Q8g1/pzaqwITDTpzk3pi9x4Yx5hSMaYxmzGai212sTglX8cINd1jeMef56kB5XPj1sDZUuQk60q3aogXYyuzEoWLYiTeZHzX7UtLSGcuYT7/CF6SEW+CFW5u1vPZ51Y/rlacVJpceiXfILiftin35Gpk+KOSkAhJ9zrGr7oSp23u7UtKogGNOOj42aLZDtMvuBcaOg6FA9n5deoxEMFulMTNl8C7bSsdPREhq1kNle1kHV6LQ68BrxThUJBXDCud9Pt+bkhzDjoILEYZrr6VOfKIiEYPropKFNNZzpdSITcmDIRuRhbxWmlsKK21EjJDYi8qSHW4Lb1ic2t/bnHDt1j8U2qaklXvxibIMGCYd3VBYqhK25FEJd+UyWNUTm5ktSEkvwUFpgdlo5mnwQLRdji2TqqIiZkyoO0HK4HrJhprz+/iagD/s4LpBGtXPXinQgFTXUNq8OCbgJ4+rcgfmEckAq3bcxRmnkbSrcW3gzqQ2R9gjer5ea+uzayv4286tzJlG3M+ImVikYbMNMxNomPWlzeTsOOqWsS49QNZzW6azJzIZ2Gsypd4o7G0tZmF5oO5dj4jZ9uGj4l3vll7BLr7G7RTXf1bWxkVV1XueuuDSxv8ikdnyrN6CLCXMeGhh1ibdqhOHSwF/8VjRxoVsNZDGROi9GrZarw3E35kl30mPYQIjJAKzNSfdnl3aNztskexwrc1MO/RhblfaYi8HJBujCJZtixqzTl3MxKbshV8XSKMmU+PsqE6ZZSqSTc3XZKpOk/gHbfx1qIva8SdW0lnNJk12NG3dYyoZ0x314uXSY2y8jZoNG1PityrThAZMMl78FS3iT06Khmxr5cxri6QPdLy/wc7SMsNKf2uGoBtDhcgDdnXN9VotJQjvV9xVuBefz0e924llgvVYl9bvpzYKLeaTTywmnB9RzQLSVUH16Q7SanpSJfBoxMlMbaa/7Xhl5T9VqGdVq07cjuJ5aVx5Iu/OHZ5amJACk8h176GacaCViqo4v+tSYBJ5HgnC2cZO51ZNjB4lqQYq0jiLGUFXzjIeFZgO1GzRzorMs6oCXYCaae96O4Wc0Oap5Zj2gctTgQKT+D/ySWSzJtJdwgAAAABJRU5ErkJggg==",gk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABDCAYAAAAh43M3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbTSURBVHgB7ZtbjBRFFIbPssCCgNwUWIMRBREfEFBQ8IaiwQf1AS9oTFADhieJEK8PvkhEYxQjakwwakRFE68PmiAhxEQQEAEvgGIAg1EBucMidzj+P6fW3a2dne6ZqrmZ+ZMvM9Nd3V1dXX3qnDo1IlVVVVVVVVVVLqqREkhVO+OjB+gO+L0OdHC7T4Kj4DDYCxpqamoOSpFVtIZBY/DGrwFXghGgD6iXlo1DHQOHwH6wA2wD34LvwNdopJNS6UJjdAIjwHPgTw3XX+BFcCk4UypNqHQtuArMj9QgvnaC98BI0E7KXawkGAo+AEe18OI13nHXbC/lKFSsA5gE1mrxtRHcr2bHykeoUC/wppZec0F/UJLR1m+Uc8DH4IiWXsfBJ6BeSilU4FywEJzU8hHrwsYZoqUwzLhoP/C52lMqN7FxvgB9pJjCBc8G72t59RRfrNtr4CzJQzl3NTXLPwPcks/xRRTrNhlM1zxGq5ytNy5yMz7mi7nylSCGFhMQSnyVy0E5PXE1az9dKqdRKNb1CdS9Xy4HpfYW1XyDKWCUxBEjZgaGSwGf5k6xHtwX3ACucNfqKuEaCybjHmaj5xyVmFIbhX7WONoEHga9slyPTuMjYLPG0TrQV2ILJ50BTmmYePwyMFhTGkSUuxis0PARkNeeIjGFE/YEizVcG8BIyVE4ZpQ7NlSLQA+JJZzsTrBVw8Qnfrt6UTB+nwGuA1PBA+579wx1mKThvYbTFXdojFgKJ+kIXtbw12g9qPPOzThrJtjfrNw+8JR68Q5+d9ZwG8eGnaMxonA1I7hKw8RGfcg7b3vwmWYOPrmNE1G13jGPavgDWqkpQoU0fgxHjoskTEfAam/bEEBnsS5DeW6bmOG6K8QmykPE63ZLKpSmYYZKuC9B77PB2zZemjIDmcR947xtB8QyByFiowxOKpSmYQZIuNhjjnvbEp8a1Nv7fUIsixCqKA1zofz/dH5SgbQ2JlQcomu9bWlsxWHvd63kEMZkURTjm6bLpzlHJ28b4yTNcgz3rfW2dQEx8kmJNjNNw3SUcPFmhnjbloA1WY5ZBRZ722gbYgSVnZMKpGmYwxIuepr0XP+7HqJcGtFpYLlYvrpR/L6M+1yZ03LH3iZx0sqJ95TmfY2VUL8eXC7mi5wWbnw5bpg3e59Yb+DrsxG8jX1/e8ePFvN7YuiAhEotHIilLzXDVINaBrPO0S7D/vPUshGx9GrSfad5lX6TeLoRvKRekIjecYoTSI5Tzfe5sjPFJq9i6dekAmkaZoPEE4fbu8AravMsbb7KarEUQ4LZ4G5pPdyHKPFhJxoyVG4QPr6XOKNBc9GGzBNb+7JSzNVnfXqKTWnSptD2xM4N0WYOR8/cnK1QGuNLQ/WLxJvrbRSnGZmG2SW2OIgjBXswh9L+Yo5lIdIz68GepEJpGoZP8hvAmbfYyXIGivWOYoj2i65AQ1LBNE+EgRtn8hNbuQK0HSzFa3QiqWBiw+Ak9C0Wibnwla6fxO4lUakCMjTOARjhj8TmUGK897Qnh9wnu/VO98muzuGZ+WaGETT4naR1nJWPeO4FuJfE14hKbTPUcjILwTDJT6wYRzfGRwwD6EvQy92dwXdh43MuZrCDKz0vA8Mlfzv3IxiPa+2QmFKbFOecay4LhLhEZBtYoJYBGKR5rLbkMc7vuQd8CPZqbstP9oDHtFArrdhr3E2m0XbwBhgrkYVzjgZvgd0p68I6x89CepUao5afySTO4PNpctHOOPXSJRnORe+WeSUm9Ho7erpt7ROO7QKuVlsh+k+WRtnFukiOymcZCH2PJ8Hj0nKGn6MXh8NZYG5bQ6Jadx4glgEgF4CBYoaW++iZbhJz29e5zy1udGyrPlNdnfpKy3vaB+aAp9MM0cFSyzW9AE406ynMPV2rGZJZaktd68EEME8t3bpHs4vn5Kuy1vWKia43tXX+m8Aabco7sW6v8xgpply3Z8KM2b3f2ShtlGO2cRpYruFaDR7UNpaPqb3mf4Bj4FPWUYottTmUgWpGkEs6/Jx0N/eUl7qKxhJHRTbyvdo65cuew5GT6wMLa2yThAp01dZ5Znb5Z7XpVSuEOFzPUm/1gto6nhgT+PGFit0KDmrh1aA2NRpdhVp1yRGmTgovXiNGFqOVCtUwTMnGSKUmiWnfGFmM4gjduwZcoraUY7vG1xbwrtr/lUr/h4pcpRbjDAPPqP07LVT8U9jz7pwFfVWL+Z9Ivrb8T+QYsUiZ05ecz+3maHTc+HrQ++WU6lYxb/oHscmyJX4kXiiV6l+0jTloeqWc4+V8C/0guv3MRDbO1bBxdkdfm1tVVVVVVVVVFaV/AQzbHigvhZrXAAAAAElFTkSuQmCC";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function yk(n,e,t,i){function o(l){return l instanceof t?l:new t(function(h){h(l)})}return new(t||(t=Promise))(function(l,h){function d(_){try{y(i.next(_))}catch(T){h(T)}}function p(_){try{y(i.throw(_))}catch(T){h(T)}}function y(_){_.done?l(_.value):o(_.value).then(d,p)}y((i=i.apply(n,[])).next())})}function vk(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,h;return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(y){return function(_){return p([y,_])}}function p(y){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(l=y[0]&2?o.return:y[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,y[1])).done)return l;switch(o=0,l&&(y=[y[0]&2,l.value]),y[0]){case 0:case 1:l=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,o=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){t.label=y[1];break}if(y[0]===6&&t.label<l[1]){t.label=l[1],l=y;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(y);break}l[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(_){y=[6,_],o=0}finally{i=l=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qo=function(){return qo=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},qo.apply(this,arguments)},K0=function(n){return{loading:n==null,value:n}},_k=function(){return function(n,e){switch(e.type){case"error":return qo(qo({},n),{error:e.error,loading:!1,value:void 0});case"reset":return K0(e.defaultValue);case"value":return qo(qo({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},wk=function(n){var e=n?n():void 0,t=$.useReducer(_k(),K0(e)),i=t[0],o=t[1],l=$.useCallback(function(){var p=n?n():void 0;o({type:"reset",defaultValue:p})},[n]),h=$.useCallback(function(p){o({type:"error",error:p})},[]),d=$.useCallback(function(p){o({type:"value",value:p})},[]);return $.useMemo(function(){return{error:i.error,loading:i.loading,reset:l,setError:h,setValue:d,value:i.value}},[i.error,i.loading,l,h,d,i.value])},Ek=function(n,e){var t=wk(function(){return n.currentUser}),i=t.error,o=t.loading,l=t.setError,h=t.setValue,d=t.value;return $.useEffect(function(){var p=HC(n,function(y){return yk(void 0,void 0,void 0,function(){var _;return vk(this,function(T){switch(T.label){case 0:return[3,4];case 1:return T.trys.push([1,3,,4]),[4,e.onUserChanged(y)];case 2:return T.sent(),[3,4];case 3:return _=T.sent(),l(_),[3,4];case 4:return h(y),[2]}})})},l);return function(){p()}},[n]),[d,o,i]};function Tk({setLogin:n}){const e=If(),t=new wp,[i,o]=$.useState(!1),[l,h]=$.useState([]),[d,p]=Ek(Zi);$.useEffect(()=>{(async()=>{if(p){console.log("Loading authentication state...");return}if(!d){console.log("User is not authenticated");return}try{const A=Hs(Ws,"users"),S=nl(A,rl("uid","==",d.uid));console.log("Current User UID:",d.uid);const L=await Go(S);if(L.empty){console.log("No user document found");return}const O=L.docs[0].id,M=Hs(Ws,"users",O,"classJoined"),q=await Go(M);h(q.docs)}catch(A){console.error("Error fetching user classes:",A)}})()},[p,d]);const y=()=>{o(!i)},_=()=>{n(!1),t.remove("auth-token")};return Ee.jsxs("div",{className:"flex w-[100vw] items-start flex-col",children:[Ee.jsx("div",{className:"flex items-center justify-center bg-[#FFABD4] h-[10vh] w-[100%]",children:Ee.jsxs("div",{className:"h-[100%] flex items-center justify-center gap-3 font-inria font-bold text-4xl",children:[Ee.jsx("img",{src:ck,className:"h-[70%]",alt:""}),Ee.jsx("h1",{children:"Class Space"})]})}),Ee.jsxs("div",{className:"flex",children:[Ee.jsxs("div",{className:"relative w-[30vw] h-[90vh] bg-[#1A1A1D] border-r-2 border-[#D9D9D9] flex flex-col",children:[Ee.jsxs("div",{className:` transition-all ease-in-out duration-300 flex flex-col items-end justify-start pt-2 h-[100%] w-[100%] bg-[#A64D79] absolute z-[100] ${i?"translate-x-0":"-translate-x-full"}`,children:[Ee.jsx("img",{src:G0,alt:"",className:"cursor-pointer",onClick:()=>y()}),Ee.jsxs("div",{className:"mt-[15%] text-4xl font-inria text-white w-[100%] px-[20px]",children:[Ee.jsx("div",{className:"hover:bg-black py-4 border-t-[3px] cursor-pointer",onClick:()=>e("/ClassSpace/CreateClass"),children:"Create Class"}),Ee.jsx("div",{className:"hover:bg-black py-4 border-t-[3px] border-b-[3px] cursor-pointer",children:"Join Class"})]}),Ee.jsx("img",{className:"mt-auto mr-4 mb-8 cursor-pointer",onClick:()=>_(),src:mk,alt:""})]}),Ee.jsxs("div",{className:"w-[100%] h-[10%] relative flex items-center px-5",children:[Ee.jsx("img",{src:dk,alt:"menu",className:"cursor-pointer",onClick:()=>y()}),Ee.jsx("h1",{className:"absolute left-1/2 transform -translate-x-1/2 font-inria text-white text-4xl font-bold",children:"Chats"})]}),Ee.jsx("div",{className:" w-[100%] h-[100%] overflow-y-auto",children:Ee.jsx("div",{className:"",children:l.map(T=>{const A=T.data();return Ee.jsxs("div",{className:"borderflex items-center justif-center h-[70px]",children:[Ee.jsx("input",{id:`class-${A.classID}`,name:"currentClass",type:"radio",className:"opacity-0 absolute peer"}),Ee.jsxs("label",{htmlFor:`class-${A.classID}`,className:"gap-2 px-4 flex items-center justify-start h-[100%] w-[100%] flex peer-checked:bg-black",children:[Ee.jsx("img",{className:"h-[80%]",src:gk,alt:""}),Ee.jsx("h1",{className:"text-4xl text-white",children:A.className})]})]},A.classID)})})})]}),Ee.jsxs("div",{className:"w-[70vw] h-[90vh] bg-[#1A1A1D]",children:[Ee.jsxs("div",{className:"w-[100%] h-[10vh] bg-[#3B1C32] flex items-center relative justify-end px-5",children:[Ee.jsx("h1",{className:"font-inria text-white text-4xl font-bold absolute left-1/2 transform -translate-x-1/2",children:"Science"}),Ee.jsx("img",{className:"cursor-pointer h-[50%]",src:hk,alt:""})]}),Ee.jsx("div",{className:"overflow-y-auto w-[100%] h-[72vh] ",children:Ee.jsx("div",{})}),Ee.jsxs("div",{className:"bg-[#3B222E] w-[100%] h-[8vh] flex justify-between px-10 items-center",children:[Ee.jsx("img",{className:"h-[70%]",src:fk,alt:""}),Ee.jsx("input",{className:"w-[85%] h-[70%] rounded-full bg-[#1A1A1D] text-white px-6 font-inria text-2xl focus:outline-none",type:"text"}),Ee.jsx("img",{className:"h-[70%]",src:pk,alt:""})]})]})]})]})}function Ik(){const n=new wp,[e,t]=$.useState(n.get("auth-token"));return e?Ee.jsx(Tk,{setLogin:t}):Ee.jsx(uk,{setLogin:t})}function Ak(){const n=If(),[e,t]=$.useState(""),i=async()=>{const o=()=>Math.random().toString(36).substring(2,10),l=Hs(Ws,"users"),h=nl(l,rl("uid","==",Zi.currentUser.uid)),p=(await Go(h)).docs[0].id,y=df(Ws,"users",p),_=Hs(y,"classJoined"),T=Hs(Ws,"class");let A=o();for(;;){const M=nl(T,rl("roomID","==",A));if((await Go(M)).empty)break;A=o()}const S={className:e,createdAt:rc(),classID:A,ownerID:Zi.currentUser.uid,ownerName:Zi.currentUser.displayName},L={className:e,classID:A,dateJoined:rc()},O={name:Zi.currentUser.displayName,photo:Zi.currentUser.photoURL,uid:Zi.currentUser.uid,dateJoined:rc()};try{await nc(T,S),await nc(_,L);const M=nl(T,rl("classID","==",A)),q=await Go(M);console.log(q);const Y=q.docs[0].id,ee=df(Ws,"class",Y),oe=Hs(ee,"classMembers");await nc(oe,O),alert("Successfully created class!"),n("/ClassSpace/")}catch(M){console.log(M)}};return Ee.jsx("div",{className:"text-white font-inria planets-bg w-screen h-screen flex items-center justify-center",children:Ee.jsxs("div",{className:"py-[50px] min-h-[450px] aspect-square  h-[60%] bg-[#1A1A1D] rounded-[20px]",children:[Ee.jsxs("div",{className:"h-[12%] flex items-center justify-between px-10 pt-2",children:[Ee.jsx("h1",{className:"text-[50px] font-bold",children:"Create Class"}),Ee.jsx("img",{className:"cursor-pointer",src:G0,alt:"",onClick:()=>n("/ClassSpace/")})]}),Ee.jsx("div",{className:" h-[70%] flex justify-center items-center flex-col text-left",children:Ee.jsxs("div",{className:"w-[80%]",children:[Ee.jsx("h1",{className:"font-bold text-4xl",children:"Class Name:"}),Ee.jsx("input",{onChange:o=>t(o.target.value),className:"w-[100%] rounded-[10px] bg-[#3B1C32] h-[65px] px-2 text-3xl focus:outline-none",type:"text",name:"",id:""})]})}),Ee.jsx("div",{className:"h-[18%] w-[100%] flex items-start justify-center",children:Ee.jsx("button",{onClick:()=>i(),className:"bg-[#915472] px-8 py-5 rounded-[20px] text-3xl hover:scale-[1.2] transition-scale duration-300",children:"Create Class"})})]})})}function Sk(){const n=WT([{path:"/ClassSpace/",element:Ee.jsx(Ik,{}),errorElement:Ee.jsx(sI,{})},{path:"/ClassSpace/CreateClass",element:Ee.jsx(Ak,{})}]);return Ee.jsx(iI,{router:n})}iE.createRoot(document.getElementById("root")).render(Ee.jsx($.StrictMode,{children:Ee.jsx(Sk,{})}));
