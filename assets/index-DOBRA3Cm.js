(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Ad={exports:{}},$a={},Sd={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function oE(){if(xg)return je;xg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function A(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,L={};function b(U,X,Ee){this.props=U,this.context=X,this.refs=L,this.updater=Ee||S}b.prototype.isReactComponent={},b.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function q(){}q.prototype=b.prototype;function Y(U,X,Ee){this.props=U,this.context=X,this.refs=L,this.updater=Ee||S}var Z=Y.prototype=new q;Z.constructor=Y,N(Z,b.prototype),Z.isPureReactComponent=!0;var oe=Array.isArray,F=Object.prototype.hasOwnProperty,ce={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(U,X,Ee){var be,Le={},Be=null,Ze=null;if(X!=null)for(be in X.ref!==void 0&&(Ze=X.ref),X.key!==void 0&&(Be=""+X.key),X)F.call(X,be)&&!k.hasOwnProperty(be)&&(Le[be]=X[be]);var et=arguments.length-2;if(et===1)Le.children=Ee;else if(1<et){for(var Ue=Array(et),ft=0;ft<et;ft++)Ue[ft]=arguments[ft+2];Le.children=Ue}if(U&&U.defaultProps)for(be in et=U.defaultProps,et)Le[be]===void 0&&(Le[be]=et[be]);return{$$typeof:n,type:U,key:Be,ref:Ze,props:Le,_owner:ce.current}}function R(U,X){return{$$typeof:n,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function x(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Ee){return X[Ee]})}var B=/\/+/g;function P(U,X){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):X.toString(36)}function ht(U,X,Ee,be,Le){var Be=typeof U;(Be==="undefined"||Be==="boolean")&&(U=null);var Ze=!1;if(U===null)Ze=!0;else switch(Be){case"string":case"number":Ze=!0;break;case"object":switch(U.$$typeof){case n:case e:Ze=!0}}if(Ze)return Ze=U,Le=Le(Ze),U=be===""?"."+P(Ze,0):be,oe(Le)?(Ee="",U!=null&&(Ee=U.replace(B,"$&/")+"/"),ht(Le,X,Ee,"",function(ft){return ft})):Le!=null&&(x(Le)&&(Le=R(Le,Ee+(!Le.key||Ze&&Ze.key===Le.key?"":(""+Le.key).replace(B,"$&/")+"/")+U)),X.push(Le)),1;if(Ze=0,be=be===""?".":be+":",oe(U))for(var et=0;et<U.length;et++){Be=U[et];var Ue=be+P(Be,et);Ze+=ht(Be,X,Ee,Ue,Le)}else if(Ue=A(U),typeof Ue=="function")for(U=Ue.call(U),et=0;!(Be=U.next()).done;)Be=Be.value,Ue=be+P(Be,et++),Ze+=ht(Be,X,Ee,Ue,Le);else if(Be==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ze}function $e(U,X,Ee){if(U==null)return U;var be=[],Le=0;return ht(U,be,"","",function(Be){return X.call(Ee,Be,Le++)}),be}function Ct(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(Ee){(U._status===0||U._status===-1)&&(U._status=1,U._result=Ee)},function(Ee){(U._status===0||U._status===-1)&&(U._status=2,U._result=Ee)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var Qe={current:null},ae={transition:null},Ie={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:ae,ReactCurrentOwner:ce};function de(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:$e,forEach:function(U,X,Ee){$e(U,function(){X.apply(this,arguments)},Ee)},count:function(U){var X=0;return $e(U,function(){X++}),X},toArray:function(U){return $e(U,function(X){return X})||[]},only:function(U){if(!x(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},je.Component=b,je.Fragment=t,je.Profiler=o,je.PureComponent=Y,je.StrictMode=i,je.Suspense=p,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ie,je.act=de,je.cloneElement=function(U,X,Ee){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var be=N({},U.props),Le=U.key,Be=U.ref,Ze=U._owner;if(X!=null){if(X.ref!==void 0&&(Be=X.ref,Ze=ce.current),X.key!==void 0&&(Le=""+X.key),U.type&&U.type.defaultProps)var et=U.type.defaultProps;for(Ue in X)F.call(X,Ue)&&!k.hasOwnProperty(Ue)&&(be[Ue]=X[Ue]===void 0&&et!==void 0?et[Ue]:X[Ue])}var Ue=arguments.length-2;if(Ue===1)be.children=Ee;else if(1<Ue){et=Array(Ue);for(var ft=0;ft<Ue;ft++)et[ft]=arguments[ft+2];be.children=et}return{$$typeof:n,type:U.type,key:Le,ref:Be,props:be,_owner:Ze}},je.createContext=function(U){return U={$$typeof:h,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:l,_context:U},U.Consumer=U},je.createElement=I,je.createFactory=function(U){var X=I.bind(null,U);return X.type=U,X},je.createRef=function(){return{current:null}},je.forwardRef=function(U){return{$$typeof:d,render:U}},je.isValidElement=x,je.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:Ct}},je.memo=function(U,X){return{$$typeof:y,type:U,compare:X===void 0?null:X}},je.startTransition=function(U){var X=ae.transition;ae.transition={};try{U()}finally{ae.transition=X}},je.unstable_act=de,je.useCallback=function(U,X){return Qe.current.useCallback(U,X)},je.useContext=function(U){return Qe.current.useContext(U)},je.useDebugValue=function(){},je.useDeferredValue=function(U){return Qe.current.useDeferredValue(U)},je.useEffect=function(U,X){return Qe.current.useEffect(U,X)},je.useId=function(){return Qe.current.useId()},je.useImperativeHandle=function(U,X,Ee){return Qe.current.useImperativeHandle(U,X,Ee)},je.useInsertionEffect=function(U,X){return Qe.current.useInsertionEffect(U,X)},je.useLayoutEffect=function(U,X){return Qe.current.useLayoutEffect(U,X)},je.useMemo=function(U,X){return Qe.current.useMemo(U,X)},je.useReducer=function(U,X,Ee){return Qe.current.useReducer(U,X,Ee)},je.useRef=function(U){return Qe.current.useRef(U)},je.useState=function(U){return Qe.current.useState(U)},je.useSyncExternalStore=function(U,X,Ee){return Qe.current.useSyncExternalStore(U,X,Ee)},je.useTransition=function(){return Qe.current.useTransition()},je.version="18.3.1",je}var Ng;function vf(){return Ng||(Ng=1,Sd.exports=oE()),Sd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function aE(){if(Dg)return $a;Dg=1;var n=vf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(d,p,y){var _,T={},A=null,S=null;y!==void 0&&(A=""+y),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(S=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(T[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)T[_]===void 0&&(T[_]=p[_]);return{$$typeof:e,type:d,key:A,ref:S,props:T,_owner:o.current}}return $a.Fragment=t,$a.jsx=h,$a.jsxs=h,$a}var Lg;function lE(){return Lg||(Lg=1,Ad.exports=aE()),Ad.exports}var he=lE(),K=vf(),Bu={},Rd={exports:{}},xn={},Cd={exports:{}},Pd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function uE(){return Og||(Og=1,function(n){function e(ae,Ie){var de=ae.length;ae.push(Ie);e:for(;0<de;){var U=de-1>>>1,X=ae[U];if(0<o(X,Ie))ae[U]=Ie,ae[de]=X,de=U;else break e}}function t(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var Ie=ae[0],de=ae.pop();if(de!==Ie){ae[0]=de;e:for(var U=0,X=ae.length,Ee=X>>>1;U<Ee;){var be=2*(U+1)-1,Le=ae[be],Be=be+1,Ze=ae[Be];if(0>o(Le,de))Be<X&&0>o(Ze,Le)?(ae[U]=Ze,ae[Be]=de,U=Be):(ae[U]=Le,ae[be]=de,U=be);else if(Be<X&&0>o(Ze,de))ae[U]=Ze,ae[Be]=de,U=Be;else break e}}return Ie}function o(ae,Ie){var de=ae.sortIndex-Ie.sortIndex;return de!==0?de:ae.id-Ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var p=[],y=[],_=1,T=null,A=3,S=!1,N=!1,L=!1,b=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(ae){for(var Ie=t(y);Ie!==null;){if(Ie.callback===null)i(y);else if(Ie.startTime<=ae)i(y),Ie.sortIndex=Ie.expirationTime,e(p,Ie);else break;Ie=t(y)}}function oe(ae){if(L=!1,Z(ae),!N)if(t(p)!==null)N=!0,Ct(F);else{var Ie=t(y);Ie!==null&&Qe(oe,Ie.startTime-ae)}}function F(ae,Ie){N=!1,L&&(L=!1,q(I),I=-1),S=!0;var de=A;try{for(Z(Ie),T=t(p);T!==null&&(!(T.expirationTime>Ie)||ae&&!V());){var U=T.callback;if(typeof U=="function"){T.callback=null,A=T.priorityLevel;var X=U(T.expirationTime<=Ie);Ie=n.unstable_now(),typeof X=="function"?T.callback=X:T===t(p)&&i(p),Z(Ie)}else i(p);T=t(p)}if(T!==null)var Ee=!0;else{var be=t(y);be!==null&&Qe(oe,be.startTime-Ie),Ee=!1}return Ee}finally{T=null,A=de,S=!1}}var ce=!1,k=null,I=-1,R=5,x=-1;function V(){return!(n.unstable_now()-x<R)}function B(){if(k!==null){var ae=n.unstable_now();x=ae;var Ie=!0;try{Ie=k(!0,ae)}finally{Ie?P():(ce=!1,k=null)}}else ce=!1}var P;if(typeof Y=="function")P=function(){Y(B)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,$e=ht.port2;ht.port1.onmessage=B,P=function(){$e.postMessage(null)}}else P=function(){b(B,0)};function Ct(ae){k=ae,ce||(ce=!0,P())}function Qe(ae,Ie){I=b(function(){ae(n.unstable_now())},Ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){N||S||(N=!0,Ct(F))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ae){switch(A){case 1:case 2:case 3:var Ie=3;break;default:Ie=A}var de=A;A=Ie;try{return ae()}finally{A=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,Ie){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var de=A;A=ae;try{return Ie()}finally{A=de}},n.unstable_scheduleCallback=function(ae,Ie,de){var U=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?U+de:U):de=U,ae){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=de+X,ae={id:_++,callback:Ie,priorityLevel:ae,startTime:de,expirationTime:X,sortIndex:-1},de>U?(ae.sortIndex=de,e(y,ae),t(p)===null&&ae===t(y)&&(L?(q(I),I=-1):L=!0,Qe(oe,de-U))):(ae.sortIndex=X,e(p,ae),N||S||(N=!0,Ct(F))),ae},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(ae){var Ie=A;return function(){var de=A;A=Ie;try{return ae.apply(this,arguments)}finally{A=de}}}}(Pd)),Pd}var Vg;function cE(){return Vg||(Vg=1,Cd.exports=uE()),Cd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function hE(){if(bg)return xn;bg=1;var n=vf(),e=cE();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){h(r,s),h(r+"Capture",s)}function h(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},T={};function A(r){return p.call(T,r)?!0:p.call(_,r)?!1:y.test(r)?T[r]=!0:(_[r]=!0,!1)}function S(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function N(r,s,a,c){if(s===null||typeof s>"u"||S(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function L(r,s,a,c,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new L(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];b[s]=new L(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new L(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new L(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new L(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new L(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new L(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new L(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new L(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function Y(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(q,Y);b[s]=new L(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(q,Y);b[s]=new L(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(q,Y);b[s]=new L(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new L(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new L(r,1,!1,r.toLowerCase(),null,!0,!0)});function Z(r,s,a,c){var f=b.hasOwnProperty(s)?b[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(N(s,a,f,c)&&(a=null),c||f===null?A(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,c=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var oe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),ce=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Qe=Symbol.for("react.offscreen"),ae=Symbol.iterator;function Ie(r){return r===null||typeof r!="object"?null:(r=ae&&r[ae]||r["@@iterator"],typeof r=="function"?r:null)}var de=Object.assign,U;function X(r){if(U===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+r}var Ee=!1;function be(r,s){if(!r||Ee)return"";Ee=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var c=G}Reflect.construct(r,[],s)}else{try{s.call()}catch(G){c=G}r.call(s.prototype)}else{try{throw Error()}catch(G){c=G}r()}}catch(G){if(G&&c&&typeof G.stack=="string"){for(var f=G.stack.split(`
`),g=c.stack.split(`
`),w=f.length-1,C=g.length-1;1<=w&&0<=C&&f[w]!==g[C];)C--;for(;1<=w&&0<=C;w--,C--)if(f[w]!==g[C]){if(w!==1||C!==1)do if(w--,C--,0>C||f[w]!==g[C]){var D=`
`+f[w].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=w&&0<=C);break}}}finally{Ee=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?X(r):""}function Le(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=be(r.type,!1),r;case 11:return r=be(r.type.render,!1),r;case 1:return r=be(r.type,!0),r;default:return""}}function Be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case ce:return"Portal";case R:return"Profiler";case I:return"StrictMode";case P:return"Suspense";case ht:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case B:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case $e:return s=r.displayName||null,s!==null?s:Be(r.type)||"Memo";case Ct:s=r._payload,r=r._init;try{return Be(r(s))}catch{}}return null}function Ze(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function et(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ue(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ft(r){var s=Ue(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Hn(r){r._valueTracker||(r._valueTracker=ft(r))}function Ri(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=Ue(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function nn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Kr(r,s){var a=s.checked;return de({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ci(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=et(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Pi(r,s){s=s.checked,s!=null&&Z(r,"checked",s,!1)}function Ts(r,s){Pi(r,s);var a=et(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ki(r,s.type,a):s.hasOwnProperty("defaultValue")&&ki(r,s.type,et(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function oo(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function ki(r,s,a){(s!=="number"||nn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var tr=Array.isArray;function qt(r,s,a,c){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&c&&(r[a].defaultSelected=!0)}else{for(a=""+et(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function nr(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function $r(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(tr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:et(a)}}function Rr(r,s){var a=et(s.value),c=et(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function wn(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function lt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function At(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?lt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Dn,Is=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Dn=Dn||document.createElement("div"),Dn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Dn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Wt(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pr=["Webkit","ms","Moz","O"];Object.keys(Cr).forEach(function(r){Pr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Cr[s]=Cr[r]})});function xi(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Cr.hasOwnProperty(r)&&Cr[r]?(""+s).trim():s+"px"}function As(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=xi(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,f):r[a]=f}}var Ni=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kr(r,s){if(s){if(Ni[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Di(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rr=null;function Li(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Qr=null,En=null,Ln=null;function ir(r){if(r=La(r)){if(typeof Qr!="function")throw Error(t(280));var s=r.stateNode;s&&(s=nu(s),Qr(r.stateNode,r.type,s))}}function mn(r){En?Ln?Ln.push(r):Ln=[r]:En=r}function Ss(){if(En){var r=En,s=Ln;if(Ln=En=null,ir(r),s)for(r=0;r<s.length;r++)ir(s[r])}}function Yr(r,s){return r(s)}function O(){}var j=!1;function $(r,s,a){if(j)return r(s,a);j=!0;try{return Yr(r,s,a)}finally{j=!1,(En!==null||Ln!==null)&&(O(),Ss())}}function J(r,s){var a=r.stateNode;if(a===null)return null;var c=nu(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var fe=!1;if(d)try{var ye={};Object.defineProperty(ye,"passive",{get:function(){fe=!0}}),window.addEventListener("test",ye,ye),window.removeEventListener("test",ye,ye)}catch{fe=!1}function Ce(r,s,a,c,f,g,w,C,D){var G=Array.prototype.slice.call(arguments,3);try{s.apply(a,G)}catch(re){this.onError(re)}}var pe=!1,_e=null,le=!1,xe=null,Fe={onError:function(r){pe=!0,_e=r}};function it(r,s,a,c,f,g,w,C,D){pe=!1,_e=null,Ce.apply(Fe,arguments)}function St(r,s,a,c,f,g,w,C,D){if(it.apply(this,arguments),pe){if(pe){var G=_e;pe=!1,_e=null}else throw Error(t(198));le||(le=!0,xe=G)}}function qe(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function tt(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function st(r){if(qe(r)!==r)throw Error(t(188))}function sr(r){var s=r.alternate;if(!s){if(s=qe(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return st(f),r;if(g===c)return st(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=g;else{for(var w=!1,C=f.child;C;){if(C===a){w=!0,a=f,c=g;break}if(C===c){w=!0,c=f,a=g;break}C=C.sibling}if(!w){for(C=g.child;C;){if(C===a){w=!0,a=g,c=f;break}if(C===c){w=!0,c=g,a=f;break}C=C.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function or(r){return r=sr(r),r!==null?rn(r):null}function rn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=rn(r);if(s!==null)return s;r=r.sibling}return null}var Gt=e.unstable_scheduleCallback,Xr=e.unstable_cancelCallback,xr=e.unstable_shouldYield,ar=e.unstable_requestPaint,ot=e.unstable_now,Jr=e.unstable_getCurrentPriorityLevel,Ye=e.unstable_ImmediatePriority,pt=e.unstable_UserBlockingPriority,Kt=e.unstable_NormalPriority,lr=e.unstable_LowPriority,mt=e.unstable_IdlePriority,Tn=null,sn=null;function ao(r){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Tn,r,void 0,(r.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:Ol,ya=Math.log,Ll=Math.LN2;function Ol(r){return r>>>=0,r===0?32:31-(ya(r)/Ll|0)|0}var lo=64,uo=4194304;function Oi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Rs(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,f=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var C=w&~f;C!==0?c=Oi(C):(g&=w,g!==0&&(c=Oi(g)))}else w=a&~f,w!==0?c=Oi(w):g!==0&&(c=Oi(g));if(c===0)return 0;if(s!==0&&s!==c&&!(s&f)&&(f=c&-c,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(c&4&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-gn(s),f=1<<a,c|=r[a],s&=~f;return c}function eh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-gn(g),C=1<<w,D=f[w];D===-1?(!(C&a)||C&c)&&(f[w]=eh(C,s)):D<=s&&(r.expiredLanes|=C),g&=~C}}function On(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Cs(){var r=lo;return lo<<=1,!(lo&4194240)&&(lo=64),r}function Vi(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function bi(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-gn(s),r[s]=a}function ct(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-gn(a),g=1<<f;s[f]=0,c[f]=-1,r[f]=-1,a&=~g}}function Mi(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-gn(a),f=1<<c;f&s|r[c]&s&&(r[c]|=s),a&=~f}}var We=0;function Ui(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Vl,co,bl,Ml,Ul,va=!1,Nr=[],$t=null,ur=null,cr=null,Fi=new Map,qn=new Map,Dr=[],th="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fl(r,s){switch(r){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Fi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":qn.delete(s.pointerId)}}function In(r,s,a,c,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},s!==null&&(s=La(s),s!==null&&co(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function nh(r,s,a,c,f){switch(s){case"focusin":return $t=In($t,r,s,a,c,f),!0;case"dragenter":return ur=In(ur,r,s,a,c,f),!0;case"mouseover":return cr=In(cr,r,s,a,c,f),!0;case"pointerover":var g=f.pointerId;return Fi.set(g,In(Fi.get(g)||null,r,s,a,c,f)),!0;case"gotpointercapture":return g=f.pointerId,qn.set(g,In(qn.get(g)||null,r,s,a,c,f)),!0}return!1}function jl(r){var s=Ds(r.target);if(s!==null){var a=qe(s);if(a!==null){if(s=a.tag,s===13){if(s=tt(a),s!==null){r.blockedOn=s,Ul(r.priority,function(){bl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ei(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=ho(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);rr=c,a.target.dispatchEvent(c),rr=null}else return s=La(a),s!==null&&co(s),r.blockedOn=a,!1;s.shift()}return!0}function Ps(r,s,a){ei(r)&&a.delete(s)}function Bl(){va=!1,$t!==null&&ei($t)&&($t=null),ur!==null&&ei(ur)&&(ur=null),cr!==null&&ei(cr)&&(cr=null),Fi.forEach(Ps),qn.forEach(Ps)}function hr(r,s){r.blockedOn===s&&(r.blockedOn=null,va||(va=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bl)))}function dr(r){function s(f){return hr(f,r)}if(0<Nr.length){hr(Nr[0],r);for(var a=1;a<Nr.length;a++){var c=Nr[a];c.blockedOn===r&&(c.blockedOn=null)}}for($t!==null&&hr($t,r),ur!==null&&hr(ur,r),cr!==null&&hr(cr,r),Fi.forEach(s),qn.forEach(s),a=0;a<Dr.length;a++)c=Dr[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<Dr.length&&(a=Dr[0],a.blockedOn===null);)jl(a),a.blockedOn===null&&Dr.shift()}var ti=oe.ReactCurrentBatchConfig,ji=!0;function _t(r,s,a,c){var f=We,g=ti.transition;ti.transition=null;try{We=1,_a(r,s,a,c)}finally{We=f,ti.transition=g}}function rh(r,s,a,c){var f=We,g=ti.transition;ti.transition=null;try{We=4,_a(r,s,a,c)}finally{We=f,ti.transition=g}}function _a(r,s,a,c){if(ji){var f=ho(r,s,a,c);if(f===null)ph(r,s,c,ks,a),Fl(r,c);else if(nh(f,r,s,a,c))c.stopPropagation();else if(Fl(r,c),s&4&&-1<th.indexOf(r)){for(;f!==null;){var g=La(f);if(g!==null&&Vl(g),g=ho(r,s,a,c),g===null&&ph(r,s,c,ks,a),g===f)break;f=g}f!==null&&c.stopPropagation()}else ph(r,s,c,null,a)}}var ks=null;function ho(r,s,a,c){if(ks=null,r=Li(c),r=Ds(r),r!==null)if(s=qe(r),s===null)r=null;else if(a=s.tag,a===13){if(r=tt(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ks=r,null}function wa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jr()){case Ye:return 1;case pt:return 4;case Kt:case lr:return 16;case mt:return 536870912;default:return 16}default:return 16}}var Vn=null,fo=null,An=null;function Ea(){if(An)return An;var r,s=fo,a=s.length,c,f="value"in Vn?Vn.value:Vn.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var w=a-r;for(c=1;c<=w&&s[a-c]===f[g-c];c++);return An=f.slice(r,1<c?1-c:void 0)}function po(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Lr(){return!0}function Ta(){return!1}function Qt(r){function s(a,c,f,g,w){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Lr:Ta,this.isPropagationStopped=Ta,this}return de(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),s}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Qt(fr),Or=de({},fr,{view:0,detail:0}),ih=Qt(Or),go,ni,Bi,xs=de({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Bi&&(Bi&&r.type==="mousemove"?(go=r.screenX-Bi.screenX,ni=r.screenY-Bi.screenY):ni=go=0,Bi=r),go)},movementY:function(r){return"movementY"in r?r.movementY:ni}}),yo=Qt(xs),Ia=de({},xs,{dataTransfer:0}),zl=Qt(Ia),vo=de({},Or,{relatedTarget:0}),_o=Qt(vo),Hl=de({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),ri=Qt(Hl),ql=de({},fr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Wl=Qt(ql),Gl=de({},fr,{data:0}),Aa=Qt(Gl),wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $l(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Kl[r])?!!s[r]:!1}function Vr(){return $l}var u=de({},Or,{key:function(r){if(r.key){var s=wo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=po(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?yn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(r){return r.type==="keypress"?po(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?po(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Qt(u),v=de({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Qt(v),z=de({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),Q=Qt(z),ue=de({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ut=Qt(ue),Ot=de({},xs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Xe=Qt(Ot),Ft=[9,13,27,32],xt=d&&"CompositionEvent"in window,Wn=null;d&&"documentMode"in document&&(Wn=document.documentMode);var bn=d&&"TextEvent"in window&&!Wn,Ns=d&&(!xt||Wn&&8<Wn&&11>=Wn),Eo=" ",Ap=!1;function Sp(r,s){switch(r){case"keyup":return Ft.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var To=!1;function rw(r,s){switch(r){case"compositionend":return Rp(s);case"keypress":return s.which!==32?null:(Ap=!0,Eo);case"textInput":return r=s.data,r===Eo&&Ap?null:r;default:return null}}function iw(r,s){if(To)return r==="compositionend"||!xt&&Sp(r,s)?(r=Ea(),An=fo=Vn=null,To=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ns&&s.locale!=="ko"?null:s.data;default:return null}}var sw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!sw[r.type]:s==="textarea"}function Pp(r,s,a,c){mn(c),s=Zl(s,"onChange"),0<s.length&&(a=new mo("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Sa=null,Ra=null;function ow(r){Gp(r,0)}function Ql(r){var s=Co(r);if(Ri(s))return r}function aw(r,s){if(r==="change")return s}var kp=!1;if(d){var sh;if(d){var oh="oninput"in document;if(!oh){var xp=document.createElement("div");xp.setAttribute("oninput","return;"),oh=typeof xp.oninput=="function"}sh=oh}else sh=!1;kp=sh&&(!document.documentMode||9<document.documentMode)}function Np(){Sa&&(Sa.detachEvent("onpropertychange",Dp),Ra=Sa=null)}function Dp(r){if(r.propertyName==="value"&&Ql(Ra)){var s=[];Pp(s,Ra,r,Li(r)),$(ow,s)}}function lw(r,s,a){r==="focusin"?(Np(),Sa=s,Ra=a,Sa.attachEvent("onpropertychange",Dp)):r==="focusout"&&Np()}function uw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ql(Ra)}function cw(r,s){if(r==="click")return Ql(s)}function hw(r,s){if(r==="input"||r==="change")return Ql(s)}function dw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var pr=typeof Object.is=="function"?Object.is:dw;function Ca(r,s){if(pr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!p.call(s,f)||!pr(r[f],s[f]))return!1}return!0}function Lp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Op(r,s){var a=Lp(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Lp(a)}}function Vp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Vp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function bp(){for(var r=window,s=nn();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=nn(r.document)}return s}function ah(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function fw(r){var s=bp(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Vp(a.ownerDocument.documentElement,a)){if(c!==null&&ah(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!r.extend&&g>c&&(f=c,c=g,g=f),f=Op(a,g);var w=Op(a,c);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var pw=d&&"documentMode"in document&&11>=document.documentMode,Io=null,lh=null,Pa=null,uh=!1;function Mp(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uh||Io==null||Io!==nn(c)||(c=Io,"selectionStart"in c&&ah(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Pa&&Ca(Pa,c)||(Pa=c,c=Zl(lh,"onSelect"),0<c.length&&(s=new mo("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=Io)))}function Yl(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Ao={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionend:Yl("Transition","TransitionEnd")},ch={},Up={};d&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Xl(r){if(ch[r])return ch[r];if(!Ao[r])return r;var s=Ao[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Up)return ch[r]=s[a];return r}var Fp=Xl("animationend"),jp=Xl("animationiteration"),Bp=Xl("animationstart"),zp=Xl("transitionend"),Hp=new Map,qp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(r,s){Hp.set(r,s),l(s,[r])}for(var hh=0;hh<qp.length;hh++){var dh=qp[hh],mw=dh.toLowerCase(),gw=dh[0].toUpperCase()+dh.slice(1);zi(mw,"on"+gw)}zi(Fp,"onAnimationEnd"),zi(jp,"onAnimationIteration"),zi(Bp,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(zp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ka));function Wp(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,St(c,s,void 0,r),r.currentTarget=null}function Gp(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],f=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var C=c[w],D=C.instance,G=C.currentTarget;if(C=C.listener,D!==g&&f.isPropagationStopped())break e;Wp(f,C,G),g=D}else for(w=0;w<c.length;w++){if(C=c[w],D=C.instance,G=C.currentTarget,C=C.listener,D!==g&&f.isPropagationStopped())break e;Wp(f,C,G),g=D}}}if(le)throw r=xe,le=!1,xe=null,r}function gt(r,s){var a=s[wh];a===void 0&&(a=s[wh]=new Set);var c=r+"__bubble";a.has(c)||(Kp(s,r,2,!1),a.add(c))}function fh(r,s,a){var c=0;s&&(c|=4),Kp(a,r,c,s)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function xa(r){if(!r[Jl]){r[Jl]=!0,i.forEach(function(a){a!=="selectionchange"&&(yw.has(a)||fh(a,!1,r),fh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Jl]||(s[Jl]=!0,fh("selectionchange",!1,s))}}function Kp(r,s,a,c){switch(wa(s)){case 1:var f=_t;break;case 4:f=rh;break;default:f=_a}a=f.bind(null,s,a,r),f=void 0,!fe||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function ph(r,s,a,c,f){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var C=c.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(w===4)for(w=c.return;w!==null;){var D=w.tag;if((D===3||D===4)&&(D=w.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;w=w.return}for(;C!==null;){if(w=Ds(C),w===null)return;if(D=w.tag,D===5||D===6){c=g=w;continue e}C=C.parentNode}}c=c.return}$(function(){var G=g,re=Li(a),ie=[];e:{var ne=Hp.get(r);if(ne!==void 0){var me=mo,Te=r;switch(r){case"keypress":if(po(a)===0)break e;case"keydown":case"keyup":me=m;break;case"focusin":Te="focus",me=_o;break;case"focusout":Te="blur",me=_o;break;case"beforeblur":case"afterblur":me=_o;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=zl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Q;break;case Fp:case jp:case Bp:me=ri;break;case zp:me=ut;break;case"scroll":me=ih;break;case"wheel":me=Xe;break;case"copy":case"cut":case"paste":me=Wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=E}var Ae=(s&4)!==0,Pt=!Ae&&r==="scroll",H=Ae?ne!==null?ne+"Capture":null:ne;Ae=[];for(var M=G,W;M!==null;){W=M;var se=W.stateNode;if(W.tag===5&&se!==null&&(W=se,H!==null&&(se=J(M,H),se!=null&&Ae.push(Na(M,se,W)))),Pt)break;M=M.return}0<Ae.length&&(ne=new me(ne,Te,null,a,re),ie.push({event:ne,listeners:Ae}))}}if(!(s&7)){e:{if(ne=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",ne&&a!==rr&&(Te=a.relatedTarget||a.fromElement)&&(Ds(Te)||Te[ii]))break e;if((me||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,me?(Te=a.relatedTarget||a.toElement,me=G,Te=Te?Ds(Te):null,Te!==null&&(Pt=qe(Te),Te!==Pt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(me=null,Te=G),me!==Te)){if(Ae=yo,se="onMouseLeave",H="onMouseEnter",M="mouse",(r==="pointerout"||r==="pointerover")&&(Ae=E,se="onPointerLeave",H="onPointerEnter",M="pointer"),Pt=me==null?ne:Co(me),W=Te==null?ne:Co(Te),ne=new Ae(se,M+"leave",me,a,re),ne.target=Pt,ne.relatedTarget=W,se=null,Ds(re)===G&&(Ae=new Ae(H,M+"enter",Te,a,re),Ae.target=W,Ae.relatedTarget=Pt,se=Ae),Pt=se,me&&Te)t:{for(Ae=me,H=Te,M=0,W=Ae;W;W=So(W))M++;for(W=0,se=H;se;se=So(se))W++;for(;0<M-W;)Ae=So(Ae),M--;for(;0<W-M;)H=So(H),W--;for(;M--;){if(Ae===H||H!==null&&Ae===H.alternate)break t;Ae=So(Ae),H=So(H)}Ae=null}else Ae=null;me!==null&&$p(ie,ne,me,Ae,!1),Te!==null&&Pt!==null&&$p(ie,Pt,Te,Ae,!0)}}e:{if(ne=G?Co(G):window,me=ne.nodeName&&ne.nodeName.toLowerCase(),me==="select"||me==="input"&&ne.type==="file")var Se=aw;else if(Cp(ne))if(kp)Se=hw;else{Se=uw;var Pe=lw}else(me=ne.nodeName)&&me.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Se=cw);if(Se&&(Se=Se(r,G))){Pp(ie,Se,a,re);break e}Pe&&Pe(r,ne,G),r==="focusout"&&(Pe=ne._wrapperState)&&Pe.controlled&&ne.type==="number"&&ki(ne,"number",ne.value)}switch(Pe=G?Co(G):window,r){case"focusin":(Cp(Pe)||Pe.contentEditable==="true")&&(Io=Pe,lh=G,Pa=null);break;case"focusout":Pa=lh=Io=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,Mp(ie,a,re);break;case"selectionchange":if(pw)break;case"keydown":case"keyup":Mp(ie,a,re)}var ke;if(xt)e:{switch(r){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else To?Sp(r,a)&&(Ne="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(Ns&&a.locale!=="ko"&&(To||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&To&&(ke=Ea()):(Vn=re,fo="value"in Vn?Vn.value:Vn.textContent,To=!0)),Pe=Zl(G,Ne),0<Pe.length&&(Ne=new Aa(Ne,r,null,a,re),ie.push({event:Ne,listeners:Pe}),ke?Ne.data=ke:(ke=Rp(a),ke!==null&&(Ne.data=ke)))),(ke=bn?rw(r,a):iw(r,a))&&(G=Zl(G,"onBeforeInput"),0<G.length&&(re=new Aa("onBeforeInput","beforeinput",null,a,re),ie.push({event:re,listeners:G}),re.data=ke))}Gp(ie,s)})}function Na(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Zl(r,s){for(var a=s+"Capture",c=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=J(r,a),g!=null&&c.unshift(Na(r,g,f)),g=J(r,s),g!=null&&c.push(Na(r,g,f))),r=r.return}return c}function So(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function $p(r,s,a,c,f){for(var g=s._reactName,w=[];a!==null&&a!==c;){var C=a,D=C.alternate,G=C.stateNode;if(D!==null&&D===c)break;C.tag===5&&G!==null&&(C=G,f?(D=J(a,g),D!=null&&w.unshift(Na(a,D,C))):f||(D=J(a,g),D!=null&&w.push(Na(a,D,C)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var vw=/\r\n?/g,_w=/\u0000|\uFFFD/g;function Qp(r){return(typeof r=="string"?r:""+r).replace(vw,`
`).replace(_w,"")}function eu(r,s,a){if(s=Qp(s),Qp(r)!==s&&a)throw Error(t(425))}function tu(){}var mh=null,gh=null;function yh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vh=typeof setTimeout=="function"?setTimeout:void 0,ww=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,Ew=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(r){return Yp.resolve(null).then(r).catch(Tw)}:vh;function Tw(r){setTimeout(function(){throw r})}function _h(r,s){var a=s,c=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){r.removeChild(f),dr(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);dr(s)}function Hi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Xp(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),br="__reactFiber$"+Ro,Da="__reactProps$"+Ro,ii="__reactContainer$"+Ro,wh="__reactEvents$"+Ro,Iw="__reactListeners$"+Ro,Aw="__reactHandles$"+Ro;function Ds(r){var s=r[br];if(s)return s;for(var a=r.parentNode;a;){if(s=a[ii]||a[br]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Xp(r);r!==null;){if(a=r[br])return a;r=Xp(r)}return s}r=a,a=r.parentNode}return null}function La(r){return r=r[br]||r[ii],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Co(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function nu(r){return r[Da]||null}var Eh=[],Po=-1;function qi(r){return{current:r}}function yt(r){0>Po||(r.current=Eh[Po],Eh[Po]=null,Po--)}function dt(r,s){Po++,Eh[Po]=r.current,r.current=s}var Wi={},on=qi(Wi),Sn=qi(!1),Ls=Wi;function ko(r,s){var a=r.type.contextTypes;if(!a)return Wi;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Rn(r){return r=r.childContextTypes,r!=null}function ru(){yt(Sn),yt(on)}function Jp(r,s,a){if(on.current!==Wi)throw Error(t(168));dt(on,s),dt(Sn,a)}function Zp(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(t(108,Ze(r)||"Unknown",f));return de({},a,c)}function iu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Wi,Ls=on.current,dt(on,r),dt(Sn,Sn.current),!0}function em(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=Zp(r,s,Ls),c.__reactInternalMemoizedMergedChildContext=r,yt(Sn),yt(on),dt(on,r)):yt(Sn),dt(Sn,a)}var si=null,su=!1,Th=!1;function tm(r){si===null?si=[r]:si.push(r)}function Sw(r){su=!0,tm(r)}function Gi(){if(!Th&&si!==null){Th=!0;var r=0,s=We;try{var a=si;for(We=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}si=null,su=!1}catch(f){throw si!==null&&(si=si.slice(r+1)),Gt(Ye,Gi),f}finally{We=s,Th=!1}}return null}var xo=[],No=0,ou=null,au=0,Gn=[],Kn=0,Os=null,oi=1,ai="";function Vs(r,s){xo[No++]=au,xo[No++]=ou,ou=r,au=s}function nm(r,s,a){Gn[Kn++]=oi,Gn[Kn++]=ai,Gn[Kn++]=Os,Os=r;var c=oi;r=ai;var f=32-gn(c)-1;c&=~(1<<f),a+=1;var g=32-gn(s)+f;if(30<g){var w=f-f%5;g=(c&(1<<w)-1).toString(32),c>>=w,f-=w,oi=1<<32-gn(s)+f|a<<f|c,ai=g+r}else oi=1<<g|a<<f|c,ai=r}function Ih(r){r.return!==null&&(Vs(r,1),nm(r,1,0))}function Ah(r){for(;r===ou;)ou=xo[--No],xo[No]=null,au=xo[--No],xo[No]=null;for(;r===Os;)Os=Gn[--Kn],Gn[Kn]=null,ai=Gn[--Kn],Gn[Kn]=null,oi=Gn[--Kn],Gn[Kn]=null}var Mn=null,Un=null,wt=!1,mr=null;function rm(r,s){var a=Xn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function im(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Mn=r,Un=Hi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Mn=r,Un=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Os!==null?{id:oi,overflow:ai}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Xn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Mn=r,Un=null,!0):!1;default:return!1}}function Sh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Rh(r){if(wt){var s=Un;if(s){var a=s;if(!im(r,s)){if(Sh(r))throw Error(t(418));s=Hi(a.nextSibling);var c=Mn;s&&im(r,s)?rm(c,a):(r.flags=r.flags&-4097|2,wt=!1,Mn=r)}}else{if(Sh(r))throw Error(t(418));r.flags=r.flags&-4097|2,wt=!1,Mn=r}}}function sm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Mn=r}function lu(r){if(r!==Mn)return!1;if(!wt)return sm(r),wt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!yh(r.type,r.memoizedProps)),s&&(s=Un)){if(Sh(r))throw om(),Error(t(418));for(;s;)rm(r,s),s=Hi(s.nextSibling)}if(sm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Un=Hi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Un=null}}else Un=Mn?Hi(r.stateNode.nextSibling):null;return!0}function om(){for(var r=Un;r;)r=Hi(r.nextSibling)}function Do(){Un=Mn=null,wt=!1}function Ch(r){mr===null?mr=[r]:mr.push(r)}var Rw=oe.ReactCurrentBatchConfig;function Oa(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var f=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var C=f.refs;w===null?delete C[g]:C[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function uu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function am(r){var s=r._init;return s(r._payload)}function lm(r){function s(H,M){if(r){var W=H.deletions;W===null?(H.deletions=[M],H.flags|=16):W.push(M)}}function a(H,M){if(!r)return null;for(;M!==null;)s(H,M),M=M.sibling;return null}function c(H,M){for(H=new Map;M!==null;)M.key!==null?H.set(M.key,M):H.set(M.index,M),M=M.sibling;return H}function f(H,M){return H=es(H,M),H.index=0,H.sibling=null,H}function g(H,M,W){return H.index=W,r?(W=H.alternate,W!==null?(W=W.index,W<M?(H.flags|=2,M):W):(H.flags|=2,M)):(H.flags|=1048576,M)}function w(H){return r&&H.alternate===null&&(H.flags|=2),H}function C(H,M,W,se){return M===null||M.tag!==6?(M=vd(W,H.mode,se),M.return=H,M):(M=f(M,W),M.return=H,M)}function D(H,M,W,se){var Se=W.type;return Se===k?re(H,M,W.props.children,se,W.key):M!==null&&(M.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Ct&&am(Se)===M.type)?(se=f(M,W.props),se.ref=Oa(H,M,W),se.return=H,se):(se=Lu(W.type,W.key,W.props,null,H.mode,se),se.ref=Oa(H,M,W),se.return=H,se)}function G(H,M,W,se){return M===null||M.tag!==4||M.stateNode.containerInfo!==W.containerInfo||M.stateNode.implementation!==W.implementation?(M=_d(W,H.mode,se),M.return=H,M):(M=f(M,W.children||[]),M.return=H,M)}function re(H,M,W,se,Se){return M===null||M.tag!==7?(M=Hs(W,H.mode,se,Se),M.return=H,M):(M=f(M,W),M.return=H,M)}function ie(H,M,W){if(typeof M=="string"&&M!==""||typeof M=="number")return M=vd(""+M,H.mode,W),M.return=H,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case F:return W=Lu(M.type,M.key,M.props,null,H.mode,W),W.ref=Oa(H,null,M),W.return=H,W;case ce:return M=_d(M,H.mode,W),M.return=H,M;case Ct:var se=M._init;return ie(H,se(M._payload),W)}if(tr(M)||Ie(M))return M=Hs(M,H.mode,W,null),M.return=H,M;uu(H,M)}return null}function ne(H,M,W,se){var Se=M!==null?M.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Se!==null?null:C(H,M,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case F:return W.key===Se?D(H,M,W,se):null;case ce:return W.key===Se?G(H,M,W,se):null;case Ct:return Se=W._init,ne(H,M,Se(W._payload),se)}if(tr(W)||Ie(W))return Se!==null?null:re(H,M,W,se,null);uu(H,W)}return null}function me(H,M,W,se,Se){if(typeof se=="string"&&se!==""||typeof se=="number")return H=H.get(W)||null,C(M,H,""+se,Se);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case F:return H=H.get(se.key===null?W:se.key)||null,D(M,H,se,Se);case ce:return H=H.get(se.key===null?W:se.key)||null,G(M,H,se,Se);case Ct:var Pe=se._init;return me(H,M,W,Pe(se._payload),Se)}if(tr(se)||Ie(se))return H=H.get(W)||null,re(M,H,se,Se,null);uu(M,se)}return null}function Te(H,M,W,se){for(var Se=null,Pe=null,ke=M,Ne=M=0,zt=null;ke!==null&&Ne<W.length;Ne++){ke.index>Ne?(zt=ke,ke=null):zt=ke.sibling;var rt=ne(H,ke,W[Ne],se);if(rt===null){ke===null&&(ke=zt);break}r&&ke&&rt.alternate===null&&s(H,ke),M=g(rt,M,Ne),Pe===null?Se=rt:Pe.sibling=rt,Pe=rt,ke=zt}if(Ne===W.length)return a(H,ke),wt&&Vs(H,Ne),Se;if(ke===null){for(;Ne<W.length;Ne++)ke=ie(H,W[Ne],se),ke!==null&&(M=g(ke,M,Ne),Pe===null?Se=ke:Pe.sibling=ke,Pe=ke);return wt&&Vs(H,Ne),Se}for(ke=c(H,ke);Ne<W.length;Ne++)zt=me(ke,H,Ne,W[Ne],se),zt!==null&&(r&&zt.alternate!==null&&ke.delete(zt.key===null?Ne:zt.key),M=g(zt,M,Ne),Pe===null?Se=zt:Pe.sibling=zt,Pe=zt);return r&&ke.forEach(function(ts){return s(H,ts)}),wt&&Vs(H,Ne),Se}function Ae(H,M,W,se){var Se=Ie(W);if(typeof Se!="function")throw Error(t(150));if(W=Se.call(W),W==null)throw Error(t(151));for(var Pe=Se=null,ke=M,Ne=M=0,zt=null,rt=W.next();ke!==null&&!rt.done;Ne++,rt=W.next()){ke.index>Ne?(zt=ke,ke=null):zt=ke.sibling;var ts=ne(H,ke,rt.value,se);if(ts===null){ke===null&&(ke=zt);break}r&&ke&&ts.alternate===null&&s(H,ke),M=g(ts,M,Ne),Pe===null?Se=ts:Pe.sibling=ts,Pe=ts,ke=zt}if(rt.done)return a(H,ke),wt&&Vs(H,Ne),Se;if(ke===null){for(;!rt.done;Ne++,rt=W.next())rt=ie(H,rt.value,se),rt!==null&&(M=g(rt,M,Ne),Pe===null?Se=rt:Pe.sibling=rt,Pe=rt);return wt&&Vs(H,Ne),Se}for(ke=c(H,ke);!rt.done;Ne++,rt=W.next())rt=me(ke,H,Ne,rt.value,se),rt!==null&&(r&&rt.alternate!==null&&ke.delete(rt.key===null?Ne:rt.key),M=g(rt,M,Ne),Pe===null?Se=rt:Pe.sibling=rt,Pe=rt);return r&&ke.forEach(function(sE){return s(H,sE)}),wt&&Vs(H,Ne),Se}function Pt(H,M,W,se){if(typeof W=="object"&&W!==null&&W.type===k&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case F:e:{for(var Se=W.key,Pe=M;Pe!==null;){if(Pe.key===Se){if(Se=W.type,Se===k){if(Pe.tag===7){a(H,Pe.sibling),M=f(Pe,W.props.children),M.return=H,H=M;break e}}else if(Pe.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Ct&&am(Se)===Pe.type){a(H,Pe.sibling),M=f(Pe,W.props),M.ref=Oa(H,Pe,W),M.return=H,H=M;break e}a(H,Pe);break}else s(H,Pe);Pe=Pe.sibling}W.type===k?(M=Hs(W.props.children,H.mode,se,W.key),M.return=H,H=M):(se=Lu(W.type,W.key,W.props,null,H.mode,se),se.ref=Oa(H,M,W),se.return=H,H=se)}return w(H);case ce:e:{for(Pe=W.key;M!==null;){if(M.key===Pe)if(M.tag===4&&M.stateNode.containerInfo===W.containerInfo&&M.stateNode.implementation===W.implementation){a(H,M.sibling),M=f(M,W.children||[]),M.return=H,H=M;break e}else{a(H,M);break}else s(H,M);M=M.sibling}M=_d(W,H.mode,se),M.return=H,H=M}return w(H);case Ct:return Pe=W._init,Pt(H,M,Pe(W._payload),se)}if(tr(W))return Te(H,M,W,se);if(Ie(W))return Ae(H,M,W,se);uu(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,M!==null&&M.tag===6?(a(H,M.sibling),M=f(M,W),M.return=H,H=M):(a(H,M),M=vd(W,H.mode,se),M.return=H,H=M),w(H)):a(H,M)}return Pt}var Lo=lm(!0),um=lm(!1),cu=qi(null),hu=null,Oo=null,Ph=null;function kh(){Ph=Oo=hu=null}function xh(r){var s=cu.current;yt(cu),r._currentValue=s}function Nh(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function Vo(r,s){hu=r,Ph=Oo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(Cn=!0),r.firstContext=null)}function $n(r){var s=r._currentValue;if(Ph!==r)if(r={context:r,memoizedValue:s,next:null},Oo===null){if(hu===null)throw Error(t(308));Oo=r,hu.dependencies={lanes:0,firstContext:r}}else Oo=Oo.next=r;return s}var bs=null;function Dh(r){bs===null?bs=[r]:bs.push(r)}function cm(r,s,a,c){var f=s.interleaved;return f===null?(a.next=a,Dh(s)):(a.next=f.next,f.next=a),s.interleaved=a,li(r,c)}function li(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Ki=!1;function Lh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ui(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function $i(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,nt&2){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,li(r,a)}return f=c.interleaved,f===null?(s.next=s,Dh(c)):(s.next=f.next,f.next=s),c.interleaved=s,li(r,a)}function du(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Mi(r,a)}}function dm(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function fu(r,s,a,c){var f=r.updateQueue;Ki=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var D=C,G=D.next;D.next=null,w===null?g=G:w.next=G,w=D;var re=r.alternate;re!==null&&(re=re.updateQueue,C=re.lastBaseUpdate,C!==w&&(C===null?re.firstBaseUpdate=G:C.next=G,re.lastBaseUpdate=D))}if(g!==null){var ie=f.baseState;w=0,re=G=D=null,C=g;do{var ne=C.lane,me=C.eventTime;if((c&ne)===ne){re!==null&&(re=re.next={eventTime:me,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var Te=r,Ae=C;switch(ne=s,me=a,Ae.tag){case 1:if(Te=Ae.payload,typeof Te=="function"){ie=Te.call(me,ie,ne);break e}ie=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ae.payload,ne=typeof Te=="function"?Te.call(me,ie,ne):Te,ne==null)break e;ie=de({},ie,ne);break e;case 2:Ki=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,ne=f.effects,ne===null?f.effects=[C]:ne.push(C))}else me={eventTime:me,lane:ne,tag:C.tag,payload:C.payload,callback:C.callback,next:null},re===null?(G=re=me,D=ie):re=re.next=me,w|=ne;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;ne=C,C=ne.next,ne.next=null,f.lastBaseUpdate=ne,f.shared.pending=null}}while(!0);if(re===null&&(D=ie),f.baseState=D,f.firstBaseUpdate=G,f.lastBaseUpdate=re,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Fs|=w,r.lanes=w,r.memoizedState=ie}}function fm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var Va={},Mr=qi(Va),ba=qi(Va),Ma=qi(Va);function Ms(r){if(r===Va)throw Error(t(174));return r}function Oh(r,s){switch(dt(Ma,s),dt(ba,r),dt(Mr,Va),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:At(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=At(s,r)}yt(Mr),dt(Mr,s)}function bo(){yt(Mr),yt(ba),yt(Ma)}function pm(r){Ms(Ma.current);var s=Ms(Mr.current),a=At(s,r.type);s!==a&&(dt(ba,r),dt(Mr,a))}function Vh(r){ba.current===r&&(yt(Mr),yt(ba))}var Et=qi(0);function pu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var bh=[];function Mh(){for(var r=0;r<bh.length;r++)bh[r]._workInProgressVersionPrimary=null;bh.length=0}var mu=oe.ReactCurrentDispatcher,Uh=oe.ReactCurrentBatchConfig,Us=0,Tt=null,Vt=null,jt=null,gu=!1,Ua=!1,Fa=0,Cw=0;function an(){throw Error(t(321))}function Fh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!pr(r[a],s[a]))return!1;return!0}function jh(r,s,a,c,f,g){if(Us=g,Tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,mu.current=r===null||r.memoizedState===null?Nw:Dw,r=a(c,f),Ua){g=0;do{if(Ua=!1,Fa=0,25<=g)throw Error(t(301));g+=1,jt=Vt=null,s.updateQueue=null,mu.current=Lw,r=a(c,f)}while(Ua)}if(mu.current=_u,s=Vt!==null&&Vt.next!==null,Us=0,jt=Vt=Tt=null,gu=!1,s)throw Error(t(300));return r}function Bh(){var r=Fa!==0;return Fa=0,r}function Ur(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Tt.memoizedState=jt=r:jt=jt.next=r,jt}function Qn(){if(Vt===null){var r=Tt.alternate;r=r!==null?r.memoizedState:null}else r=Vt.next;var s=jt===null?Tt.memoizedState:jt.next;if(s!==null)jt=s,Vt=r;else{if(r===null)throw Error(t(310));Vt=r,r={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},jt===null?Tt.memoizedState=jt=r:jt=jt.next=r}return jt}function ja(r,s){return typeof s=="function"?s(r):s}function zh(r){var s=Qn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=Vt,f=c.baseQueue,g=a.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}c.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,c=c.baseState;var C=w=null,D=null,G=g;do{var re=G.lane;if((Us&re)===re)D!==null&&(D=D.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),c=G.hasEagerState?G.eagerState:r(c,G.action);else{var ie={lane:re,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};D===null?(C=D=ie,w=c):D=D.next=ie,Tt.lanes|=re,Fs|=re}G=G.next}while(G!==null&&G!==g);D===null?w=c:D.next=C,pr(c,s.memoizedState)||(Cn=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=D,a.lastRenderedState=c}if(r=a.interleaved,r!==null){f=r;do g=f.lane,Tt.lanes|=g,Fs|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Hh(r){var s=Qn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);pr(g,s.memoizedState)||(Cn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function mm(){}function gm(r,s){var a=Tt,c=Qn(),f=s(),g=!pr(c.memoizedState,f);if(g&&(c.memoizedState=f,Cn=!0),c=c.queue,qh(_m.bind(null,a,c,r),[r]),c.getSnapshot!==s||g||jt!==null&&jt.memoizedState.tag&1){if(a.flags|=2048,Ba(9,vm.bind(null,a,c,f,s),void 0,null),Bt===null)throw Error(t(349));Us&30||ym(a,s,f)}return f}function ym(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Tt.updateQueue,s===null?(s={lastEffect:null,stores:null},Tt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function vm(r,s,a,c){s.value=a,s.getSnapshot=c,wm(s)&&Em(r)}function _m(r,s,a){return a(function(){wm(s)&&Em(r)})}function wm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!pr(r,a)}catch{return!0}}function Em(r){var s=li(r,1);s!==null&&_r(s,r,1,-1)}function Tm(r){var s=Ur();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:r},s.queue=r,r=r.dispatch=xw.bind(null,Tt,r),[s.memoizedState,r]}function Ba(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=Tt.updateQueue,s===null?(s={lastEffect:null,stores:null},Tt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function Im(){return Qn().memoizedState}function yu(r,s,a,c){var f=Ur();Tt.flags|=r,f.memoizedState=Ba(1|s,a,void 0,c===void 0?null:c)}function vu(r,s,a,c){var f=Qn();c=c===void 0?null:c;var g=void 0;if(Vt!==null){var w=Vt.memoizedState;if(g=w.destroy,c!==null&&Fh(c,w.deps)){f.memoizedState=Ba(s,a,g,c);return}}Tt.flags|=r,f.memoizedState=Ba(1|s,a,g,c)}function Am(r,s){return yu(8390656,8,r,s)}function qh(r,s){return vu(2048,8,r,s)}function Sm(r,s){return vu(4,2,r,s)}function Rm(r,s){return vu(4,4,r,s)}function Cm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Pm(r,s,a){return a=a!=null?a.concat([r]):null,vu(4,4,Cm.bind(null,s,r),a)}function Wh(){}function km(r,s){var a=Qn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Fh(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function xm(r,s){var a=Qn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Fh(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function Nm(r,s,a){return Us&21?(pr(a,s)||(a=Cs(),Tt.lanes|=a,Fs|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,Cn=!0),r.memoizedState=a)}function Pw(r,s){var a=We;We=a!==0&&4>a?a:4,r(!0);var c=Uh.transition;Uh.transition={};try{r(!1),s()}finally{We=a,Uh.transition=c}}function Dm(){return Qn().memoizedState}function kw(r,s,a){var c=Ji(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Lm(r))Om(s,a);else if(a=cm(r,s,a,c),a!==null){var f=_n();_r(a,r,c,f),Vm(a,s,c)}}function xw(r,s,a){var c=Ji(r),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lm(r))Om(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,C=g(w,a);if(f.hasEagerState=!0,f.eagerState=C,pr(C,w)){var D=s.interleaved;D===null?(f.next=f,Dh(s)):(f.next=D.next,D.next=f),s.interleaved=f;return}}catch{}finally{}a=cm(r,s,f,c),a!==null&&(f=_n(),_r(a,r,c,f),Vm(a,s,c))}}function Lm(r){var s=r.alternate;return r===Tt||s!==null&&s===Tt}function Om(r,s){Ua=gu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Vm(r,s,a){if(a&4194240){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Mi(r,a)}}var _u={readContext:$n,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},Nw={readContext:$n,useCallback:function(r,s){return Ur().memoizedState=[r,s===void 0?null:s],r},useContext:$n,useEffect:Am,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,yu(4194308,4,Cm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return yu(4194308,4,r,s)},useInsertionEffect:function(r,s){return yu(4,2,r,s)},useMemo:function(r,s){var a=Ur();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=Ur();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=kw.bind(null,Tt,r),[c.memoizedState,r]},useRef:function(r){var s=Ur();return r={current:r},s.memoizedState=r},useState:Tm,useDebugValue:Wh,useDeferredValue:function(r){return Ur().memoizedState=r},useTransition:function(){var r=Tm(!1),s=r[0];return r=Pw.bind(null,r[1]),Ur().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=Tt,f=Ur();if(wt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Bt===null)throw Error(t(349));Us&30||ym(c,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Am(_m.bind(null,c,g,r),[r]),c.flags|=2048,Ba(9,vm.bind(null,c,g,a,s),void 0,null),a},useId:function(){var r=Ur(),s=Bt.identifierPrefix;if(wt){var a=ai,c=oi;a=(c&~(1<<32-gn(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Fa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Cw++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Dw={readContext:$n,useCallback:km,useContext:$n,useEffect:qh,useImperativeHandle:Pm,useInsertionEffect:Sm,useLayoutEffect:Rm,useMemo:xm,useReducer:zh,useRef:Im,useState:function(){return zh(ja)},useDebugValue:Wh,useDeferredValue:function(r){var s=Qn();return Nm(s,Vt.memoizedState,r)},useTransition:function(){var r=zh(ja)[0],s=Qn().memoizedState;return[r,s]},useMutableSource:mm,useSyncExternalStore:gm,useId:Dm,unstable_isNewReconciler:!1},Lw={readContext:$n,useCallback:km,useContext:$n,useEffect:qh,useImperativeHandle:Pm,useInsertionEffect:Sm,useLayoutEffect:Rm,useMemo:xm,useReducer:Hh,useRef:Im,useState:function(){return Hh(ja)},useDebugValue:Wh,useDeferredValue:function(r){var s=Qn();return Vt===null?s.memoizedState=r:Nm(s,Vt.memoizedState,r)},useTransition:function(){var r=Hh(ja)[0],s=Qn().memoizedState;return[r,s]},useMutableSource:mm,useSyncExternalStore:gm,useId:Dm,unstable_isNewReconciler:!1};function gr(r,s){if(r&&r.defaultProps){s=de({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Gh(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:de({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var wu={isMounted:function(r){return(r=r._reactInternals)?qe(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=_n(),f=Ji(r),g=ui(c,f);g.payload=s,a!=null&&(g.callback=a),s=$i(r,g,f),s!==null&&(_r(s,r,f,c),du(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=_n(),f=Ji(r),g=ui(c,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=$i(r,g,f),s!==null&&(_r(s,r,f,c),du(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=_n(),c=Ji(r),f=ui(a,c);f.tag=2,s!=null&&(f.callback=s),s=$i(r,f,c),s!==null&&(_r(s,r,c,a),du(s,r,c))}};function bm(r,s,a,c,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!Ca(a,c)||!Ca(f,g):!0}function Mm(r,s,a){var c=!1,f=Wi,g=s.contextType;return typeof g=="object"&&g!==null?g=$n(g):(f=Rn(s)?Ls:on.current,c=s.contextTypes,g=(c=c!=null)?ko(r,f):Wi),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=wu,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Um(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&wu.enqueueReplaceState(s,s.state,null)}function Kh(r,s,a,c){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Lh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=$n(g):(g=Rn(s)?Ls:on.current,f.context=ko(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Gh(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&wu.enqueueReplaceState(f,f.state,null),fu(r,a,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Mo(r,s){try{var a="",c=s;do a+=Le(c),c=c.return;while(c);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function $h(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Qh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Ow=typeof WeakMap=="function"?WeakMap:Map;function Fm(r,s,a){a=ui(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Cu||(Cu=!0,cd=c),Qh(r,s)},a}function jm(r,s,a){a=ui(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;a.payload=function(){return c(f)},a.callback=function(){Qh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Qh(r,s),typeof c!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Bm(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new Ow;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(f.add(a),r=$w.bind(null,r,s,a),s.then(r,r))}function zm(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Hm(r,s,a,c,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=ui(-1,1),s.tag=2,$i(a,s,1))),a.lanes|=1),r)}var Vw=oe.ReactCurrentOwner,Cn=!1;function vn(r,s,a,c){s.child=r===null?um(s,null,a,c):Lo(s,r.child,a,c)}function qm(r,s,a,c,f){a=a.render;var g=s.ref;return Vo(s,f),c=jh(r,s,a,c,g,f),a=Bh(),r!==null&&!Cn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ci(r,s,f)):(wt&&a&&Ih(s),s.flags|=1,vn(r,s,c,f),s.child)}function Wm(r,s,a,c,f){if(r===null){var g=a.type;return typeof g=="function"&&!yd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Gm(r,s,g,c,f)):(r=Lu(a.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ca,a(w,c)&&r.ref===s.ref)return ci(r,s,f)}return s.flags|=1,r=es(g,c),r.ref=s.ref,r.return=s,s.child=r}function Gm(r,s,a,c,f){if(r!==null){var g=r.memoizedProps;if(Ca(g,c)&&r.ref===s.ref)if(Cn=!1,s.pendingProps=c=g,(r.lanes&f)!==0)r.flags&131072&&(Cn=!0);else return s.lanes=r.lanes,ci(r,s,f)}return Yh(r,s,a,c,f)}function Km(r,s,a){var c=s.pendingProps,f=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Fo,Fn),Fn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,dt(Fo,Fn),Fn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,dt(Fo,Fn),Fn|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,dt(Fo,Fn),Fn|=c;return vn(r,s,f,a),s.child}function $m(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Yh(r,s,a,c,f){var g=Rn(a)?Ls:on.current;return g=ko(s,g),Vo(s,f),a=jh(r,s,a,c,g,f),c=Bh(),r!==null&&!Cn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ci(r,s,f)):(wt&&c&&Ih(s),s.flags|=1,vn(r,s,a,f),s.child)}function Qm(r,s,a,c,f){if(Rn(a)){var g=!0;iu(s)}else g=!1;if(Vo(s,f),s.stateNode===null)Tu(r,s),Mm(s,a,c),Kh(s,a,c,f),c=!0;else if(r===null){var w=s.stateNode,C=s.memoizedProps;w.props=C;var D=w.context,G=a.contextType;typeof G=="object"&&G!==null?G=$n(G):(G=Rn(a)?Ls:on.current,G=ko(s,G));var re=a.getDerivedStateFromProps,ie=typeof re=="function"||typeof w.getSnapshotBeforeUpdate=="function";ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==c||D!==G)&&Um(s,w,c,G),Ki=!1;var ne=s.memoizedState;w.state=ne,fu(s,c,w,f),D=s.memoizedState,C!==c||ne!==D||Sn.current||Ki?(typeof re=="function"&&(Gh(s,a,re,c),D=s.memoizedState),(C=Ki||bm(s,a,C,c,ne,D,G))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=D),w.props=c,w.state=D,w.context=G,c=C):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,hm(r,s),C=s.memoizedProps,G=s.type===s.elementType?C:gr(s.type,C),w.props=G,ie=s.pendingProps,ne=w.context,D=a.contextType,typeof D=="object"&&D!==null?D=$n(D):(D=Rn(a)?Ls:on.current,D=ko(s,D));var me=a.getDerivedStateFromProps;(re=typeof me=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==ie||ne!==D)&&Um(s,w,c,D),Ki=!1,ne=s.memoizedState,w.state=ne,fu(s,c,w,f);var Te=s.memoizedState;C!==ie||ne!==Te||Sn.current||Ki?(typeof me=="function"&&(Gh(s,a,me,c),Te=s.memoizedState),(G=Ki||bm(s,a,G,c,ne,Te,D)||!1)?(re||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,Te,D),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,Te,D)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Te),w.props=c,w.state=Te,w.context=D,c=G):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),c=!1)}return Xh(r,s,a,c,g,f)}function Xh(r,s,a,c,f,g){$m(r,s);var w=(s.flags&128)!==0;if(!c&&!w)return f&&em(s,a,!1),ci(r,s,g);c=s.stateNode,Vw.current=s;var C=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&w?(s.child=Lo(s,r.child,null,g),s.child=Lo(s,null,C,g)):vn(r,s,C,g),s.memoizedState=c.state,f&&em(s,a,!0),s.child}function Ym(r){var s=r.stateNode;s.pendingContext?Jp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Jp(r,s.context,!1),Oh(r,s.containerInfo)}function Xm(r,s,a,c,f){return Do(),Ch(f),s.flags|=256,vn(r,s,a,c),s.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function Zh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Jm(r,s,a){var c=s.pendingProps,f=Et.current,g=!1,w=(s.flags&128)!==0,C;if((C=w)||(C=r!==null&&r.memoizedState===null?!1:(f&2)!==0),C?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),dt(Et,f&1),r===null)return Rh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=c.children,r=c.fallback,g?(c=s.mode,g=s.child,w={mode:"hidden",children:w},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Ou(w,c,0,null),r=Hs(r,c,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Zh(a),s.memoizedState=Jh,r):ed(s,w));if(f=r.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return bw(r,s,w,c,C,f,a);if(g){g=c.fallback,w=s.mode,f=r.child,C=f.sibling;var D={mode:"hidden",children:c.children};return!(w&1)&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=D,s.deletions=null):(c=es(f,D),c.subtreeFlags=f.subtreeFlags&14680064),C!==null?g=es(C,g):(g=Hs(g,w,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,w=r.child.memoizedState,w=w===null?Zh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=Jh,c}return g=r.child,r=g.sibling,c=es(g,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function ed(r,s){return s=Ou({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Eu(r,s,a,c){return c!==null&&Ch(c),Lo(s,r.child,null,a),r=ed(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function bw(r,s,a,c,f,g,w){if(a)return s.flags&256?(s.flags&=-257,c=$h(Error(t(422))),Eu(r,s,w,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,f=s.mode,c=Ou({mode:"visible",children:c.children},f,0,null),g=Hs(g,f,w,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,s.mode&1&&Lo(s,r.child,null,w),s.child.memoizedState=Zh(w),s.memoizedState=Jh,g);if(!(s.mode&1))return Eu(r,s,w,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var C=c.dgst;return c=C,g=Error(t(419)),c=$h(g,c,void 0),Eu(r,s,w,c)}if(C=(w&r.childLanes)!==0,Cn||C){if(c=Bt,c!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,li(r,f),_r(c,r,f,-1))}return gd(),c=$h(Error(t(421))),Eu(r,s,w,c)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=Qw.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,Un=Hi(f.nextSibling),Mn=s,wt=!0,mr=null,r!==null&&(Gn[Kn++]=oi,Gn[Kn++]=ai,Gn[Kn++]=Os,oi=r.id,ai=r.overflow,Os=s),s=ed(s,c.children),s.flags|=4096,s)}function Zm(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Nh(r.return,s,a)}function td(r,s,a,c,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=f)}function eg(r,s,a){var c=s.pendingProps,f=c.revealOrder,g=c.tail;if(vn(r,s,c.children,a),c=Et.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Zm(r,a,s);else if(r.tag===19)Zm(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(dt(Et,c),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&pu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),td(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&pu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}td(s,!0,a,null,g);break;case"together":td(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Tu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ci(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Fs|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=es(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=es(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function Mw(r,s,a){switch(s.tag){case 3:Ym(s),Do();break;case 5:pm(s);break;case 1:Rn(s.type)&&iu(s);break;case 4:Oh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;dt(cu,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(dt(Et,Et.current&1),s.flags|=128,null):a&s.child.childLanes?Jm(r,s,a):(dt(Et,Et.current&1),r=ci(r,s,a),r!==null?r.sibling:null);dt(Et,Et.current&1);break;case 19:if(c=(a&s.childLanes)!==0,r.flags&128){if(c)return eg(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),dt(Et,Et.current),c)break;return null;case 22:case 23:return s.lanes=0,Km(r,s,a)}return ci(r,s,a)}var tg,nd,ng,rg;tg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},nd=function(){},ng=function(r,s,a,c){var f=r.memoizedProps;if(f!==c){r=s.stateNode,Ms(Mr.current);var g=null;switch(a){case"input":f=Kr(r,f),c=Kr(r,c),g=[];break;case"select":f=de({},f,{value:void 0}),c=de({},c,{value:void 0}),g=[];break;case"textarea":f=nr(r,f),c=nr(r,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=tu)}kr(a,c);var w;a=null;for(G in f)if(!c.hasOwnProperty(G)&&f.hasOwnProperty(G)&&f[G]!=null)if(G==="style"){var C=f[G];for(w in C)C.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?g||(g=[]):(g=g||[]).push(G,null));for(G in c){var D=c[G];if(C=f!=null?f[G]:void 0,c.hasOwnProperty(G)&&D!==C&&(D!=null||C!=null))if(G==="style")if(C){for(w in C)!C.hasOwnProperty(w)||D&&D.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in D)D.hasOwnProperty(w)&&C[w]!==D[w]&&(a||(a={}),a[w]=D[w])}else a||(g||(g=[]),g.push(G,a)),a=D;else G==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,C=C?C.__html:void 0,D!=null&&C!==D&&(g=g||[]).push(G,D)):G==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(G,""+D):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(D!=null&&G==="onScroll"&&gt("scroll",r),g||C===D||(g=[])):(g=g||[]).push(G,D))}a&&(g=g||[]).push("style",a);var G=g;(s.updateQueue=G)&&(s.flags|=4)}},rg=function(r,s,a,c){a!==c&&(s.flags|=4)};function za(r,s){if(!wt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ln(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function Uw(r,s,a){var c=s.pendingProps;switch(Ah(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(s),null;case 1:return Rn(s.type)&&ru(),ln(s),null;case 3:return c=s.stateNode,bo(),yt(Sn),yt(on),Mh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(lu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,mr!==null&&(fd(mr),mr=null))),nd(r,s),ln(s),null;case 5:Vh(s);var f=Ms(Ma.current);if(a=s.type,r!==null&&s.stateNode!=null)ng(r,s,a,c,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return ln(s),null}if(r=Ms(Mr.current),lu(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[br]=s,c[Da]=g,r=(s.mode&1)!==0,a){case"dialog":gt("cancel",c),gt("close",c);break;case"iframe":case"object":case"embed":gt("load",c);break;case"video":case"audio":for(f=0;f<ka.length;f++)gt(ka[f],c);break;case"source":gt("error",c);break;case"img":case"image":case"link":gt("error",c),gt("load",c);break;case"details":gt("toggle",c);break;case"input":Ci(c,g),gt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},gt("invalid",c);break;case"textarea":$r(c,g),gt("invalid",c)}kr(a,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var C=g[w];w==="children"?typeof C=="string"?c.textContent!==C&&(g.suppressHydrationWarning!==!0&&eu(c.textContent,C,r),f=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&eu(c.textContent,C,r),f=["children",""+C]):o.hasOwnProperty(w)&&C!=null&&w==="onScroll"&&gt("scroll",c)}switch(a){case"input":Hn(c),oo(c,g,!0);break;case"textarea":Hn(c),wn(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=tu)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=lt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=w.createElement(a,{is:c.is}):(r=w.createElement(a),a==="select"&&(w=r,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):r=w.createElementNS(r,a),r[br]=s,r[Da]=c,tg(r,s,!1,!1),s.stateNode=r;e:{switch(w=Di(a,c),a){case"dialog":gt("cancel",r),gt("close",r),f=c;break;case"iframe":case"object":case"embed":gt("load",r),f=c;break;case"video":case"audio":for(f=0;f<ka.length;f++)gt(ka[f],r);f=c;break;case"source":gt("error",r),f=c;break;case"img":case"image":case"link":gt("error",r),gt("load",r),f=c;break;case"details":gt("toggle",r),f=c;break;case"input":Ci(r,c),f=Kr(r,c),gt("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=de({},c,{value:void 0}),gt("invalid",r);break;case"textarea":$r(r,c),f=nr(r,c),gt("invalid",r);break;default:f=c}kr(a,f),C=f;for(g in C)if(C.hasOwnProperty(g)){var D=C[g];g==="style"?As(r,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Is(r,D)):g==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&Wt(r,D):typeof D=="number"&&Wt(r,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?D!=null&&g==="onScroll"&&gt("scroll",r):D!=null&&Z(r,g,D,w))}switch(a){case"input":Hn(r),oo(r,c,!1);break;case"textarea":Hn(r),wn(r);break;case"option":c.value!=null&&r.setAttribute("value",""+et(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?qt(r,!!c.multiple,g,!1):c.defaultValue!=null&&qt(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=tu)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ln(s),null;case 6:if(r&&s.stateNode!=null)rg(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=Ms(Ma.current),Ms(Mr.current),lu(s)){if(c=s.stateNode,a=s.memoizedProps,c[br]=s,(g=c.nodeValue!==a)&&(r=Mn,r!==null))switch(r.tag){case 3:eu(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&eu(c.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[br]=s,s.stateNode=c}return ln(s),null;case 13:if(yt(Et),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(wt&&Un!==null&&s.mode&1&&!(s.flags&128))om(),Do(),s.flags|=98560,g=!1;else if(g=lu(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[br]=s}else Do(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ln(s),g=!1}else mr!==null&&(fd(mr),mr=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(r===null||Et.current&1?bt===0&&(bt=3):gd())),s.updateQueue!==null&&(s.flags|=4),ln(s),null);case 4:return bo(),nd(r,s),r===null&&xa(s.stateNode.containerInfo),ln(s),null;case 10:return xh(s.type._context),ln(s),null;case 17:return Rn(s.type)&&ru(),ln(s),null;case 19:if(yt(Et),g=s.memoizedState,g===null)return ln(s),null;if(c=(s.flags&128)!==0,w=g.rendering,w===null)if(c)za(g,!1);else{if(bt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=pu(r),w!==null){for(s.flags|=128,za(g,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,r=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return dt(Et,Et.current&1|2),s.child}r=r.sibling}g.tail!==null&&ot()>jo&&(s.flags|=128,c=!0,za(g,!1),s.lanes=4194304)}else{if(!c)if(r=pu(w),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),za(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!wt)return ln(s),null}else 2*ot()-g.renderingStartTime>jo&&a!==1073741824&&(s.flags|=128,c=!0,za(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ot(),s.sibling=null,a=Et.current,dt(Et,c?a&1|2:a&1),s):(ln(s),null);case 22:case 23:return md(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?Fn&1073741824&&(ln(s),s.subtreeFlags&6&&(s.flags|=8192)):ln(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Fw(r,s){switch(Ah(s),s.tag){case 1:return Rn(s.type)&&ru(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return bo(),yt(Sn),yt(on),Mh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Vh(s),null;case 13:if(yt(Et),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Do()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return yt(Et),null;case 4:return bo(),null;case 10:return xh(s.type._context),null;case 22:case 23:return md(),null;case 24:return null;default:return null}}var Iu=!1,un=!1,jw=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Uo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Rt(r,s,c)}else a.current=null}function rd(r,s,a){try{a()}catch(c){Rt(r,s,c)}}var ig=!1;function Bw(r,s){if(mh=ji,r=bp(),ah(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,C=-1,D=-1,G=0,re=0,ie=r,ne=null;t:for(;;){for(var me;ie!==a||f!==0&&ie.nodeType!==3||(C=w+f),ie!==g||c!==0&&ie.nodeType!==3||(D=w+c),ie.nodeType===3&&(w+=ie.nodeValue.length),(me=ie.firstChild)!==null;)ne=ie,ie=me;for(;;){if(ie===r)break t;if(ne===a&&++G===f&&(C=w),ne===g&&++re===c&&(D=w),(me=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=me}a=C===-1||D===-1?null:{start:C,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(gh={focusedElem:r,selectionRange:a},ji=!1,ve=s;ve!==null;)if(s=ve,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ve=r;else for(;ve!==null;){s=ve;try{var Te=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Ae=Te.memoizedProps,Pt=Te.memoizedState,H=s.stateNode,M=H.getSnapshotBeforeUpdate(s.elementType===s.type?Ae:gr(s.type,Ae),Pt);H.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){Rt(s,s.return,se)}if(r=s.sibling,r!==null){r.return=s.return,ve=r;break}ve=s.return}return Te=ig,ig=!1,Te}function Ha(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&rd(s,a,g)}f=f.next}while(f!==c)}}function Au(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function id(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function sg(r){var s=r.alternate;s!==null&&(r.alternate=null,sg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[br],delete s[Da],delete s[wh],delete s[Iw],delete s[Aw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function og(r){return r.tag===5||r.tag===3||r.tag===4}function ag(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||og(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=tu));else if(c!==4&&(r=r.child,r!==null))for(sd(r,s,a),r=r.sibling;r!==null;)sd(r,s,a),r=r.sibling}function od(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(od(r,s,a),r=r.sibling;r!==null;)od(r,s,a),r=r.sibling}var Yt=null,yr=!1;function Qi(r,s,a){for(a=a.child;a!==null;)lg(r,s,a),a=a.sibling}function lg(r,s,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Tn,a)}catch{}switch(a.tag){case 5:un||Uo(a,s);case 6:var c=Yt,f=yr;Yt=null,Qi(r,s,a),Yt=c,yr=f,Yt!==null&&(yr?(r=Yt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Yt.removeChild(a.stateNode));break;case 18:Yt!==null&&(yr?(r=Yt,a=a.stateNode,r.nodeType===8?_h(r.parentNode,a):r.nodeType===1&&_h(r,a),dr(r)):_h(Yt,a.stateNode));break;case 4:c=Yt,f=yr,Yt=a.stateNode.containerInfo,yr=!0,Qi(r,s,a),Yt=c,yr=f;break;case 0:case 11:case 14:case 15:if(!un&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&rd(a,s,w),f=f.next}while(f!==c)}Qi(r,s,a);break;case 1:if(!un&&(Uo(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){Rt(a,s,C)}Qi(r,s,a);break;case 21:Qi(r,s,a);break;case 22:a.mode&1?(un=(c=un)||a.memoizedState!==null,Qi(r,s,a),un=c):Qi(r,s,a);break;default:Qi(r,s,a)}}function ug(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new jw),s.forEach(function(c){var f=Yw.bind(null,r,c);a.has(c)||(a.add(c),c.then(f,f))})}}function vr(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var g=r,w=s,C=w;e:for(;C!==null;){switch(C.tag){case 5:Yt=C.stateNode,yr=!1;break e;case 3:Yt=C.stateNode.containerInfo,yr=!0;break e;case 4:Yt=C.stateNode.containerInfo,yr=!0;break e}C=C.return}if(Yt===null)throw Error(t(160));lg(g,w,f),Yt=null,yr=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(G){Rt(f,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)cg(s,r),s=s.sibling}function cg(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(vr(s,r),Fr(r),c&4){try{Ha(3,r,r.return),Au(3,r)}catch(Ae){Rt(r,r.return,Ae)}try{Ha(5,r,r.return)}catch(Ae){Rt(r,r.return,Ae)}}break;case 1:vr(s,r),Fr(r),c&512&&a!==null&&Uo(a,a.return);break;case 5:if(vr(s,r),Fr(r),c&512&&a!==null&&Uo(a,a.return),r.flags&32){var f=r.stateNode;try{Wt(f,"")}catch(Ae){Rt(r,r.return,Ae)}}if(c&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,C=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Pi(f,g),Di(C,w);var G=Di(C,g);for(w=0;w<D.length;w+=2){var re=D[w],ie=D[w+1];re==="style"?As(f,ie):re==="dangerouslySetInnerHTML"?Is(f,ie):re==="children"?Wt(f,ie):Z(f,re,ie,G)}switch(C){case"input":Ts(f,g);break;case"textarea":Rr(f,g);break;case"select":var ne=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var me=g.value;me!=null?qt(f,!!g.multiple,me,!1):ne!==!!g.multiple&&(g.defaultValue!=null?qt(f,!!g.multiple,g.defaultValue,!0):qt(f,!!g.multiple,g.multiple?[]:"",!1))}f[Da]=g}catch(Ae){Rt(r,r.return,Ae)}}break;case 6:if(vr(s,r),Fr(r),c&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(Ae){Rt(r,r.return,Ae)}}break;case 3:if(vr(s,r),Fr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{dr(s.containerInfo)}catch(Ae){Rt(r,r.return,Ae)}break;case 4:vr(s,r),Fr(r);break;case 13:vr(s,r),Fr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(ud=ot())),c&4&&ug(r);break;case 22:if(re=a!==null&&a.memoizedState!==null,r.mode&1?(un=(G=un)||re,vr(s,r),un=G):vr(s,r),Fr(r),c&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!re&&r.mode&1)for(ve=r,re=r.child;re!==null;){for(ie=ve=re;ve!==null;){switch(ne=ve,me=ne.child,ne.tag){case 0:case 11:case 14:case 15:Ha(4,ne,ne.return);break;case 1:Uo(ne,ne.return);var Te=ne.stateNode;if(typeof Te.componentWillUnmount=="function"){c=ne,a=ne.return;try{s=c,Te.props=s.memoizedProps,Te.state=s.memoizedState,Te.componentWillUnmount()}catch(Ae){Rt(c,a,Ae)}}break;case 5:Uo(ne,ne.return);break;case 22:if(ne.memoizedState!==null){fg(ie);continue}}me!==null?(me.return=ne,ve=me):fg(ie)}re=re.sibling}e:for(re=null,ie=r;;){if(ie.tag===5){if(re===null){re=ie;try{f=ie.stateNode,G?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=ie.stateNode,D=ie.memoizedProps.style,w=D!=null&&D.hasOwnProperty("display")?D.display:null,C.style.display=xi("display",w))}catch(Ae){Rt(r,r.return,Ae)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=G?"":ie.memoizedProps}catch(Ae){Rt(r,r.return,Ae)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===r)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===r)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===r)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:vr(s,r),Fr(r),c&4&&ug(r);break;case 21:break;default:vr(s,r),Fr(r)}}function Fr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(og(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Wt(f,""),c.flags&=-33);var g=ag(r);od(r,g,f);break;case 3:case 4:var w=c.stateNode.containerInfo,C=ag(r);sd(r,C,w);break;default:throw Error(t(161))}}catch(D){Rt(r,r.return,D)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function zw(r,s,a){ve=r,hg(r)}function hg(r,s,a){for(var c=(r.mode&1)!==0;ve!==null;){var f=ve,g=f.child;if(f.tag===22&&c){var w=f.memoizedState!==null||Iu;if(!w){var C=f.alternate,D=C!==null&&C.memoizedState!==null||un;C=Iu;var G=un;if(Iu=w,(un=D)&&!G)for(ve=f;ve!==null;)w=ve,D=w.child,w.tag===22&&w.memoizedState!==null?pg(f):D!==null?(D.return=w,ve=D):pg(f);for(;g!==null;)ve=g,hg(g),g=g.sibling;ve=f,Iu=C,un=G}dg(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,ve=g):dg(r)}}function dg(r){for(;ve!==null;){var s=ve;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:un||Au(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!un)if(a===null)c.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:gr(s.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&fm(s,g,c);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}fm(s,w,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var re=G.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&dr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}un||s.flags&512&&id(s)}catch(ne){Rt(s,s.return,ne)}}if(s===r){ve=null;break}if(a=s.sibling,a!==null){a.return=s.return,ve=a;break}ve=s.return}}function fg(r){for(;ve!==null;){var s=ve;if(s===r){ve=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ve=a;break}ve=s.return}}function pg(r){for(;ve!==null;){var s=ve;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Au(4,s)}catch(D){Rt(s,a,D)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(D){Rt(s,f,D)}}var g=s.return;try{id(s)}catch(D){Rt(s,g,D)}break;case 5:var w=s.return;try{id(s)}catch(D){Rt(s,w,D)}}}catch(D){Rt(s,s.return,D)}if(s===r){ve=null;break}var C=s.sibling;if(C!==null){C.return=s.return,ve=C;break}ve=s.return}}var Hw=Math.ceil,Su=oe.ReactCurrentDispatcher,ad=oe.ReactCurrentOwner,Yn=oe.ReactCurrentBatchConfig,nt=0,Bt=null,Nt=null,Xt=0,Fn=0,Fo=qi(0),bt=0,qa=null,Fs=0,Ru=0,ld=0,Wa=null,Pn=null,ud=0,jo=1/0,hi=null,Cu=!1,cd=null,Yi=null,Pu=!1,Xi=null,ku=0,Ga=0,hd=null,xu=-1,Nu=0;function _n(){return nt&6?ot():xu!==-1?xu:xu=ot()}function Ji(r){return r.mode&1?nt&2&&Xt!==0?Xt&-Xt:Rw.transition!==null?(Nu===0&&(Nu=Cs()),Nu):(r=We,r!==0||(r=window.event,r=r===void 0?16:wa(r.type)),r):1}function _r(r,s,a,c){if(50<Ga)throw Ga=0,hd=null,Error(t(185));bi(r,a,c),(!(nt&2)||r!==Bt)&&(r===Bt&&(!(nt&2)&&(Ru|=a),bt===4&&Zi(r,Xt)),kn(r,c),a===1&&nt===0&&!(s.mode&1)&&(jo=ot()+500,su&&Gi()))}function kn(r,s){var a=r.callbackNode;Zr(r,s);var c=Rs(r,r===Bt?Xt:0);if(c===0)a!==null&&Xr(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&Xr(a),s===1)r.tag===0?Sw(gg.bind(null,r)):tm(gg.bind(null,r)),Ew(function(){!(nt&6)&&Gi()}),a=null;else{switch(Ui(c)){case 1:a=Ye;break;case 4:a=pt;break;case 16:a=Kt;break;case 536870912:a=mt;break;default:a=Kt}a=Ag(a,mg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function mg(r,s){if(xu=-1,Nu=0,nt&6)throw Error(t(327));var a=r.callbackNode;if(Bo()&&r.callbackNode!==a)return null;var c=Rs(r,r===Bt?Xt:0);if(c===0)return null;if(c&30||c&r.expiredLanes||s)s=Du(r,c);else{s=c;var f=nt;nt|=2;var g=vg();(Bt!==r||Xt!==s)&&(hi=null,jo=ot()+500,Bs(r,s));do try{Gw();break}catch(C){yg(r,C)}while(!0);kh(),Su.current=g,nt=f,Nt!==null?s=0:(Bt=null,Xt=0,s=bt)}if(s!==0){if(s===2&&(f=On(r),f!==0&&(c=f,s=dd(r,f))),s===1)throw a=qa,Bs(r,0),Zi(r,c),kn(r,ot()),a;if(s===6)Zi(r,c);else{if(f=r.current.alternate,!(c&30)&&!qw(f)&&(s=Du(r,c),s===2&&(g=On(r),g!==0&&(c=g,s=dd(r,g))),s===1))throw a=qa,Bs(r,0),Zi(r,c),kn(r,ot()),a;switch(r.finishedWork=f,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:zs(r,Pn,hi);break;case 3:if(Zi(r,c),(c&130023424)===c&&(s=ud+500-ot(),10<s)){if(Rs(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){_n(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=vh(zs.bind(null,r,Pn,hi),s);break}zs(r,Pn,hi);break;case 4:if(Zi(r,c),(c&4194240)===c)break;for(s=r.eventTimes,f=-1;0<c;){var w=31-gn(c);g=1<<w,w=s[w],w>f&&(f=w),c&=~g}if(c=f,c=ot()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Hw(c/1960))-c,10<c){r.timeoutHandle=vh(zs.bind(null,r,Pn,hi),c);break}zs(r,Pn,hi);break;case 5:zs(r,Pn,hi);break;default:throw Error(t(329))}}}return kn(r,ot()),r.callbackNode===a?mg.bind(null,r):null}function dd(r,s){var a=Wa;return r.current.memoizedState.isDehydrated&&(Bs(r,s).flags|=256),r=Du(r,s),r!==2&&(s=Pn,Pn=a,s!==null&&fd(s)),r}function fd(r){Pn===null?Pn=r:Pn.push.apply(Pn,r)}function qw(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],g=f.getSnapshot;f=f.value;try{if(!pr(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zi(r,s){for(s&=~ld,s&=~Ru,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-gn(s),c=1<<a;r[a]=-1,s&=~c}}function gg(r){if(nt&6)throw Error(t(327));Bo();var s=Rs(r,0);if(!(s&1))return kn(r,ot()),null;var a=Du(r,s);if(r.tag!==0&&a===2){var c=On(r);c!==0&&(s=c,a=dd(r,c))}if(a===1)throw a=qa,Bs(r,0),Zi(r,s),kn(r,ot()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,zs(r,Pn,hi),kn(r,ot()),null}function pd(r,s){var a=nt;nt|=1;try{return r(s)}finally{nt=a,nt===0&&(jo=ot()+500,su&&Gi())}}function js(r){Xi!==null&&Xi.tag===0&&!(nt&6)&&Bo();var s=nt;nt|=1;var a=Yn.transition,c=We;try{if(Yn.transition=null,We=1,r)return r()}finally{We=c,Yn.transition=a,nt=s,!(nt&6)&&Gi()}}function md(){Fn=Fo.current,yt(Fo)}function Bs(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,ww(a)),Nt!==null)for(a=Nt.return;a!==null;){var c=a;switch(Ah(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ru();break;case 3:bo(),yt(Sn),yt(on),Mh();break;case 5:Vh(c);break;case 4:bo();break;case 13:yt(Et);break;case 19:yt(Et);break;case 10:xh(c.type._context);break;case 22:case 23:md()}a=a.return}if(Bt=r,Nt=r=es(r.current,null),Xt=Fn=s,bt=0,qa=null,ld=Ru=Fs=0,Pn=Wa=null,bs!==null){for(s=0;s<bs.length;s++)if(a=bs[s],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,g=a.pending;if(g!==null){var w=g.next;g.next=f,c.next=w}a.pending=c}bs=null}return r}function yg(r,s){do{var a=Nt;try{if(kh(),mu.current=_u,gu){for(var c=Tt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}gu=!1}if(Us=0,jt=Vt=Tt=null,Ua=!1,Fa=0,ad.current=null,a===null||a.return===null){bt=1,qa=s,Nt=null;break}e:{var g=r,w=a.return,C=a,D=s;if(s=Xt,C.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var G=D,re=C,ie=re.tag;if(!(re.mode&1)&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var me=zm(w);if(me!==null){me.flags&=-257,Hm(me,w,C,g,s),me.mode&1&&Bm(g,G,s),s=me,D=G;var Te=s.updateQueue;if(Te===null){var Ae=new Set;Ae.add(D),s.updateQueue=Ae}else Te.add(D);break e}else{if(!(s&1)){Bm(g,G,s),gd();break e}D=Error(t(426))}}else if(wt&&C.mode&1){var Pt=zm(w);if(Pt!==null){!(Pt.flags&65536)&&(Pt.flags|=256),Hm(Pt,w,C,g,s),Ch(Mo(D,C));break e}}g=D=Mo(D,C),bt!==4&&(bt=2),Wa===null?Wa=[g]:Wa.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var H=Fm(g,D,s);dm(g,H);break e;case 1:C=D;var M=g.type,W=g.stateNode;if(!(g.flags&128)&&(typeof M.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Yi===null||!Yi.has(W)))){g.flags|=65536,s&=-s,g.lanes|=s;var se=jm(g,C,s);dm(g,se);break e}}g=g.return}while(g!==null)}wg(a)}catch(Se){s=Se,Nt===a&&a!==null&&(Nt=a=a.return);continue}break}while(!0)}function vg(){var r=Su.current;return Su.current=_u,r===null?_u:r}function gd(){(bt===0||bt===3||bt===2)&&(bt=4),Bt===null||!(Fs&268435455)&&!(Ru&268435455)||Zi(Bt,Xt)}function Du(r,s){var a=nt;nt|=2;var c=vg();(Bt!==r||Xt!==s)&&(hi=null,Bs(r,s));do try{Ww();break}catch(f){yg(r,f)}while(!0);if(kh(),nt=a,Su.current=c,Nt!==null)throw Error(t(261));return Bt=null,Xt=0,bt}function Ww(){for(;Nt!==null;)_g(Nt)}function Gw(){for(;Nt!==null&&!xr();)_g(Nt)}function _g(r){var s=Ig(r.alternate,r,Fn);r.memoizedProps=r.pendingProps,s===null?wg(r):Nt=s,ad.current=null}function wg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=Fw(a,s),a!==null){a.flags&=32767,Nt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{bt=6,Nt=null;return}}else if(a=Uw(a,s,Fn),a!==null){Nt=a;return}if(s=s.sibling,s!==null){Nt=s;return}Nt=s=r}while(s!==null);bt===0&&(bt=5)}function zs(r,s,a){var c=We,f=Yn.transition;try{Yn.transition=null,We=1,Kw(r,s,a,c)}finally{Yn.transition=f,We=c}return null}function Kw(r,s,a,c){do Bo();while(Xi!==null);if(nt&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(ct(r,g),r===Bt&&(Nt=Bt=null,Xt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Pu||(Pu=!0,Ag(Kt,function(){return Bo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Yn.transition,Yn.transition=null;var w=We;We=1;var C=nt;nt|=4,ad.current=null,Bw(r,a),cg(a,r),fw(gh),ji=!!mh,gh=mh=null,r.current=a,zw(a),ar(),nt=C,We=w,Yn.transition=g}else r.current=a;if(Pu&&(Pu=!1,Xi=r,ku=f),g=r.pendingLanes,g===0&&(Yi=null),ao(a.stateNode),kn(r,ot()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Cu)throw Cu=!1,r=cd,cd=null,r;return ku&1&&r.tag!==0&&Bo(),g=r.pendingLanes,g&1?r===hd?Ga++:(Ga=0,hd=r):Ga=0,Gi(),null}function Bo(){if(Xi!==null){var r=Ui(ku),s=Yn.transition,a=We;try{if(Yn.transition=null,We=16>r?16:r,Xi===null)var c=!1;else{if(r=Xi,Xi=null,ku=0,nt&6)throw Error(t(331));var f=nt;for(nt|=4,ve=r.current;ve!==null;){var g=ve,w=g.child;if(ve.flags&16){var C=g.deletions;if(C!==null){for(var D=0;D<C.length;D++){var G=C[D];for(ve=G;ve!==null;){var re=ve;switch(re.tag){case 0:case 11:case 15:Ha(8,re,g)}var ie=re.child;if(ie!==null)ie.return=re,ve=ie;else for(;ve!==null;){re=ve;var ne=re.sibling,me=re.return;if(sg(re),re===G){ve=null;break}if(ne!==null){ne.return=me,ve=ne;break}ve=me}}}var Te=g.alternate;if(Te!==null){var Ae=Te.child;if(Ae!==null){Te.child=null;do{var Pt=Ae.sibling;Ae.sibling=null,Ae=Pt}while(Ae!==null)}}ve=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,ve=w;else e:for(;ve!==null;){if(g=ve,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ha(9,g,g.return)}var H=g.sibling;if(H!==null){H.return=g.return,ve=H;break e}ve=g.return}}var M=r.current;for(ve=M;ve!==null;){w=ve;var W=w.child;if(w.subtreeFlags&2064&&W!==null)W.return=w,ve=W;else e:for(w=M;ve!==null;){if(C=ve,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Au(9,C)}}catch(Se){Rt(C,C.return,Se)}if(C===w){ve=null;break e}var se=C.sibling;if(se!==null){se.return=C.return,ve=se;break e}ve=C.return}}if(nt=f,Gi(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Tn,r)}catch{}c=!0}return c}finally{We=a,Yn.transition=s}}return!1}function Eg(r,s,a){s=Mo(a,s),s=Fm(r,s,1),r=$i(r,s,1),s=_n(),r!==null&&(bi(r,1,s),kn(r,s))}function Rt(r,s,a){if(r.tag===3)Eg(r,r,a);else for(;s!==null;){if(s.tag===3){Eg(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Yi===null||!Yi.has(c))){r=Mo(a,r),r=jm(s,r,1),s=$i(s,r,1),r=_n(),s!==null&&(bi(s,1,r),kn(s,r));break}}s=s.return}}function $w(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=_n(),r.pingedLanes|=r.suspendedLanes&a,Bt===r&&(Xt&a)===a&&(bt===4||bt===3&&(Xt&130023424)===Xt&&500>ot()-ud?Bs(r,0):ld|=a),kn(r,s)}function Tg(r,s){s===0&&(r.mode&1?(s=uo,uo<<=1,!(uo&130023424)&&(uo=4194304)):s=1);var a=_n();r=li(r,s),r!==null&&(bi(r,s,a),kn(r,a))}function Qw(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Tg(r,a)}function Yw(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Tg(r,a)}var Ig;Ig=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Sn.current)Cn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return Cn=!1,Mw(r,s,a);Cn=!!(r.flags&131072)}else Cn=!1,wt&&s.flags&1048576&&nm(s,au,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Tu(r,s),r=s.pendingProps;var f=ko(s,on.current);Vo(s,a),f=jh(null,s,c,r,f,a);var g=Bh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Rn(c)?(g=!0,iu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Lh(s),f.updater=wu,s.stateNode=f,f._reactInternals=s,Kh(s,c,r,a),s=Xh(null,s,c,!0,g,a)):(s.tag=0,wt&&g&&Ih(s),vn(null,s,f,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Tu(r,s),r=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=Jw(c),r=gr(c,r),f){case 0:s=Yh(null,s,c,r,a);break e;case 1:s=Qm(null,s,c,r,a);break e;case 11:s=qm(null,s,c,r,a);break e;case 14:s=Wm(null,s,c,gr(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:gr(c,f),Yh(r,s,c,f,a);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:gr(c,f),Qm(r,s,c,f,a);case 3:e:{if(Ym(s),r===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,f=g.element,hm(r,s),fu(s,c,null,a);var w=s.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Mo(Error(t(423)),s),s=Xm(r,s,c,a,f);break e}else if(c!==f){f=Mo(Error(t(424)),s),s=Xm(r,s,c,a,f);break e}else for(Un=Hi(s.stateNode.containerInfo.firstChild),Mn=s,wt=!0,mr=null,a=um(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Do(),c===f){s=ci(r,s,a);break e}vn(r,s,c,a)}s=s.child}return s;case 5:return pm(s),r===null&&Rh(s),c=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,yh(c,f)?w=null:g!==null&&yh(c,g)&&(s.flags|=32),$m(r,s),vn(r,s,w,a),s.child;case 6:return r===null&&Rh(s),null;case 13:return Jm(r,s,a);case 4:return Oh(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Lo(s,null,c,a):vn(r,s,c,a),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:gr(c,f),qm(r,s,c,f,a);case 7:return vn(r,s,s.pendingProps,a),s.child;case 8:return vn(r,s,s.pendingProps.children,a),s.child;case 12:return vn(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,dt(cu,c._currentValue),c._currentValue=w,g!==null)if(pr(g.value,w)){if(g.children===f.children&&!Sn.current){s=ci(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var C=g.dependencies;if(C!==null){w=g.child;for(var D=C.firstContext;D!==null;){if(D.context===c){if(g.tag===1){D=ui(-1,a&-a),D.tag=2;var G=g.updateQueue;if(G!==null){G=G.shared;var re=G.pending;re===null?D.next=D:(D.next=re.next,re.next=D),G.pending=D}}g.lanes|=a,D=g.alternate,D!==null&&(D.lanes|=a),Nh(g.return,a,s),C.lanes|=a;break}D=D.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,C=w.alternate,C!==null&&(C.lanes|=a),Nh(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}vn(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,Vo(s,a),f=$n(f),c=c(f),s.flags|=1,vn(r,s,c,a),s.child;case 14:return c=s.type,f=gr(c,s.pendingProps),f=gr(c.type,f),Wm(r,s,c,f,a);case 15:return Gm(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:gr(c,f),Tu(r,s),s.tag=1,Rn(c)?(r=!0,iu(s)):r=!1,Vo(s,a),Mm(s,c,f),Kh(s,c,f,a),Xh(null,s,c,!0,r,a);case 19:return eg(r,s,a);case 22:return Km(r,s,a)}throw Error(t(156,s.tag))};function Ag(r,s){return Gt(r,s)}function Xw(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(r,s,a,c){return new Xw(r,s,a,c)}function yd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Jw(r){if(typeof r=="function")return yd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===B)return 11;if(r===$e)return 14}return 2}function es(r,s){var a=r.alternate;return a===null?(a=Xn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Lu(r,s,a,c,f,g){var w=2;if(c=r,typeof r=="function")yd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case k:return Hs(a.children,f,g,s);case I:w=8,f|=8;break;case R:return r=Xn(12,a,s,f|2),r.elementType=R,r.lanes=g,r;case P:return r=Xn(13,a,s,f),r.elementType=P,r.lanes=g,r;case ht:return r=Xn(19,a,s,f),r.elementType=ht,r.lanes=g,r;case Qe:return Ou(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:w=10;break e;case V:w=9;break e;case B:w=11;break e;case $e:w=14;break e;case Ct:w=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Xn(w,a,s,f),s.elementType=r,s.type=c,s.lanes=g,s}function Hs(r,s,a,c){return r=Xn(7,r,c,s),r.lanes=a,r}function Ou(r,s,a,c){return r=Xn(22,r,c,s),r.elementType=Qe,r.lanes=a,r.stateNode={isHidden:!1},r}function vd(r,s,a){return r=Xn(6,r,null,s),r.lanes=a,r}function _d(r,s,a){return s=Xn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Zw(r,s,a,c,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vi(0),this.expirationTimes=Vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function wd(r,s,a,c,f,g,w,C,D){return r=new Zw(r,s,a,C,D),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Xn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lh(g),r}function eE(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function Sg(r){if(!r)return Wi;r=r._reactInternals;e:{if(qe(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Rn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Rn(a))return Zp(r,a,s)}return s}function Rg(r,s,a,c,f,g,w,C,D){return r=wd(a,c,!0,r,f,g,w,C,D),r.context=Sg(null),a=r.current,c=_n(),f=Ji(a),g=ui(c,f),g.callback=s??null,$i(a,g,f),r.current.lanes=f,bi(r,f,c),kn(r,c),r}function Vu(r,s,a,c){var f=s.current,g=_n(),w=Ji(f);return a=Sg(a),s.context===null?s.context=a:s.pendingContext=a,s=ui(g,w),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=$i(f,s,w),r!==null&&(_r(r,f,w,g),du(r,f,w)),w}function bu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Cg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Ed(r,s){Cg(r,s),(r=r.alternate)&&Cg(r,s)}function tE(){return null}var Pg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Td(r){this._internalRoot=r}Mu.prototype.render=Td.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Vu(r,s,null,null)},Mu.prototype.unmount=Td.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;js(function(){Vu(null,r,null,null)}),s[ii]=null}};function Mu(r){this._internalRoot=r}Mu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ml();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Dr.length&&s!==0&&s<Dr[a].priority;a++);Dr.splice(a,0,r),a===0&&jl(r)}};function Id(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Uu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function kg(){}function nE(r,s,a,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var G=bu(w);g.call(G)}}var w=Rg(s,c,r,0,null,!1,!1,"",kg);return r._reactRootContainer=w,r[ii]=w.current,xa(r.nodeType===8?r.parentNode:r),js(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var C=c;c=function(){var G=bu(D);C.call(G)}}var D=wd(r,0,!1,null,null,!1,!1,"",kg);return r._reactRootContainer=D,r[ii]=D.current,xa(r.nodeType===8?r.parentNode:r),js(function(){Vu(s,D,a,c)}),D}function Fu(r,s,a,c,f){var g=a._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var C=f;f=function(){var D=bu(w);C.call(D)}}Vu(s,w,r,f)}else w=nE(a,s,r,f,c);return bu(w)}Vl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Oi(s.pendingLanes);a!==0&&(Mi(s,a|1),kn(s,ot()),!(nt&6)&&(jo=ot()+500,Gi()))}break;case 13:js(function(){var c=li(r,1);if(c!==null){var f=_n();_r(c,r,1,f)}}),Ed(r,1)}},co=function(r){if(r.tag===13){var s=li(r,134217728);if(s!==null){var a=_n();_r(s,r,134217728,a)}Ed(r,134217728)}},bl=function(r){if(r.tag===13){var s=Ji(r),a=li(r,s);if(a!==null){var c=_n();_r(a,r,s,c)}Ed(r,s)}},Ml=function(){return We},Ul=function(r,s){var a=We;try{return We=r,s()}finally{We=a}},Qr=function(r,s,a){switch(s){case"input":if(Ts(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var f=nu(c);if(!f)throw Error(t(90));Ri(c),Ts(c,f)}}}break;case"textarea":Rr(r,a);break;case"select":s=a.value,s!=null&&qt(r,!!a.multiple,s,!1)}},Yr=pd,O=js;var rE={usingClientEntryPoint:!1,Events:[La,Co,nu,mn,Ss,pd]},Ka={findFiberByHostInstance:Ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iE={bundleType:Ka.bundleType,version:Ka.version,rendererPackageName:Ka.rendererPackageName,rendererConfig:Ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=or(r),r===null?null:r.stateNode},findFiberByHostInstance:Ka.findFiberByHostInstance||tE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Tn=ju.inject(iE),sn=ju}catch{}}return xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rE,xn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Id(s))throw Error(t(200));return eE(r,s,null,a)},xn.createRoot=function(r,s){if(!Id(r))throw Error(t(299));var a=!1,c="",f=Pg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=wd(r,1,!1,null,null,a,!1,c,f),r[ii]=s.current,xa(r.nodeType===8?r.parentNode:r),new Td(s)},xn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=or(s),r=r===null?null:r.stateNode,r},xn.flushSync=function(r){return js(r)},xn.hydrate=function(r,s,a){if(!Uu(s))throw Error(t(200));return Fu(null,r,s,!0,a)},xn.hydrateRoot=function(r,s,a){if(!Id(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,g="",w=Pg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=Rg(s,null,r,1,a??null,f,!1,g,w),r[ii]=s.current,xa(r),c)for(r=0;r<c.length;r++)a=c[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Mu(s)},xn.render=function(r,s,a){if(!Uu(s))throw Error(t(200));return Fu(null,r,s,!1,a)},xn.unmountComponentAtNode=function(r){if(!Uu(r))throw Error(t(40));return r._reactRootContainer?(js(function(){Fu(null,null,r,!1,function(){r._reactRootContainer=null,r[ii]=null})}),!0):!1},xn.unstable_batchedUpdates=pd,xn.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!Uu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Fu(r,s,a,!1,c)},xn.version="18.3.1-next-f1338f8080-20240426",xn}var Mg;function Tv(){if(Mg)return Rd.exports;Mg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rd.exports=hE(),Rd.exports}var Ug;function dE(){if(Ug)return Bu;Ug=1;var n=Tv();return Bu.createRoot=n.createRoot,Bu.hydrateRoot=n.hydrateRoot,Bu}var fE=dE(),Qa={},Fg;function pE(){if(Fg)return Qa;Fg=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.parse=h,Qa.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,S){const N=new l,L=A.length;if(L<2)return N;const b=(S==null?void 0:S.decode)||_;let q=0;do{const Y=A.indexOf("=",q);if(Y===-1)break;const Z=A.indexOf(";",q),oe=Z===-1?L:Z;if(Y>oe){q=A.lastIndexOf(";",Y-1)+1;continue}const F=d(A,q,Y),ce=p(A,Y,F),k=A.slice(F,ce);if(N[k]===void 0){let I=d(A,Y+1,oe),R=p(A,oe,I);const x=b(A.slice(I,R));N[k]=x}q=oe+1}while(q<L);return N}function d(A,S,N){do{const L=A.charCodeAt(S);if(L!==32&&L!==9)return S}while(++S<N);return N}function p(A,S,N){for(;S>N;){const L=A.charCodeAt(--S);if(L!==32&&L!==9)return S+1}return N}function y(A,S,N){const L=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(A))throw new TypeError(`argument name is invalid: ${A}`);const b=L(S);if(!e.test(b))throw new TypeError(`argument val is invalid: ${S}`);let q=A+"="+b;if(!N)return q;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);q+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);q+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);q+="; Path="+N.path}if(N.expires){if(!T(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);q+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(q+="; HttpOnly"),N.secure&&(q+="; Secure"),N.partitioned&&(q+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return q}function _(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function T(A){return o.call(A)==="[object Date]"}return Qa}pE();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jg="popstate";function mE(n={}){function e(i,o){let{pathname:l,search:h,hash:d}=i.location;return ul("",{pathname:l,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:ms(o)}return yE(e,t,null,n)}function Ke(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function en(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gE(){return Math.random().toString(36).substring(2,10)}function Bg(n,e){return{usr:n.state,key:n.key,idx:e}}function ul(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Es(e):e,state:t,key:e&&e.key||i||gE()}}function ms({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Es(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function yE(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,d="POP",p=null,y=_();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function _(){return(h.state||{idx:null}).idx}function T(){d="POP";let b=_(),q=b==null?null:b-y;y=b,p&&p({action:d,location:L.location,delta:q})}function A(b,q){d="PUSH";let Y=ul(L.location,b,q);y=_()+1;let Z=Bg(Y,y),oe=L.createHref(Y);try{h.pushState(Z,"",oe)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(oe)}l&&p&&p({action:d,location:L.location,delta:1})}function S(b,q){d="REPLACE";let Y=ul(L.location,b,q);y=_();let Z=Bg(Y,y),oe=L.createHref(Y);h.replaceState(Z,"",oe),l&&p&&p({action:d,location:L.location,delta:0})}function N(b){let q=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof b=="string"?b:ms(b);return Y=Y.replace(/ $/,"%20"),Ke(q,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,q)}let L={get action(){return d},get location(){return n(o,h)},listen(b){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(jg,T),p=b,()=>{o.removeEventListener(jg,T),p=null}},createHref(b){return e(o,b)},createURL:N,encodeLocation(b){let q=N(b);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:A,replace:S,go(b){return h.go(b)}};return L}var vE=new Set(["lazy","caseSensitive","path","id","index","children"]);function _E(n){return n.index===!0}function hc(n,e,t=[],i={}){return n.map((o,l)=>{let h=[...t,String(l)],d=typeof o.id=="string"?o.id:h.join("-");if(Ke(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ke(!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),_E(o)){let p={...o,...e(o),id:d};return i[d]=p,p}else{let p={...o,...e(o),id:d,children:void 0};return i[d]=p,o.children&&(p.children=hc(o.children,e,h,i)),p}})}function is(n,e,t="/"){return Xu(n,e,t,!1)}function Xu(n,e,t,i){let o=typeof e=="string"?Es(e):e,l=Ar(o.pathname||"/",t);if(l==null)return null;let h=Iv(n);EE(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let y=DE(l);d=xE(h[p],y,i)}return d}function wE(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function Iv(n,e=[],t=[],i=""){let o=(l,h,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(Ke(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=jr([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(Ke(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Iv(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:PE(y,l.index),routesMeta:_})};return n.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,h);else for(let p of Av(l.path))o(l,h,p)}),e}function Av(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=Av(i.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...h),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function EE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:kE(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var TE=/^:[\w-]+$/,IE=3,AE=2,SE=1,RE=10,CE=-2,zg=n=>n==="*";function PE(n,e){let t=n.split("/"),i=t.length;return t.some(zg)&&(i+=CE),e&&(i+=AE),t.filter(o=>!zg(o)).reduce((o,l)=>o+(TE.test(l)?IE:l===""?SE:RE),i)}function kE(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function xE(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",h=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=dc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),A=p.route;if(!T&&y&&t&&!i[i.length-1].route.index&&(T=dc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:jr([l,T.pathname]),pathnameBase:VE(jr([l,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(l=jr([l,T.pathnameBase]))}return h}function dc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=NE(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:T},A)=>{if(_==="*"){let N=d[A]||"";h=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const S=d[A];return T&&!S?y[_]=void 0:y[_]=(S||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:n}}function NE(n,e=!1,t=!0){en(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function DE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return en(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ar(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function LE(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Es(n):n;return{pathname:t?t.startsWith("/")?t:OE(t,e):e,search:bE(i),hash:ME(o)}}function OE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function kd(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sv(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _f(n){let e=Sv(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function wf(n,e,t,i=!1){let o;typeof n=="string"?o=Es(n):(o={...n},Ke(!o.pathname||!o.pathname.includes("?"),kd("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),kd("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),kd("#","search","hash",o)));let l=n===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!i&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}d=T>=0?e[T]:"/"}let p=LE(o,d),y=h&&h!=="/"&&h.endsWith("/"),_=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var jr=n=>n.join("/").replace(/\/\/+/g,"/"),VE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),bE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ME=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,fc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Nc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Rv=["POST","PUT","PATCH","DELETE"],UE=new Set(Rv),FE=["GET",...Rv],jE=new Set(FE),BE=new Set([301,302,303,307,308]),zE=new Set([307,308]),xd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},HE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ya={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ef=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qE=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Cv="remix-router-transitions",Pv=Symbol("ResetLoaderData");function WE(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ke(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||qE,o={},l=hc(n.routes,i,void 0,o),h,d=n.basename||"/",p=n.dataStrategy||YE,y=n.patchRoutesOnNavigation,_={...n.future},T=null,A=new Set,S=null,N=null,L=null,b=n.hydrationData!=null,q=is(l,n.history.location,d),Y=null;if(q==null&&!y){let O=Jn(404,{pathname:n.history.location.pathname}),{matches:j,route:$}=Zg(l);q=j,Y={[$.id]:O}}q&&!n.hydrationData&&ir(q,l,n.history.location.pathname).active&&(q=null);let Z;if(q)if(q.some(O=>O.route.lazy))Z=!1;else if(!q.some(O=>O.route.loader))Z=!0;else{let O=n.hydrationData?n.hydrationData.loaderData:null,j=n.hydrationData?n.hydrationData.errors:null;if(j){let $=q.findIndex(J=>j[J.route.id]!==void 0);Z=q.slice(0,$+1).every(J=>!Gd(J.route,O,j))}else Z=q.every($=>!Gd($.route,O,j))}else{Z=!1,q=[];let O=ir(null,l,n.history.location.pathname);O.active&&O.matches&&(q=O.matches)}let oe,F={historyAction:n.history.action,location:n.history.location,matches:q,initialized:Z,navigation:xd,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||Y,fetchers:new Map,blockers:new Map},ce="POP",k=!1,I,R=!1,x=new Map,V=null,B=!1,P=!1,ht=new Set,$e=new Map,Ct=0,Qe=-1,ae=new Map,Ie=new Set,de=new Map,U=new Map,X=new Set,Ee=new Map,be,Le=null;function Be(){if(T=n.history.listen(({action:O,location:j,delta:$})=>{if(be){be(),be=void 0;return}en(Ee.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=Di({currentLocation:F.location,nextLocation:j,historyAction:O});if(J&&$!=null){let fe=new Promise(ye=>{be=ye});n.history.go($*-1),kr(J,{state:"blocked",location:j,proceed(){kr(J,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),fe.then(()=>n.history.go($))},reset(){let ye=new Map(F.blockers);ye.set(J,Ya),Ue({blockers:ye})}});return}return nn(O,j)}),t){aT(e,x);let O=()=>lT(e,x);e.addEventListener("pagehide",O),V=()=>e.removeEventListener("pagehide",O)}return F.initialized||nn("POP",F.location,{initialHydration:!0}),oe}function Ze(){T&&T(),V&&V(),A.clear(),I&&I.abort(),F.fetchers.forEach((O,j)=>Dn(j)),F.blockers.forEach((O,j)=>Ni(j))}function et(O){return A.add(O),()=>A.delete(O)}function Ue(O,j={}){F={...F,...O};let $=[],J=[];F.fetchers.forEach((fe,ye)=>{fe.state==="idle"&&(X.has(ye)?$.push(ye):J.push(ye))}),[...A].forEach(fe=>fe(F,{deletedFetchers:$,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),$.forEach(fe=>Dn(fe)),J.forEach(fe=>F.fetchers.delete(fe))}function ft(O,j,{flushSync:$}={}){var le,xe;let J=F.actionData!=null&&F.navigation.formMethod!=null&&wr(F.navigation.formMethod)&&F.navigation.state==="loading"&&((le=O.state)==null?void 0:le._isRedirect)!==!0,fe;j.actionData?Object.keys(j.actionData).length>0?fe=j.actionData:fe=null:J?fe=F.actionData:fe=null;let ye=j.loaderData?Xg(F.loaderData,j.loaderData,j.matches||[],j.errors):F.loaderData,Ce=F.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((Fe,it)=>Ce.set(it,Ya)));let pe=k===!0||F.navigation.formMethod!=null&&wr(F.navigation.formMethod)&&((xe=O.state)==null?void 0:xe._isRedirect)!==!0;h&&(l=h,h=void 0),B||ce==="POP"||(ce==="PUSH"?n.history.push(O,O.state):ce==="REPLACE"&&n.history.replace(O,O.state));let _e;if(ce==="POP"){let Fe=x.get(F.location.pathname);Fe&&Fe.has(O.pathname)?_e={currentLocation:F.location,nextLocation:O}:x.has(O.pathname)&&(_e={currentLocation:O,nextLocation:F.location})}else if(R){let Fe=x.get(F.location.pathname);Fe?Fe.add(O.pathname):(Fe=new Set([O.pathname]),x.set(F.location.pathname,Fe)),_e={currentLocation:F.location,nextLocation:O}}Ue({...j,actionData:fe,loaderData:ye,historyAction:ce,location:O,initialized:!0,navigation:xd,revalidation:"idle",restoreScrollPosition:Ln(O,j.matches||F.matches),preventScrollReset:pe,blockers:Ce},{viewTransitionOpts:_e,flushSync:$===!0}),ce="POP",k=!1,R=!1,B=!1,P=!1,Le==null||Le.resolve(),Le=null}async function Hn(O,j){if(typeof O=="number"){n.history.go(O);return}let $=Wd(F.location,F.matches,d,O,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:J,submission:fe,error:ye}=Hg(!1,$,j),Ce=F.location,pe=ul(F.location,J,j&&j.state);pe={...pe,...n.history.encodeLocation(pe)};let _e=j&&j.replace!=null?j.replace:void 0,le="PUSH";_e===!0?le="REPLACE":_e===!1||fe!=null&&wr(fe.formMethod)&&fe.formAction===F.location.pathname+F.location.search&&(le="REPLACE");let xe=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,Fe=(j&&j.flushSync)===!0,it=Di({currentLocation:Ce,nextLocation:pe,historyAction:le});if(it){kr(it,{state:"blocked",location:pe,proceed(){kr(it,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),Hn(O,j)},reset(){let St=new Map(F.blockers);St.set(it,Ya),Ue({blockers:St})}});return}await nn(le,pe,{submission:fe,pendingError:ye,preventScrollReset:xe,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:Fe})}function Ri(){Le||(Le=uT()),Rr(),Ue({revalidation:"loading"});let O=Le.promise;return F.navigation.state==="submitting"?O:F.navigation.state==="idle"?(nn(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),O):(nn(ce||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:R===!0}),O)}async function nn(O,j,$){I&&I.abort(),I=null,ce=O,B=($&&$.startUninterruptedRevalidation)===!0,En(F.location,F.matches),k=($&&$.preventScrollReset)===!0,R=($&&$.enableViewTransition)===!0;let J=h||l,fe=$&&$.overrideNavigation,ye=is(J,j,d),Ce=($&&$.flushSync)===!0,pe=ir(ye,J,j.pathname);if(pe.active&&pe.matches&&(ye=pe.matches),!ye){let{error:qe,notFoundMatches:tt,route:st}=rr(j.pathname);ft(j,{matches:tt,loaderData:{},errors:{[st.id]:qe}},{flushSync:Ce});return}if(F.initialized&&!P&&nT(F.location,j)&&!($&&$.submission&&wr($.submission.formMethod))){ft(j,{matches:ye},{flushSync:Ce});return}I=new AbortController;let _e=zo(n.history,j,I.signal,$&&$.submission),le;if($&&$.pendingError)le=[Ws(ye).route.id,{type:"error",error:$.pendingError}];else if($&&$.submission&&wr($.submission.formMethod)){let qe=await Kr(_e,j,$.submission,ye,pe.active,{replace:$.replace,flushSync:Ce});if(qe.shortCircuited)return;if(qe.pendingActionResult){let[tt,st]=qe.pendingActionResult;if(jn(st)&&Nc(st.error)&&st.error.status===404){I=null,ft(j,{matches:qe.matches,loaderData:{},errors:{[tt]:st.error}});return}}ye=qe.matches||ye,le=qe.pendingActionResult,fe=Nd(j,$.submission),Ce=!1,pe.active=!1,_e=zo(n.history,_e.url,_e.signal)}let{shortCircuited:xe,matches:Fe,loaderData:it,errors:St}=await Ci(_e,j,ye,pe.active,fe,$&&$.submission,$&&$.fetcherSubmission,$&&$.replace,$&&$.initialHydration===!0,Ce,le);xe||(I=null,ft(j,{matches:Fe||ye,...Jg(le),loaderData:it,errors:St}))}async function Kr(O,j,$,J,fe,ye={}){Rr();let Ce=sT(j,$);if(Ue({navigation:Ce},{flushSync:ye.flushSync===!0}),fe){let le=await mn(J,j.pathname,O.signal);if(le.type==="aborted")return{shortCircuited:!0};if(le.type==="error"){let xe=Ws(le.partialMatches).route.id;return{matches:le.partialMatches,pendingActionResult:[xe,{type:"error",error:le.error}]}}else if(le.matches)J=le.matches;else{let{notFoundMatches:xe,error:Fe,route:it}=rr(j.pathname);return{matches:xe,pendingActionResult:[it.id,{type:"error",error:Fe}]}}}let pe,_e=Za(J,j);if(!_e.route.action&&!_e.route.lazy)pe={type:"error",error:Jn(405,{method:O.method,pathname:j.pathname,routeId:_e.route.id})};else if(pe=(await nr("action",F,O,[_e],J,null))[_e.route.id],O.signal.aborted)return{shortCircuited:!0};if(Gs(pe)){let le;return ye&&ye.replace!=null?le=ye.replace:le=$g(pe.response.headers.get("Location"),new URL(O.url),d)===F.location.pathname+F.location.search,await qt(O,pe,!0,{submission:$,replace:le}),{shortCircuited:!0}}if(jn(pe)){let le=Ws(J,_e.route.id);return(ye&&ye.replace)!==!0&&(ce="PUSH"),{matches:J,pendingActionResult:[le.route.id,pe]}}return{matches:J,pendingActionResult:[_e.route.id,pe]}}async function Ci(O,j,$,J,fe,ye,Ce,pe,_e,le,xe){let Fe=fe||Nd(j,ye),it=ye||Ce||ty(Fe),St=!B&&!_e;if(J){if(St){let pt=Pi(xe);Ue({navigation:Fe,...pt!==void 0?{actionData:pt}:{}},{flushSync:le})}let Ye=await mn($,j.pathname,O.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let pt=Ws(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[pt]:Ye.error}}}else if(Ye.matches)$=Ye.matches;else{let{error:pt,notFoundMatches:Kt,route:lr}=rr(j.pathname);return{matches:Kt,loaderData:{},errors:{[lr.id]:pt}}}}let qe=h||l,[tt,st]=Wg(n.history,F,$,it,j,_e===!0,P,ht,X,de,Ie,qe,d,xe);if(Qe=++Ct,tt.length===0&&st.length===0){let Ye=Pr();return ft(j,{matches:$,loaderData:{},errors:xe&&jn(xe[1])?{[xe[0]]:xe[1].error}:null,...Jg(xe),...Ye?{fetchers:new Map(F.fetchers)}:{}},{flushSync:le}),{shortCircuited:!0}}if(St){let Ye={};if(!J){Ye.navigation=Fe;let pt=Pi(xe);pt!==void 0&&(Ye.actionData=pt)}st.length>0&&(Ye.fetchers=Ts(st)),Ue(Ye,{flushSync:le})}st.forEach(Ye=>{Wt(Ye.key),Ye.controller&&$e.set(Ye.key,Ye.controller)});let sr=()=>st.forEach(Ye=>Wt(Ye.key));I&&I.signal.addEventListener("abort",sr);let{loaderResults:or,fetcherResults:rn}=await $r(F,$,tt,st,O);if(O.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",sr),st.forEach(Ye=>$e.delete(Ye.key));let Gt=zu(or);if(Gt)return await qt(O,Gt.result,!0,{replace:pe}),{shortCircuited:!0};if(Gt=zu(rn),Gt)return Ie.add(Gt.key),await qt(O,Gt.result,!0,{replace:pe}),{shortCircuited:!0};let{loaderData:Xr,errors:xr}=Yg(F,$,or,xe,st,rn);_e&&F.errors&&(xr={...F.errors,...xr});let ar=Pr(),ot=xi(Qe),Jr=ar||ot||st.length>0;return{matches:$,loaderData:Xr,errors:xr,...Jr?{fetchers:new Map(F.fetchers)}:{}}}function Pi(O){if(O&&!jn(O[1]))return{[O[0]]:O[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function Ts(O){return O.forEach(j=>{let $=F.fetchers.get(j.key),J=Xa(void 0,$?$.data:void 0);F.fetchers.set(j.key,J)}),new Map(F.fetchers)}async function oo(O,j,$,J){Wt(O);let fe=(J&&J.flushSync)===!0,ye=h||l,Ce=Wd(F.location,F.matches,d,$,j,J==null?void 0:J.relative),pe=is(ye,Ce,d),_e=ir(pe,ye,Ce);if(_e.active&&_e.matches&&(pe=_e.matches),!pe){lt(O,j,Jn(404,{pathname:Ce}),{flushSync:fe});return}let{path:le,submission:xe,error:Fe}=Hg(!0,Ce,J);if(Fe){lt(O,j,Fe,{flushSync:fe});return}let it=Za(pe,le),St=(J&&J.preventScrollReset)===!0;if(xe&&wr(xe.formMethod)){await ki(O,j,le,it,pe,_e.active,fe,St,xe);return}de.set(O,{routeId:j,path:le}),await tr(O,j,le,it,pe,_e.active,fe,St,xe)}async function ki(O,j,$,J,fe,ye,Ce,pe,_e){Rr(),de.delete(O);function le(mt){if(!mt.route.action&&!mt.route.lazy){let Tn=Jn(405,{method:_e.formMethod,pathname:$,routeId:j});return lt(O,j,Tn,{flushSync:Ce}),!0}return!1}if(!ye&&le(J))return;let xe=F.fetchers.get(O);wn(O,oT(_e,xe),{flushSync:Ce});let Fe=new AbortController,it=zo(n.history,$,Fe.signal,_e);if(ye){let mt=await mn(fe,$,it.signal);if(mt.type==="aborted")return;if(mt.type==="error"){lt(O,j,mt.error,{flushSync:Ce});return}else if(mt.matches){if(fe=mt.matches,J=Za(fe,$),le(J))return}else{lt(O,j,Jn(404,{pathname:$}),{flushSync:Ce});return}}$e.set(O,Fe);let St=Ct,tt=(await nr("action",F,it,[J],fe,O))[J.route.id];if(it.signal.aborted){$e.get(O)===Fe&&$e.delete(O);return}if(X.has(O)){if(Gs(tt)||jn(tt)){wn(O,rs(void 0));return}}else{if(Gs(tt))if($e.delete(O),Qe>St){wn(O,rs(void 0));return}else return Ie.add(O),wn(O,Xa(_e)),qt(it,tt,!1,{fetcherSubmission:_e,preventScrollReset:pe});if(jn(tt)){lt(O,j,tt.error);return}}let st=F.navigation.location||F.location,sr=zo(n.history,st,Fe.signal),or=h||l,rn=F.navigation.state!=="idle"?is(or,F.navigation.location,d):F.matches;Ke(rn,"Didn't find any matches after fetcher action");let Gt=++Ct;ae.set(O,Gt);let Xr=Xa(_e,tt.data);F.fetchers.set(O,Xr);let[xr,ar]=Wg(n.history,F,rn,_e,st,!1,P,ht,X,de,Ie,or,d,[J.route.id,tt]);ar.filter(mt=>mt.key!==O).forEach(mt=>{let Tn=mt.key,sn=F.fetchers.get(Tn),ao=Xa(void 0,sn?sn.data:void 0);F.fetchers.set(Tn,ao),Wt(Tn),mt.controller&&$e.set(Tn,mt.controller)}),Ue({fetchers:new Map(F.fetchers)});let ot=()=>ar.forEach(mt=>Wt(mt.key));Fe.signal.addEventListener("abort",ot);let{loaderResults:Jr,fetcherResults:Ye}=await $r(F,rn,xr,ar,sr);if(Fe.signal.aborted)return;Fe.signal.removeEventListener("abort",ot),ae.delete(O),$e.delete(O),ar.forEach(mt=>$e.delete(mt.key));let pt=zu(Jr);if(pt)return qt(sr,pt.result,!1,{preventScrollReset:pe});if(pt=zu(Ye),pt)return Ie.add(pt.key),qt(sr,pt.result,!1,{preventScrollReset:pe});let{loaderData:Kt,errors:lr}=Yg(F,rn,Jr,void 0,ar,Ye);if(F.fetchers.has(O)){let mt=rs(tt.data);F.fetchers.set(O,mt)}xi(Gt),F.navigation.state==="loading"&&Gt>Qe?(Ke(ce,"Expected pending action"),I&&I.abort(),ft(F.navigation.location,{matches:rn,loaderData:Kt,errors:lr,fetchers:new Map(F.fetchers)})):(Ue({errors:lr,loaderData:Xg(F.loaderData,Kt,rn,lr),fetchers:new Map(F.fetchers)}),P=!1)}async function tr(O,j,$,J,fe,ye,Ce,pe,_e){let le=F.fetchers.get(O);wn(O,Xa(_e,le?le.data:void 0),{flushSync:Ce});let xe=new AbortController,Fe=zo(n.history,$,xe.signal);if(ye){let tt=await mn(fe,$,Fe.signal);if(tt.type==="aborted")return;if(tt.type==="error"){lt(O,j,tt.error,{flushSync:Ce});return}else if(tt.matches)fe=tt.matches,J=Za(fe,$);else{lt(O,j,Jn(404,{pathname:$}),{flushSync:Ce});return}}$e.set(O,xe);let it=Ct,qe=(await nr("loader",F,Fe,[J],fe,O))[J.route.id];if($e.get(O)===xe&&$e.delete(O),!Fe.signal.aborted){if(X.has(O)){wn(O,rs(void 0));return}if(Gs(qe))if(Qe>it){wn(O,rs(void 0));return}else{Ie.add(O),await qt(Fe,qe,!1,{preventScrollReset:pe});return}if(jn(qe)){lt(O,j,qe.error);return}wn(O,rs(qe.data))}}async function qt(O,j,$,{submission:J,fetcherSubmission:fe,preventScrollReset:ye,replace:Ce}={}){j.response.headers.has("X-Remix-Revalidate")&&(P=!0);let pe=j.response.headers.get("Location");Ke(pe,"Expected a Location header on the redirect Response"),pe=$g(pe,new URL(O.url),d);let _e=ul(F.location,pe,{_isRedirect:!0});if(t){let qe=!1;if(j.response.headers.has("X-Remix-Reload-Document"))qe=!0;else if(Ef.test(pe)){const tt=n.history.createURL(pe);qe=tt.origin!==e.location.origin||Ar(tt.pathname,d)==null}if(qe){Ce?e.location.replace(pe):e.location.assign(pe);return}}I=null;let le=Ce===!0||j.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:xe,formAction:Fe,formEncType:it}=F.navigation;!J&&!fe&&xe&&Fe&&it&&(J=ty(F.navigation));let St=J||fe;if(zE.has(j.response.status)&&St&&wr(St.formMethod))await nn(le,_e,{submission:{...St,formAction:pe},preventScrollReset:ye||k,enableViewTransition:$?R:void 0});else{let qe=Nd(_e,J);await nn(le,_e,{overrideNavigation:qe,fetcherSubmission:fe,preventScrollReset:ye||k,enableViewTransition:$?R:void 0})}}async function nr(O,j,$,J,fe,ye){let Ce,pe={};try{Ce=await XE(p,O,j,$,J,fe,ye,o,i)}catch(_e){return J.forEach(le=>{pe[le.route.id]={type:"error",error:_e}}),pe}for(let[_e,le]of Object.entries(Ce))if(rT(le)){let xe=le.result;pe[_e]={type:"redirect",response:eT(xe,$,_e,fe,d)}}else pe[_e]=await ZE(le);return pe}async function $r(O,j,$,J,fe){let ye=nr("loader",O,fe,$,j,null),Ce=Promise.all(J.map(async le=>{if(le.matches&&le.match&&le.controller){let Fe=(await nr("loader",O,zo(n.history,le.path,le.controller.signal),[le.match],le.matches,le.key))[le.match.route.id];return{[le.key]:Fe}}else return Promise.resolve({[le.key]:{type:"error",error:Jn(404,{pathname:le.path})}})})),pe=await ye,_e=(await Ce).reduce((le,xe)=>Object.assign(le,xe),{});return{loaderResults:pe,fetcherResults:_e}}function Rr(){P=!0,de.forEach((O,j)=>{$e.has(j)&&ht.add(j),Wt(j)})}function wn(O,j,$={}){F.fetchers.set(O,j),Ue({fetchers:new Map(F.fetchers)},{flushSync:($&&$.flushSync)===!0})}function lt(O,j,$,J={}){let fe=Ws(F.matches,j);Dn(O),Ue({errors:{[fe.route.id]:$},fetchers:new Map(F.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function At(O){return U.set(O,(U.get(O)||0)+1),X.has(O)&&X.delete(O),F.fetchers.get(O)||HE}function Dn(O){let j=F.fetchers.get(O);$e.has(O)&&!(j&&j.state==="loading"&&ae.has(O))&&Wt(O),de.delete(O),ae.delete(O),Ie.delete(O),X.delete(O),ht.delete(O),F.fetchers.delete(O)}function Is(O){let j=(U.get(O)||0)-1;j<=0?(U.delete(O),X.add(O)):U.set(O,j),Ue({fetchers:new Map(F.fetchers)})}function Wt(O){let j=$e.get(O);j&&(j.abort(),$e.delete(O))}function Cr(O){for(let j of O){let $=At(j),J=rs($.data);F.fetchers.set(j,J)}}function Pr(){let O=[],j=!1;for(let $ of Ie){let J=F.fetchers.get($);Ke(J,`Expected fetcher: ${$}`),J.state==="loading"&&(Ie.delete($),O.push($),j=!0)}return Cr(O),j}function xi(O){let j=[];for(let[$,J]of ae)if(J<O){let fe=F.fetchers.get($);Ke(fe,`Expected fetcher: ${$}`),fe.state==="loading"&&(Wt($),ae.delete($),j.push($))}return Cr(j),j.length>0}function As(O,j){let $=F.blockers.get(O)||Ya;return Ee.get(O)!==j&&Ee.set(O,j),$}function Ni(O){F.blockers.delete(O),Ee.delete(O)}function kr(O,j){let $=F.blockers.get(O)||Ya;Ke($.state==="unblocked"&&j.state==="blocked"||$.state==="blocked"&&j.state==="blocked"||$.state==="blocked"&&j.state==="proceeding"||$.state==="blocked"&&j.state==="unblocked"||$.state==="proceeding"&&j.state==="unblocked",`Invalid blocker state transition: ${$.state} -> ${j.state}`);let J=new Map(F.blockers);J.set(O,j),Ue({blockers:J})}function Di({currentLocation:O,nextLocation:j,historyAction:$}){if(Ee.size===0)return;Ee.size>1&&en(!1,"A router only supports one blocker at a time");let J=Array.from(Ee.entries()),[fe,ye]=J[J.length-1],Ce=F.blockers.get(fe);if(!(Ce&&Ce.state==="proceeding")&&ye({currentLocation:O,nextLocation:j,historyAction:$}))return fe}function rr(O){let j=Jn(404,{pathname:O}),$=h||l,{matches:J,route:fe}=Zg($);return{notFoundMatches:J,route:fe,error:j}}function Li(O,j,$){if(S=O,L=j,N=$||null,!b&&F.navigation===xd){b=!0;let J=Ln(F.location,F.matches);J!=null&&Ue({restoreScrollPosition:J})}return()=>{S=null,L=null,N=null}}function Qr(O,j){return N&&N(O,j.map(J=>wE(J,F.loaderData)))||O.key}function En(O,j){if(S&&L){let $=Qr(O,j);S[$]=L()}}function Ln(O,j){if(S){let $=Qr(O,j),J=S[$];if(typeof J=="number")return J}return null}function ir(O,j,$){if(y)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:Xu(j,$,d,!0)}}else return{active:!0,matches:Xu(j,$,d,!0)||[]};return{active:!1,matches:null}}async function mn(O,j,$){if(!y)return{type:"success",matches:O};let J=O;for(;;){let fe=h==null,ye=h||l,Ce=o;try{await y({path:j,matches:J,patch:(le,xe)=>{$.aborted||Kg(le,xe,ye,Ce,i)}})}catch(le){return{type:"error",error:le,partialMatches:J}}finally{fe&&!$.aborted&&(l=[...l])}if($.aborted)return{type:"aborted"};let pe=is(ye,j,d);if(pe)return{type:"success",matches:pe};let _e=Xu(ye,j,d,!0);if(!_e||J.length===_e.length&&J.every((le,xe)=>le.route.id===_e[xe].route.id))return{type:"success",matches:null};J=_e}}function Ss(O){o={},h=hc(O,i,void 0,o)}function Yr(O,j){let $=h==null;Kg(O,j,h||l,o,i),$&&(l=[...l],Ue({}))}return oe={get basename(){return d},get future(){return _},get state(){return F},get routes(){return l},get window(){return e},initialize:Be,subscribe:et,enableScrollRestoration:Li,navigate:Hn,fetch:oo,revalidate:Ri,createHref:O=>n.history.createHref(O),encodeLocation:O=>n.history.encodeLocation(O),getFetcher:At,deleteFetcher:Is,dispose:Ze,getBlocker:As,deleteBlocker:Ni,patchRoutes:Yr,_internalFetchControllers:$e,_internalSetRoutes:Ss},oe}function GE(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Wd(n,e,t,i,o,l){let h,d;if(o){h=[];for(let y of e)if(h.push(y),y.route.id===o){d=y;break}}else h=e,d=e[e.length-1];let p=wf(i||".",_f(h),Ar(n.pathname,t)||n.pathname,l==="path");if(i==null&&(p.search=n.search,p.hash=n.hash),(i==null||i===""||i===".")&&d){let y=Tf(p.search);if(d.route.index&&!y)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&y){let _=new URLSearchParams(p.search),T=_.getAll("index");_.delete("index"),T.filter(S=>S).forEach(S=>_.append("index",S));let A=_.toString();p.search=A?`?${A}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:jr([t,p.pathname])),ms(p)}function Hg(n,e,t){if(!t||!GE(t))return{path:e};if(t.formMethod&&!iT(t.formMethod))return{path:e,error:Jn(405,{method:t.formMethod})};let i=()=>({path:e,error:Jn(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),h=xv(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!wr(l))return i();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((A,[S,N])=>`${A}${S}=${N}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:h,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!wr(l))return i();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:h,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}Ke(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=Kd(t.formData),p=t.formData;else if(t.body instanceof FormData)d=Kd(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=Qg(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=Qg(d)}catch{return i()}let y={formMethod:l,formAction:h,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(wr(y.formMethod))return{path:e,submission:y};let _=Es(e);return n&&_.search&&Tf(_.search)&&d.append("index",""),_.search=`?${d}`,{path:ms(_),submission:y}}function qg(n,e,t=!1){let i=n.findIndex(o=>o.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function Wg(n,e,t,i,o,l,h,d,p,y,_,T,A,S){let N=S?jn(S[1])?S[1].error:S[1].data:void 0,L=n.createURL(e.location),b=n.createURL(o),q=t;l&&e.errors?q=qg(t,Object.keys(e.errors)[0],!0):S&&jn(S[1])&&(q=qg(t,S[0]));let Y=S?S[1].statusCode:void 0,Z=Y&&Y>=400,oe=q.filter((ce,k)=>{let{route:I}=ce;if(I.lazy)return!0;if(I.loader==null)return!1;if(l)return Gd(I,e.loaderData,e.errors);if(KE(e.loaderData,e.matches[k],ce))return!0;let R=e.matches[k],x=ce;return Gg(ce,{currentUrl:L,currentParams:R.params,nextUrl:b,nextParams:x.params,...i,actionResult:N,actionStatus:Y,defaultShouldRevalidate:Z?!1:h||L.pathname+L.search===b.pathname+b.search||L.search!==b.search||$E(R,x)})}),F=[];return y.forEach((ce,k)=>{if(l||!t.some(B=>B.route.id===ce.routeId)||p.has(k))return;let I=is(T,ce.path,A);if(!I){F.push({key:k,routeId:ce.routeId,path:ce.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(k),x=Za(I,ce.path),V=!1;_.has(k)?V=!1:d.has(k)?(d.delete(k),V=!0):R&&R.state!=="idle"&&R.data===void 0?V=h:V=Gg(x,{currentUrl:L,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:t[t.length-1].params,...i,actionResult:N,actionStatus:Y,defaultShouldRevalidate:Z?!1:h}),V&&F.push({key:k,routeId:ce.routeId,path:ce.path,matches:I,match:x,controller:new AbortController})}),[oe,F]}function Gd(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function KE(n,e,t){let i=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return i||o}function $E(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Gg(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Kg(n,e,t,i,o){let l;if(n){let p=i[n];Ke(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let h=e.filter(p=>!l.some(y=>kv(p,y))),d=hc(h,o,[n||"_","patch",String((l==null?void 0:l.length)||"0")],i);l.push(...d)}function kv(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(l=>kv(t,l))}):!1}async function QE(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];Ke(o,"No route found in manifest");let l={};for(let h in i){let p=o[h]!==void 0&&h!=="hasErrorBoundary";en(!p,`Route "${o.id}" has a static property "${h}" defined but its lazy function is also returning a value for this property. The lazy route property "${h}" will be ignored.`),!p&&!vE.has(h)&&(l[h]=i[h])}Object.assign(o,l),Object.assign(o,{...e(o),lazy:void 0})}async function YE({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,o,l)=>Object.assign(i,{[e[l].route.id]:o}),{})}async function XE(n,e,t,i,o,l,h,d,p,y){let _=l.map(S=>S.route.lazy?QE(S.route,p,d):void 0),T=l.map((S,N)=>{let L=_[N],b=o.some(Y=>Y.route.id===S.route.id);return{...S,shouldLoad:b,resolve:async Y=>(Y&&i.method==="GET"&&(S.route.lazy||S.route.loader)&&(b=!0),b?JE(e,i,S,L,Y,y):Promise.resolve({type:"data",result:void 0}))}}),A=await n({matches:T,request:i,params:l[0].params,fetcherKey:h,context:y});try{await Promise.all(_)}catch{}return A}async function JE(n,e,t,i,o,l){let h,d,p=y=>{let _,T=new Promise((N,L)=>_=L);d=()=>_(),e.signal.addEventListener("abort",d);let A=N=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):y({request:e,params:t.params,context:l},...N!==void 0?[N]:[]),S=(async()=>{try{return{type:"data",result:await(o?o(L=>A(L)):A())}}catch(N){return{type:"error",result:N}}})();return Promise.race([S,T])};try{let y=t.route[n];if(i)if(y){let _,[T]=await Promise.all([p(y).catch(A=>{_=A}),i]);if(_!==void 0)throw _;h=T}else if(await i,y=t.route[n],y)h=await p(y);else if(n==="action"){let _=new URL(e.url),T=_.pathname+_.search;throw Jn(405,{method:e.method,pathname:T,routeId:t.route.id})}else return{type:"data",result:void 0};else if(y)h=await p(y);else{let _=new URL(e.url),T=_.pathname+_.search;throw Jn(404,{pathname:T})}}catch(y){return{type:"error",result:y}}finally{d&&e.signal.removeEventListener("abort",d)}return h}async function ZE(n){var i,o,l,h;let{result:e,type:t}=n;if(Nv(e)){let d;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new fc(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(t==="error"){if(ey(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new fc(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Nc(e)?e.status:void 0}}return ey(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function eT(n,e,t,i,o){let l=n.headers.get("Location");if(Ke(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ef.test(l)){let h=i.slice(0,i.findIndex(d=>d.route.id===t)+1);l=Wd(new URL(e.url),h,o,l),n.headers.set("Location",l)}return n}function $g(n,e,t){if(Ef.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=Ar(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return n}function zo(n,e,t,i){let o=n.createURL(xv(e)).toString(),l={signal:t};if(i&&wr(i.formMethod)){let{formMethod:h,formEncType:d}=i;l.method=h.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(i.json)):d==="text/plain"?l.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?l.body=Kd(i.formData):l.body=i.formData}return new Request(o,l)}function Kd(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function Qg(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function tT(n,e,t,i=!1,o=!1){let l={},h=null,d,p=!1,y={},_=t&&jn(t[1])?t[1].error:void 0;return n.forEach(T=>{if(!(T.route.id in e))return;let A=T.route.id,S=e[A];if(Ke(!Gs(S),"Cannot handle redirect results in processLoaderData"),jn(S)){let N=S.error;if(_!==void 0&&(N=_,_=void 0),h=h||{},o)h[A]=N;else{let L=Ws(n,A);h[L.route.id]==null&&(h[L.route.id]=N)}i||(l[A]=Pv),p||(p=!0,d=Nc(S.error)?S.error.status:500),S.headers&&(y[A]=S.headers)}else l[A]=S.data,S.statusCode&&S.statusCode!==200&&!p&&(d=S.statusCode),S.headers&&(y[A]=S.headers)}),_!==void 0&&t&&(h={[t[0]]:_},l[t[0]]=void 0),{loaderData:l,errors:h,statusCode:d||200,loaderHeaders:y}}function Yg(n,e,t,i,o,l){let{loaderData:h,errors:d}=tT(e,t,i);return o.forEach(p=>{let{key:y,match:_,controller:T}=p,A=l[y];if(Ke(A,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(jn(A)){let S=Ws(n.matches,_==null?void 0:_.route.id);d&&d[S.route.id]||(d={...d,[S.route.id]:A.error}),n.fetchers.delete(y)}else if(Gs(A))Ke(!1,"Unhandled fetcher revalidation redirect");else{let S=rs(A.data);n.fetchers.set(y,S)}}),{loaderData:h,errors:d}}function Xg(n,e,t,i){let o=Object.entries(e).filter(([,l])=>l!==Pv).reduce((l,[h,d])=>(l[h]=d,l),{});for(let l of t){let h=l.route.id;if(!e.hasOwnProperty(h)&&n.hasOwnProperty(h)&&l.route.loader&&(o[h]=n[h]),i&&i.hasOwnProperty(h))break}return o}function Jg(n){return n?jn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ws(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function Zg(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Jn(n,{pathname:e,routeId:t,method:i,type:o,message:l}={}){let h="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(h="Bad Request",i&&e&&t?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):n===403?(h="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(h="Not Found",d=`No route matches URL "${e}"`):n===405&&(h="Method Not Allowed",i&&e&&t?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new fc(n||500,h,new Error(d),!0)}function zu(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(Gs(o))return{key:i,result:o}}}function xv(n){let e=typeof n=="string"?Es(n):n;return ms({...e,hash:""})}function nT(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function rT(n){return Nv(n.result)&&BE.has(n.result.status)}function jn(n){return n.type==="error"}function Gs(n){return(n&&n.type)==="redirect"}function ey(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Nv(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function iT(n){return jE.has(n.toUpperCase())}function wr(n){return UE.has(n.toUpperCase())}function Tf(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Za(n,e){let t=typeof e=="string"?Es(e).search:e.search;if(n[n.length-1].route.index&&Tf(t||""))return n[n.length-1];let i=Sv(n);return i[i.length-1]}function ty(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:l,json:h}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:h,text:void 0}}}function Nd(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function sT(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Xa(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function oT(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function rs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function aT(n,e){try{let t=n.sessionStorage.getItem(Cv);if(t){let i=JSON.parse(t);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function lT(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(Cv,JSON.stringify(t))}catch(i){en(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function uT(){let n,e,t=new Promise((i,o)=>{n=async l=>{i(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var eo=K.createContext(null);eo.displayName="DataRouter";var wl=K.createContext(null);wl.displayName="DataRouterState";var If=K.createContext({isTransitioning:!1});If.displayName="ViewTransition";var Dv=K.createContext(new Map);Dv.displayName="Fetchers";var cT=K.createContext(null);cT.displayName="Await";var Gr=K.createContext(null);Gr.displayName="Navigation";var Dc=K.createContext(null);Dc.displayName="Location";var Ai=K.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var Af=K.createContext(null);Af.displayName="RouteError";function hT(n,{relative:e}={}){Ke(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=K.useContext(Gr),{hash:o,pathname:l,search:h}=Tl(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:jr([t,l])),i.createHref({pathname:d,search:h,hash:o})}function El(){return K.useContext(Dc)!=null}function to(){return Ke(El(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Dc).location}var Lv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ov(n){K.useContext(Gr).static||K.useLayoutEffect(n)}function Lc(){let{isDataRoute:n}=K.useContext(Ai);return n?AT():dT()}function dT(){Ke(El(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(eo),{basename:e,navigator:t}=K.useContext(Gr),{matches:i}=K.useContext(Ai),{pathname:o}=to(),l=JSON.stringify(_f(i)),h=K.useRef(!1);return Ov(()=>{h.current=!0}),K.useCallback((p,y={})=>{if(en(h.current,Lv),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=wf(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:jr([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,o,n])}K.createContext(null);function Tl(n,{relative:e}={}){let{matches:t}=K.useContext(Ai),{pathname:i}=to(),o=JSON.stringify(_f(t));return K.useMemo(()=>wf(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function fT(n,e,t,i){Ke(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=K.useContext(Gr),{matches:l}=K.useContext(Ai),h=l[l.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let q=_&&_.path||"";Vv(p,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let T=to(),A;A=T;let S=A.pathname||"/",N=S;if(y!=="/"){let q=y.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(q.length).join("/")}let L=is(n,{pathname:N});return en(_||L!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),en(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),vT(L&&L.map(q=>Object.assign({},q,{params:Object.assign({},d,q.params),pathname:jr([y,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:jr([y,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),l,t,i)}function pT(){let n=IT(),e=Nc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:l},"ErrorBoundary")," or"," ",K.createElement("code",{style:l},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:o},t):null,h)}var mT=K.createElement(pT,null),gT=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(Ai.Provider,{value:this.props.routeContext},K.createElement(Af.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yT({routeContext:n,match:e,children:t}){let i=K.useContext(eo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Ai.Provider,{value:n},t)}function vT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);Ke(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:_,errors:T}=t,A=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||A){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let T,A=!1,S=null,N=null;t&&(T=l&&y.route.id?l[y.route.id]:void 0,S=y.route.errorElement||mT,h&&(d<0&&_===0?(Vv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,N=null):d===_&&(A=!0,N=y.route.hydrateFallbackElement||null)));let L=e.concat(o.slice(0,_+1)),b=()=>{let q;return T?q=S:A?q=N:y.route.Component?q=K.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=p,K.createElement(yT,{match:y,routeContext:{outlet:p,matches:L,isDataRoute:t!=null},children:q})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?K.createElement(gT,{location:t.location,revalidation:t.revalidation,component:S,error:T,children:b(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):b()},null)}function Sf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _T(n){let e=K.useContext(eo);return Ke(e,Sf(n)),e}function wT(n){let e=K.useContext(wl);return Ke(e,Sf(n)),e}function ET(n){let e=K.useContext(Ai);return Ke(e,Sf(n)),e}function Rf(n){let e=ET(n),t=e.matches[e.matches.length-1];return Ke(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function TT(){return Rf("useRouteId")}function IT(){var i;let n=K.useContext(Af),e=wT("useRouteError"),t=Rf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function AT(){let{router:n}=_T("useNavigate"),e=Rf("useNavigate"),t=K.useRef(!1);return Ov(()=>{t.current=!0}),K.useCallback(async(o,l={})=>{en(t.current,Lv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var ny={};function Vv(n,e,t){!e&&!ny[n]&&(ny[n]=!0,en(!1,t))}var ry={};function iy(n,e){!n&&!ry[e]&&(ry[e]=!0,console.warn(e))}function ST(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&en(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:K.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&en(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:K.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&en(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:K.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var RT=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function CT({router:n,flushSync:e}){let[t,i]=K.useState(n.state),[o,l]=K.useState(),[h,d]=K.useState({isTransitioning:!1}),[p,y]=K.useState(),[_,T]=K.useState(),[A,S]=K.useState(),N=K.useRef(new Map),L=K.useCallback((Z,{deletedFetchers:oe,flushSync:F,viewTransitionOpts:ce})=>{oe.forEach(I=>N.current.delete(I)),Z.fetchers.forEach((I,R)=>{I.data!==void 0&&N.current.set(R,I.data)}),iy(F===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(iy(ce==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ce||!k){e&&F?e(()=>i(Z)):K.startTransition(()=>i(Z));return}if(e&&F){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let I=n.window.document.startViewTransition(()=>{e(()=>i(Z))});I.finished.finally(()=>{e(()=>{y(void 0),T(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>T(I));return}_?(p&&p.resolve(),_.skipTransition(),S({state:Z,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(l(Z),d({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[n.window,e,_,p]);K.useLayoutEffect(()=>n.subscribe(L),[n,L]),K.useEffect(()=>{h.isTransitioning&&!h.flushSync&&y(new RT)},[h]),K.useEffect(()=>{if(p&&o&&n.window){let Z=o,oe=p.promise,F=n.window.document.startViewTransition(async()=>{K.startTransition(()=>i(Z)),await oe});F.finished.finally(()=>{y(void 0),T(void 0),l(void 0),d({isTransitioning:!1})}),T(F)}},[o,p,n.window]),K.useEffect(()=>{p&&o&&t.location.key===o.location.key&&p.resolve()},[p,_,t.location,o]),K.useEffect(()=>{!h.isTransitioning&&A&&(l(A.state),d({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),S(void 0))},[h.isTransitioning,A]);let b=K.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Z=>n.navigate(Z),push:(Z,oe,F)=>n.navigate(Z,{state:oe,preventScrollReset:F==null?void 0:F.preventScrollReset}),replace:(Z,oe,F)=>n.navigate(Z,{replace:!0,state:oe,preventScrollReset:F==null?void 0:F.preventScrollReset})}),[n]),q=n.basename||"/",Y=K.useMemo(()=>({router:n,navigator:b,static:!1,basename:q}),[n,b,q]);return K.createElement(K.Fragment,null,K.createElement(eo.Provider,{value:Y},K.createElement(wl.Provider,{value:t},K.createElement(Dv.Provider,{value:N.current},K.createElement(If.Provider,{value:h},K.createElement(xT,{basename:q,location:t.location,navigationType:t.historyAction,navigator:b},K.createElement(PT,{routes:n.routes,future:n.future,state:t})))))),null)}var PT=K.memo(kT);function kT({routes:n,future:e,state:t}){return fT(n,void 0,t,e)}function xT({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){Ke(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=K.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=Es(t));let{pathname:p="/",search:y="",hash:_="",state:T=null,key:A="default"}=t,S=K.useMemo(()=>{let N=Ar(p,h);return N==null?null:{location:{pathname:N,search:y,hash:_,state:T,key:A},navigationType:i}},[h,p,y,_,T,A,i]);return en(S!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:K.createElement(Gr.Provider,{value:d},K.createElement(Dc.Provider,{children:e,value:S}))}var Ju="get",Zu="application/x-www-form-urlencoded";function Oc(n){return n!=null&&typeof n.tagName=="string"}function NT(n){return Oc(n)&&n.tagName.toLowerCase()==="button"}function DT(n){return Oc(n)&&n.tagName.toLowerCase()==="form"}function LT(n){return Oc(n)&&n.tagName.toLowerCase()==="input"}function OT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function VT(n,e){return n.button===0&&(!e||e==="_self")&&!OT(n)}var Hu=null;function bT(){if(Hu===null)try{new FormData(document.createElement("form"),0),Hu=!1}catch{Hu=!0}return Hu}var MT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dd(n){return n!=null&&!MT.has(n)?(en(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zu}"`),null):n}function UT(n,e){let t,i,o,l,h;if(DT(n)){let d=n.getAttribute("action");i=d?Ar(d,e):null,t=n.getAttribute("method")||Ju,o=Dd(n.getAttribute("enctype"))||Zu,l=new FormData(n)}else if(NT(n)||LT(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Ar(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Ju,o=Dd(n.getAttribute("formenctype"))||Dd(d.getAttribute("enctype"))||Zu,l=new FormData(d,n),!bT()){let{name:y,type:_,value:T}=n;if(_==="image"){let A=y?`${y}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else y&&l.append(y,T)}}else{if(Oc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ju,i=null,o=Zu,h=n}return l&&o==="text/plain"&&(h=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Cf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function FT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function BT(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await FT(l,t);return h.links?h.links():[]}return[]}));return WT(i.flat(1).filter(jT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function sy(n,e,t,i,o,l){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,d=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>h(p,y)||d(p,y)):l==="data"?e.filter((p,y)=>{var T;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function zT(n,e){return HT(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function HT(n){return[...new Set(n)]}function qT(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function WT(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(qT(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function GT(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function KT(){let n=K.useContext(eo);return Cf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function $T(){let n=K.useContext(wl);return Cf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Pf=K.createContext(void 0);Pf.displayName="FrameworkContext";function bv(){let n=K.useContext(Pf);return Cf(n,"You must render this element inside a <HydratedRouter> element"),n}function QT(n,e){let t=K.useContext(Pf),[i,o]=K.useState(!1),[l,h]=K.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:T}=e,A=K.useRef(null);K.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let L=q=>{q.forEach(Y=>{h(Y.isIntersecting)})},b=new IntersectionObserver(L,{threshold:.5});return A.current&&b.observe(A.current),()=>{b.disconnect()}}},[n]),K.useEffect(()=>{if(i){let L=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(L)}}},[i]);let S=()=>{o(!0)},N=()=>{o(!1),h(!1)};return t?n!=="intent"?[l,A,{}]:[l,A,{onFocus:Ja(d,S),onBlur:Ja(p,N),onMouseEnter:Ja(y,S),onMouseLeave:Ja(_,N),onTouchStart:Ja(T,S)}]:[!1,A,{}]}function Ja(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function YT({page:n,...e}){let{router:t}=KT(),i=K.useMemo(()=>is(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?K.createElement(JT,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function XT(n){let{manifest:e,routeModules:t}=bv(),[i,o]=K.useState([]);return K.useEffect(()=>{let l=!1;return BT(n,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[n,e,t]),i}function JT({page:n,matches:e,...t}){let i=to(),{manifest:o,routeModules:l}=bv(),{loaderData:h,matches:d}=$T(),p=K.useMemo(()=>sy(n,e,d,o,i,"data"),[n,e,d,o,i]),y=K.useMemo(()=>sy(n,e,d,o,i,"assets"),[n,e,d,o,i]),_=K.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let S=new Set,N=!1;if(e.forEach(b=>{var Y;let q=o.routes[b.route.id];!q||!q.hasLoader||(!p.some(Z=>Z.route.id===b.route.id)&&b.route.id in h&&((Y=l[b.route.id])!=null&&Y.shouldRevalidate)||q.hasClientLoader?N=!0:S.add(b.route.id))}),S.size===0)return[];let L=GT(n);return N&&S.size>0&&L.searchParams.set("_routes",e.filter(b=>S.has(b.route.id)).map(b=>b.route.id).join(",")),[L.pathname+L.search]},[h,i,o,p,e,n,l]),T=K.useMemo(()=>zT(y,o),[y,o]),A=XT(y);return K.createElement(K.Fragment,null,_.map(S=>K.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),T.map(S=>K.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),A.map(({key:S,link:N})=>K.createElement("link",{key:S,...N})))}function ZT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Mv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mv&&(window.__reactRouterVersion="7.0.2")}catch{}function eI(n,e){return WE({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:mE({window:e==null?void 0:e.window}),hydrationData:tI(),routes:n,mapRouteProperties:ST,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function tI(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:nI(n.errors)}),n}function nI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new fc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let h=new l(o.message);h.stack="",t[i]=h}catch{}}if(t[i]==null){let l=new Error(o.message);l.stack="",t[i]=l}}else t[i]=o;return t}var Uv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kf=K.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:h,state:d,target:p,to:y,preventScrollReset:_,viewTransition:T,...A},S){let{basename:N}=K.useContext(Gr),L=typeof y=="string"&&Uv.test(y),b,q=!1;if(typeof y=="string"&&L&&(b=y,Mv))try{let R=new URL(window.location.href),x=y.startsWith("//")?new URL(R.protocol+y):new URL(y),V=Ar(x.pathname,N);x.origin===R.origin&&V!=null?y=V+x.search+x.hash:q=!0}catch{en(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=hT(y,{relative:o}),[Z,oe,F]=QT(i,A),ce=oI(y,{replace:h,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:T});function k(R){e&&e(R),R.defaultPrevented||ce(R)}let I=K.createElement("a",{...A,...F,href:b||Y,onClick:q||l?e:k,ref:ZT(S,oe),target:p,"data-discover":!L&&t==="render"?"true":void 0});return Z&&!L?K.createElement(K.Fragment,null,I,K.createElement(YT,{page:Y})):I});kf.displayName="Link";var rI=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:h,viewTransition:d,children:p,...y},_){let T=Tl(h,{relative:y.relative}),A=to(),S=K.useContext(wl),{navigator:N,basename:L}=K.useContext(Gr),b=S!=null&&hI(T)&&d===!0,q=N.encodeLocation?N.encodeLocation(T).pathname:T.pathname,Y=A.pathname,Z=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),Z=Z?Z.toLowerCase():null,q=q.toLowerCase()),Z&&L&&(Z=Ar(Z,L)||Z);const oe=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let F=Y===q||!o&&Y.startsWith(q)&&Y.charAt(oe)==="/",ce=Z!=null&&(Z===q||!o&&Z.startsWith(q)&&Z.charAt(q.length)==="/"),k={isActive:F,isPending:ce,isTransitioning:b},I=F?e:void 0,R;typeof i=="function"?R=i(k):R=[i,F?"active":null,ce?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(k):l;return K.createElement(kf,{...y,"aria-current":I,className:R,ref:_,style:x,to:h,viewTransition:d},typeof p=="function"?p(k):p)});rI.displayName="NavLink";var iI=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:h=Ju,action:d,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:T,...A},S)=>{let N=uI(),L=cI(d,{relative:y}),b=h.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&Uv.test(d),Y=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let oe=Z.nativeEvent.submitter,F=(oe==null?void 0:oe.getAttribute("formmethod"))||h;N(oe||Z.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:o,state:l,relative:y,preventScrollReset:_,viewTransition:T})};return K.createElement("form",{ref:S,method:b,action:L,onSubmit:i?p:Y,...A,"data-discover":!q&&n==="render"?"true":void 0})});iI.displayName="Form";function sI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fv(n){let e=K.useContext(eo);return Ke(e,sI(n)),e}function oI(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=Lc(),p=to(),y=Tl(n,{relative:l});return K.useCallback(_=>{if(VT(_,e)){_.preventDefault();let T=t!==void 0?t:ms(p)===ms(y);d(n,{replace:T,state:i,preventScrollReset:o,relative:l,viewTransition:h})}},[p,d,y,t,i,e,n,o,l,h])}var aI=0,lI=()=>`__${String(++aI)}__`;function uI(){let{router:n}=Fv("useSubmit"),{basename:e}=K.useContext(Gr),t=TT();return K.useCallback(async(i,o={})=>{let{action:l,method:h,encType:d,formData:p,body:y}=UT(i,e);if(o.navigate===!1){let _=o.fetcherKey||lI();await n.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function cI(n,{relative:e}={}){let{basename:t}=K.useContext(Gr),i=K.useContext(Ai);Ke(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Tl(n||".",{relative:e})},h=to();if(n==null){l.search=h.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:jr([t,l.pathname])),ms(l)}function hI(n,e={}){let t=K.useContext(If);Ke(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Fv("useViewTransitionState"),o=Tl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ar(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Ar(t.nextLocation.pathname,i)||t.nextLocation.pathname;return dc(o.pathname,h)!=null||dc(o.pathname,l)!=null}new TextEncoder;var dI=Tv();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fI(n){return K.createElement(CT,{flushSync:dI.flushSync,...n})}function pI(){return he.jsx("div",{className:"pageNotFound h-[100vh] w-[100vw] flex items-center justify-center",children:he.jsxs("div",{className:"backdrop-blur relative bg-[#212121] bg-opacity-70 min-h-[400px] h-[50%] aspect-square flex items-center justify-start flex-col rounded-[50px] ",children:[he.jsx("h1",{className:"mt-[15%] text-white font-bold text-5xl font-inria",children:"Page Not Found"}),he.jsx(kf,{to:"/",children:he.jsx("button",{className:"absolute left-1/2 top-3/4 transform -translate-x-1/2 -translate-y-[70%] bg-[#915472] min-w-[250px] px-3 py-5 rounded-[20px] text-2xl font-inria text-white",children:"Go to Home Page"})})]})})}var oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},mI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],h=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],h=o+1<n.length,d=h?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let A=(d&15)<<2|y>>6,S=y&63;p||(S=64,h||(A=64)),i.push(t[_],t[T],t[A],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(jv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||y==null||T==null)throw new gI;const A=l<<2|d>>4;if(i.push(A),y!==64){const S=d<<4&240|y>>2;if(i.push(S),T!==64){const N=y<<6&192|T;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yI=function(n){const e=jv(n);return Bv.encodeByteArray(e,!0)},pc=function(n){return yI(n).replace(/\./g,"")},zv=function(n){try{return Bv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=()=>vI().__FIREBASE_DEFAULTS__,wI=()=>{if(typeof process>"u"||typeof oy>"u")return;const n=oy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},EI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&zv(n[1]);return e&&JSON.parse(e)},Vc=()=>{try{return _I()||wI()||EI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Hv=n=>{var e,t;return(t=(e=Vc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},TI=n=>{const e=Hv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},qv=()=>{var n;return(n=Vc())===null||n===void 0?void 0:n.config},Wv=n=>{var e;return(e=Vc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[pc(JSON.stringify(t)),pc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function RI(){var n;const e=(n=Vc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function kI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xI(){const n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function NI(){return!RI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DI(){try{return typeof indexedDB=="object"}catch{return!1}}function LI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="FirebaseError";class Si extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=OI,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Il.prototype.create)}}class Il{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?VI(l,i):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Si(o,d,i)}}function VI(n,e){return n.replace(bI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const bI=/\{\$([^}]+)}/g;function MI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],h=e[o];if(ay(l)&&ay(h)){if(!mc(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function ay(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function UI(n,e){const t=new FI(n,e);return t.subscribe.bind(t)}class FI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");jI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(n){return n&&n._delegate?n._delegate:n}class Xs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new II;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HI(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:zI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zI(n){return n===qs?void 0:n}function HI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new BI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const WI={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},GI=ze.INFO,KI={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},$I=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=KI[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xf{constructor(e){this.name=e,this._logLevel=GI,this._logHandler=$I,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const QI=(n,e)=>e.some(t=>n instanceof t);let ly,uy;function YI(){return ly||(ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XI(){return uy||(uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gv=new WeakMap,$d=new WeakMap,Kv=new WeakMap,Od=new WeakMap,Nf=new WeakMap;function JI(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(us(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Gv.set(t,n)}).catch(()=>{}),Nf.set(e,n),e}function ZI(n){if($d.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});$d.set(n,e)}let Qd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $d.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Kv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return us(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function eA(n){Qd=n(Qd)}function tA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Vd(this),e,...t);return Kv.set(i,e.sort?e.sort():[e]),us(i)}:XI().includes(n)?function(...e){return n.apply(Vd(this),e),us(Gv.get(this))}:function(...e){return us(n.apply(Vd(this),e))}}function nA(n){return typeof n=="function"?tA(n):(n instanceof IDBTransaction&&ZI(n),QI(n,YI())?new Proxy(n,Qd):n)}function us(n){if(n instanceof IDBRequest)return JI(n);if(Od.has(n))return Od.get(n);const e=nA(n);return e!==n&&(Od.set(n,e),Nf.set(e,n)),e}const Vd=n=>Nf.get(n);function rA(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(n,e),d=us(h);return i&&h.addEventListener("upgradeneeded",p=>{i(us(h.result),p.oldVersion,p.newVersion,us(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const iA=["get","getKey","getAll","getAllKeys","count"],sA=["put","add","delete","clear"],bd=new Map;function cy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bd.get(e))return bd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=sA.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||iA.includes(t)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return bd.set(e,l),l}eA(n=>({...n,get:(e,t,i)=>cy(e,t)||n.get(e,t,i),has:(e,t)=>!!cy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(aA(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function aA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yd="@firebase/app",hy="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new xf("@firebase/app"),lA="@firebase/app-compat",uA="@firebase/analytics-compat",cA="@firebase/analytics",hA="@firebase/app-check-compat",dA="@firebase/app-check",fA="@firebase/auth",pA="@firebase/auth-compat",mA="@firebase/database",gA="@firebase/data-connect",yA="@firebase/database-compat",vA="@firebase/functions",_A="@firebase/functions-compat",wA="@firebase/installations",EA="@firebase/installations-compat",TA="@firebase/messaging",IA="@firebase/messaging-compat",AA="@firebase/performance",SA="@firebase/performance-compat",RA="@firebase/remote-config",CA="@firebase/remote-config-compat",PA="@firebase/storage",kA="@firebase/storage-compat",xA="@firebase/firestore",NA="@firebase/vertexai",DA="@firebase/firestore-compat",LA="firebase",OA="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="[DEFAULT]",VA={[Yd]:"fire-core",[lA]:"fire-core-compat",[cA]:"fire-analytics",[uA]:"fire-analytics-compat",[dA]:"fire-app-check",[hA]:"fire-app-check-compat",[fA]:"fire-auth",[pA]:"fire-auth-compat",[mA]:"fire-rtdb",[gA]:"fire-data-connect",[yA]:"fire-rtdb-compat",[vA]:"fire-fn",[_A]:"fire-fn-compat",[wA]:"fire-iid",[EA]:"fire-iid-compat",[TA]:"fire-fcm",[IA]:"fire-fcm-compat",[AA]:"fire-perf",[SA]:"fire-perf-compat",[RA]:"fire-rc",[CA]:"fire-rc-compat",[PA]:"fire-gcs",[kA]:"fire-gcs-compat",[xA]:"fire-fst",[DA]:"fire-fst-compat",[NA]:"fire-vertex","fire-js":"fire-js",[LA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Map,bA=new Map,Jd=new Map;function dy(n,e){try{n.container.addComponent(e)}catch(t){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ea(n){const e=n.name;if(Jd.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,n);for(const t of gc.values())dy(t,n);for(const t of bA.values())dy(t,n);return!0}function Df(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fi(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new Il("app","Firebase",MA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=OA;function $v(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Xd,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(t||(t=qv()),!t)throw cs.create("no-options");const l=gc.get(o);if(l){if(mc(t,l.options)&&mc(i,l.config))return l;throw cs.create("duplicate-app",{appName:o})}const h=new qI(o);for(const p of Jd.values())h.addComponent(p);const d=new UA(t,i,h);return gc.set(o,d),d}function Qv(n=Xd){const e=gc.get(n);if(!e&&n===Xd&&qv())return $v();if(!e)throw cs.create("no-app",{appName:n});return e}function hs(n,e,t){var i;let o=(i=VA[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(d.join(" "));return}ea(new Xs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="firebase-heartbeat-database",jA=1,cl="firebase-heartbeat-store";let Md=null;function Yv(){return Md||(Md=rA(FA,jA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cl)}catch(t){console.warn(t)}}}}).catch(n=>{throw cs.create("idb-open",{originalErrorMessage:n.message})})),Md}async function BA(n){try{const t=(await Yv()).transaction(cl),i=await t.objectStore(cl).get(Xv(n));return await t.done,i}catch(e){if(e instanceof Si)wi.warn(e.message);else{const t=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wi.warn(t.message)}}}async function fy(n,e){try{const i=(await Yv()).transaction(cl,"readwrite");await i.objectStore(cl).put(e,Xv(n)),await i.done}catch(t){if(t instanceof Si)wi.warn(t.message);else{const i=cs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});wi.warn(i.message)}}}function Xv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=1024,HA=30*24*60*60*1e3;class qA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new GA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=py();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=HA}),this._storage.overwrite(this._heartbeatsCache))}catch(i){wi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=py(),{heartbeatsToSend:i,unsentEntries:o}=WA(this._heartbeatsCache.heartbeats),l=pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return wi.warn(t),""}}}function py(){return new Date().toISOString().substring(0,10)}function WA(n,e=zA){const t=[];let i=n.slice();for(const o of n){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),my(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),my(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class GA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DI()?LI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await BA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return fy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return fy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function my(n){return pc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(n){ea(new Xs("platform-logger",e=>new oA(e),"PRIVATE")),ea(new Xs("heartbeat",e=>new qA(e),"PRIVATE")),hs(Yd,hy,n),hs(Yd,hy,"esm2017"),hs("fire-js","")}KA("");var gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qs,Jv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function R(){}R.prototype=I.prototype,k.D=I.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(x,V,B){for(var P=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)P[ht-2]=arguments[ht];return I.prototype[V].apply(x,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,I,R){R||(R=0);var x=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)x[V]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(V=0;16>V;++V)x[V]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=k.g[0],R=k.g[1],V=k.g[2];var B=k.g[3],P=I+(B^R&(V^B))+x[0]+3614090360&4294967295;I=R+(P<<7&4294967295|P>>>25),P=B+(V^I&(R^V))+x[1]+3905402710&4294967295,B=I+(P<<12&4294967295|P>>>20),P=V+(R^B&(I^R))+x[2]+606105819&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(I^V&(B^I))+x[3]+3250441966&4294967295,R=V+(P<<22&4294967295|P>>>10),P=I+(B^R&(V^B))+x[4]+4118548399&4294967295,I=R+(P<<7&4294967295|P>>>25),P=B+(V^I&(R^V))+x[5]+1200080426&4294967295,B=I+(P<<12&4294967295|P>>>20),P=V+(R^B&(I^R))+x[6]+2821735955&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(I^V&(B^I))+x[7]+4249261313&4294967295,R=V+(P<<22&4294967295|P>>>10),P=I+(B^R&(V^B))+x[8]+1770035416&4294967295,I=R+(P<<7&4294967295|P>>>25),P=B+(V^I&(R^V))+x[9]+2336552879&4294967295,B=I+(P<<12&4294967295|P>>>20),P=V+(R^B&(I^R))+x[10]+4294925233&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(I^V&(B^I))+x[11]+2304563134&4294967295,R=V+(P<<22&4294967295|P>>>10),P=I+(B^R&(V^B))+x[12]+1804603682&4294967295,I=R+(P<<7&4294967295|P>>>25),P=B+(V^I&(R^V))+x[13]+4254626195&4294967295,B=I+(P<<12&4294967295|P>>>20),P=V+(R^B&(I^R))+x[14]+2792965006&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(I^V&(B^I))+x[15]+1236535329&4294967295,R=V+(P<<22&4294967295|P>>>10),P=I+(V^B&(R^V))+x[1]+4129170786&4294967295,I=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(I^R))+x[6]+3225465664&4294967295,B=I+(P<<9&4294967295|P>>>23),P=V+(I^R&(B^I))+x[11]+643717713&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^I&(V^B))+x[0]+3921069994&4294967295,R=V+(P<<20&4294967295|P>>>12),P=I+(V^B&(R^V))+x[5]+3593408605&4294967295,I=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(I^R))+x[10]+38016083&4294967295,B=I+(P<<9&4294967295|P>>>23),P=V+(I^R&(B^I))+x[15]+3634488961&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^I&(V^B))+x[4]+3889429448&4294967295,R=V+(P<<20&4294967295|P>>>12),P=I+(V^B&(R^V))+x[9]+568446438&4294967295,I=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(I^R))+x[14]+3275163606&4294967295,B=I+(P<<9&4294967295|P>>>23),P=V+(I^R&(B^I))+x[3]+4107603335&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^I&(V^B))+x[8]+1163531501&4294967295,R=V+(P<<20&4294967295|P>>>12),P=I+(V^B&(R^V))+x[13]+2850285829&4294967295,I=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(I^R))+x[2]+4243563512&4294967295,B=I+(P<<9&4294967295|P>>>23),P=V+(I^R&(B^I))+x[7]+1735328473&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^I&(V^B))+x[12]+2368359562&4294967295,R=V+(P<<20&4294967295|P>>>12),P=I+(R^V^B)+x[5]+4294588738&4294967295,I=R+(P<<4&4294967295|P>>>28),P=B+(I^R^V)+x[8]+2272392833&4294967295,B=I+(P<<11&4294967295|P>>>21),P=V+(B^I^R)+x[11]+1839030562&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^I)+x[14]+4259657740&4294967295,R=V+(P<<23&4294967295|P>>>9),P=I+(R^V^B)+x[1]+2763975236&4294967295,I=R+(P<<4&4294967295|P>>>28),P=B+(I^R^V)+x[4]+1272893353&4294967295,B=I+(P<<11&4294967295|P>>>21),P=V+(B^I^R)+x[7]+4139469664&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^I)+x[10]+3200236656&4294967295,R=V+(P<<23&4294967295|P>>>9),P=I+(R^V^B)+x[13]+681279174&4294967295,I=R+(P<<4&4294967295|P>>>28),P=B+(I^R^V)+x[0]+3936430074&4294967295,B=I+(P<<11&4294967295|P>>>21),P=V+(B^I^R)+x[3]+3572445317&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^I)+x[6]+76029189&4294967295,R=V+(P<<23&4294967295|P>>>9),P=I+(R^V^B)+x[9]+3654602809&4294967295,I=R+(P<<4&4294967295|P>>>28),P=B+(I^R^V)+x[12]+3873151461&4294967295,B=I+(P<<11&4294967295|P>>>21),P=V+(B^I^R)+x[15]+530742520&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^I)+x[2]+3299628645&4294967295,R=V+(P<<23&4294967295|P>>>9),P=I+(V^(R|~B))+x[0]+4096336452&4294967295,I=R+(P<<6&4294967295|P>>>26),P=B+(R^(I|~V))+x[7]+1126891415&4294967295,B=I+(P<<10&4294967295|P>>>22),P=V+(I^(B|~R))+x[14]+2878612391&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~I))+x[5]+4237533241&4294967295,R=V+(P<<21&4294967295|P>>>11),P=I+(V^(R|~B))+x[12]+1700485571&4294967295,I=R+(P<<6&4294967295|P>>>26),P=B+(R^(I|~V))+x[3]+2399980690&4294967295,B=I+(P<<10&4294967295|P>>>22),P=V+(I^(B|~R))+x[10]+4293915773&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~I))+x[1]+2240044497&4294967295,R=V+(P<<21&4294967295|P>>>11),P=I+(V^(R|~B))+x[8]+1873313359&4294967295,I=R+(P<<6&4294967295|P>>>26),P=B+(R^(I|~V))+x[15]+4264355552&4294967295,B=I+(P<<10&4294967295|P>>>22),P=V+(I^(B|~R))+x[6]+2734768916&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~I))+x[13]+1309151649&4294967295,R=V+(P<<21&4294967295|P>>>11),P=I+(V^(R|~B))+x[4]+4149444226&4294967295,I=R+(P<<6&4294967295|P>>>26),P=B+(R^(I|~V))+x[11]+3174756917&4294967295,B=I+(P<<10&4294967295|P>>>22),P=V+(I^(B|~R))+x[2]+718787259&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~I))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+B&4294967295}i.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var R=I-this.blockSize,x=this.B,V=this.h,B=0;B<I;){if(V==0)for(;B<=R;)o(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<I;)if(x[V++]=k.charCodeAt(B++),V==this.blockSize){o(this,x),V=0;break}}else for(;B<I;)if(x[V++]=k[B++],V==this.blockSize){o(this,x),V=0;break}}this.h=V,this.o+=I},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var R=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=R&255,R/=256;for(this.u(k),k=Array(16),I=R=0;4>I;++I)for(var x=0;32>x;x+=8)k[R++]=this.g[I]>>>x&255;return k};function l(k,I){var R=d;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=I(k)}function h(k,I){this.h=I;for(var R=[],x=!0,V=k.length-1;0<=V;V--){var B=k[V]|0;x&&B==I||(R[V]=B,x=!1)}this.g=R}var d={};function p(k){return-128<=k&&128>k?l(k,function(I){return new h([I|0],0>I?-1:0)}):new h([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return T;if(0>k)return b(y(-k));for(var I=[],R=1,x=0;k>=R;x++)I[x]=k/R|0,R*=4294967296;return new h(I,0)}function _(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return b(_(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(I,8)),x=T,V=0;V<k.length;V+=8){var B=Math.min(8,k.length-V),P=parseInt(k.substring(V,V+B),I);8>B?(B=y(Math.pow(I,B)),x=x.j(B).add(y(P))):(x=x.j(R),x=x.add(y(P)))}return x}var T=p(0),A=p(1),S=p(16777216);n=h.prototype,n.m=function(){if(L(this))return-b(this).m();for(var k=0,I=1,R=0;R<this.g.length;R++){var x=this.i(R);k+=(0<=x?x:4294967296+x)*I,I*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(N(this))return"0";if(L(this))return"-"+b(this).toString(k);for(var I=y(Math.pow(k,6)),R=this,x="";;){var V=oe(R,I).g;R=q(R,V.j(I));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=V,N(R))return B+x;for(;6>B.length;)B="0"+B;x=B+x}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function N(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function L(k){return k.h==-1}n.l=function(k){return k=q(this,k),L(k)?-1:N(k)?0:1};function b(k){for(var I=k.g.length,R=[],x=0;x<I;x++)R[x]=~k.g[x];return new h(R,~k.h).add(A)}n.abs=function(){return L(this)?b(this):this},n.add=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0,V=0;V<=I;V++){var B=x+(this.i(V)&65535)+(k.i(V)&65535),P=(B>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);x=P>>>16,B&=65535,P&=65535,R[V]=P<<16|B}return new h(R,R[R.length-1]&-2147483648?-1:0)};function q(k,I){return k.add(b(I))}n.j=function(k){if(N(this)||N(k))return T;if(L(this))return L(k)?b(this).j(b(k)):b(b(this).j(k));if(L(k))return b(this.j(b(k)));if(0>this.l(S)&&0>k.l(S))return y(this.m()*k.m());for(var I=this.g.length+k.g.length,R=[],x=0;x<2*I;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<k.g.length;V++){var B=this.i(x)>>>16,P=this.i(x)&65535,ht=k.i(V)>>>16,$e=k.i(V)&65535;R[2*x+2*V]+=P*$e,Y(R,2*x+2*V),R[2*x+2*V+1]+=B*$e,Y(R,2*x+2*V+1),R[2*x+2*V+1]+=P*ht,Y(R,2*x+2*V+1),R[2*x+2*V+2]+=B*ht,Y(R,2*x+2*V+2)}for(x=0;x<I;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=I;x<2*I;x++)R[x]=0;return new h(R,0)};function Y(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function Z(k,I){this.g=k,this.h=I}function oe(k,I){if(N(I))throw Error("division by zero");if(N(k))return new Z(T,T);if(L(k))return I=oe(b(k),I),new Z(b(I.g),b(I.h));if(L(I))return I=oe(k,b(I)),new Z(b(I.g),I.h);if(30<k.g.length){if(L(k)||L(I))throw Error("slowDivide_ only works with positive integers.");for(var R=A,x=I;0>=x.l(k);)R=F(R),x=F(x);var V=ce(R,1),B=ce(x,1);for(x=ce(x,2),R=ce(R,2);!N(x);){var P=B.add(x);0>=P.l(k)&&(V=V.add(R),B=P),x=ce(x,1),R=ce(R,1)}return I=q(k,V.j(I)),new Z(V,I)}for(V=T;0<=k.l(I);){for(R=Math.max(1,Math.floor(k.m()/I.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),B=y(R),P=B.j(I);L(P)||0<P.l(k);)R-=x,B=y(R),P=B.j(I);N(B)&&(B=A),V=V.add(B),k=q(k,P)}return new Z(V,k)}n.A=function(k){return oe(this,k).h},n.and=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)&k.i(x);return new h(R,this.h&k.h)},n.or=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)|k.i(x);return new h(R,this.h|k.h)},n.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)^k.i(x);return new h(R,this.h^k.h)};function F(k){for(var I=k.g.length+1,R=[],x=0;x<I;x++)R[x]=k.i(x)<<1|k.i(x-1)>>>31;return new h(R,k.h)}function ce(k,I){var R=I>>5;I%=32;for(var x=k.g.length-R,V=[],B=0;B<x;B++)V[B]=0<I?k.i(B+R)>>>I|k.i(B+R+1)<<32-I:k.i(B+R);return new h(V,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Jv=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,Qs=h}).apply(typeof gy<"u"?gy:typeof self<"u"?self:typeof window<"u"?window:{});var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zv,el,e_,ec,Zd,t_,n_,r_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qu=="object"&&qu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var z=u[E];if(!(z in v))break e;v=v[z]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,E=!1,z={next:function(){if(!E&&v<u.length){var Q=v++;return{value:m(Q,u[Q]),done:!1}}return E=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function T(u,m,v){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,E),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function A(u,m,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,A.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function N(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(E,z,Q){for(var ue=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)ue[ut-2]=arguments[ut];return m.prototype[z].apply(E,ue)}}function L(u){const m=u.length;if(0<m){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function b(u,m){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(p(E)){const z=u.length||0,Q=E.length||0;u.length=z+Q;for(let ue=0;ue<Q;ue++)u[z+ue]=E[ue]}else u.push(E)}}class q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(u){return/^[\s\xa0]*$/.test(u)}function Z(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function oe(u){return oe[" "](u),u}oe[" "]=function(){};var F=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ce(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function k(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function I(u){const m={};for(const v in u)m[v]=u[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let v,E;for(let z=1;z<arguments.length;z++){E=arguments[z];for(v in E)u[v]=E[v];for(let Q=0;Q<R.length;Q++)v=R[Q],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function V(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function B(u){d.setTimeout(()=>{throw u},0)}function P(){var u=Ie;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,v){const E=$e.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var $e=new q(()=>new Ct,u=>u.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Qe,ae=!1,Ie=new ht,de=()=>{const u=d.Promise.resolve(void 0);Qe=()=>{u.then(U)}};var U=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(v){B(v)}var m=$e;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ae=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function Le(u,m){if(Ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(F){e:{try{oe(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Le.aa.h.call(this)}}N(Le,Ee);var Be={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),et=0;function Ue(u,m,v,E,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=z,this.key=++et,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Hn(u){this.src=u,this.g={},this.h=0}Hn.prototype.add=function(u,m,v,E,z){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var ue=nn(u,m,E,z);return-1<ue?(m=u[ue],v||(m.fa=!1)):(m=new Ue(m,this.src,Q,!!E,z),m.fa=v,u.push(m)),m};function Ri(u,m){var v=m.type;if(v in u.g){var E=u.g[v],z=Array.prototype.indexOf.call(E,m,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(E,z,1),Q&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function nn(u,m,v,E){for(var z=0;z<u.length;++z){var Q=u[z];if(!Q.da&&Q.listener==m&&Q.capture==!!v&&Q.ha==E)return z}return-1}var Kr="closure_lm_"+(1e6*Math.random()|0),Ci={};function Pi(u,m,v,E,z){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Pi(u,m[Q],v,E,z);return null}return v=wn(v),u&&u[Ze]?u.K(m,v,y(E)?!!E.capture:!!E,z):Ts(u,m,v,!1,E,z)}function Ts(u,m,v,E,z,Q){if(!m)throw Error("Invalid event type");var ue=y(z)?!!z.capture:!!z,ut=$r(u);if(ut||(u[Kr]=ut=new Hn(u)),v=ut.add(m,v,E,ue,Q),v.proxy)return v;if(E=oo(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)be||(z=ue),z===void 0&&(z=!1),u.addEventListener(m.toString(),E,z);else if(u.attachEvent)u.attachEvent(qt(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function oo(){function u(v){return m.call(u.src,u.listener,v)}const m=nr;return u}function ki(u,m,v,E,z){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)ki(u,m[Q],v,E,z);else E=y(E)?!!E.capture:!!E,v=wn(v),u&&u[Ze]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],v=nn(Q,v,E,z),-1<v&&(ft(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=$r(u))&&(m=u.g[m.toString()],u=-1,m&&(u=nn(m,v,E,z)),(v=-1<u?m[u]:null)&&tr(v))}function tr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ze])Ri(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(qt(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=$r(m))?(Ri(v,u),v.h==0&&(v.src=null,m[Kr]=null)):ft(u)}}}function qt(u){return u in Ci?Ci[u]:Ci[u]="on"+u}function nr(u,m){if(u.da)u=!0;else{m=new Le(m,this);var v=u.listener,E=u.ha||u.src;u.fa&&tr(u),u=v.call(E,m)}return u}function $r(u){return u=u[Kr],u instanceof Hn?u:null}var Rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(u){return typeof u=="function"?u:(u[Rr]||(u[Rr]=function(m){return u.handleEvent(m)}),u[Rr])}function lt(){X.call(this),this.i=new Hn(this),this.M=this,this.F=null}N(lt,X),lt.prototype[Ze]=!0,lt.prototype.removeEventListener=function(u,m,v,E){ki(this,u,m,v,E)};function At(u,m){var v,E=u.F;if(E)for(v=[];E;E=E.F)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new Ee(m,u);else if(m instanceof Ee)m.target=m.target||u;else{var z=m;m=new Ee(E,u),x(m,z)}if(z=!0,v)for(var Q=v.length-1;0<=Q;Q--){var ue=m.g=v[Q];z=Dn(ue,E,!0,m)&&z}if(ue=m.g=u,z=Dn(ue,E,!0,m)&&z,z=Dn(ue,E,!1,m)&&z,v)for(Q=0;Q<v.length;Q++)ue=m.g=v[Q],z=Dn(ue,E,!1,m)&&z}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],E=0;E<v.length;E++)ft(v[E]);delete u.g[m],u.h--}}this.F=null},lt.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},lt.prototype.L=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function Dn(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,Q=0;Q<m.length;++Q){var ue=m[Q];if(ue&&!ue.da&&ue.capture==v){var ut=ue.listener,Ot=ue.ha||ue.src;ue.fa&&Ri(u.i,ue),z=ut.call(Ot,E)!==!1&&z}}return z&&!E.defaultPrevented}function Is(u,m,v){if(typeof u=="function")v&&(u=A(u,v));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function Wt(u){u.g=Is(()=>{u.g=null,u.i&&(u.i=!1,Wt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Cr extends X{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(u){X.call(this),this.h=u,this.g={}}N(Pr,X);var xi=[];function As(u){ce(u.g,function(m,v){this.g.hasOwnProperty(v)&&tr(m)},u),u.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),As(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ni=d.JSON.stringify,kr=d.JSON.parse,Di=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function rr(){}rr.prototype.h=null;function Li(u){return u.h||(u.h=u.i())}function Qr(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ln(){Ee.call(this,"d")}N(Ln,Ee);function ir(){Ee.call(this,"c")}N(ir,Ee);var mn={},Ss=null;function Yr(){return Ss=Ss||new lt}mn.La="serverreachability";function O(u){Ee.call(this,mn.La,u)}N(O,Ee);function j(u){const m=Yr();At(m,new O(m))}mn.STAT_EVENT="statevent";function $(u,m){Ee.call(this,mn.STAT_EVENT,u),this.stat=m}N($,Ee);function J(u){const m=Yr();At(m,new $(m,u))}mn.Ma="timingevent";function fe(u,m){Ee.call(this,mn.Ma,u),this.size=m}N(fe,Ee);function ye(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ce(){this.g=!0}Ce.prototype.xa=function(){this.g=!1};function pe(u,m,v,E,z,Q){u.info(function(){if(u.g)if(Q)for(var ue="",ut=Q.split("&"),Ot=0;Ot<ut.length;Ot++){var Xe=ut[Ot].split("=");if(1<Xe.length){var Ft=Xe[0];Xe=Xe[1];var xt=Ft.split("_");ue=2<=xt.length&&xt[1]=="type"?ue+(Ft+"="+Xe+"&"):ue+(Ft+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+E+") [attempt "+z+"]: "+m+`
`+v+`
`+ue})}function _e(u,m,v,E,z,Q,ue){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+z+"]: "+m+`
`+v+`
`+Q+" "+ue})}function le(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fe(u,v)+(E?" "+E:"")})}function xe(u,m){u.info(function(){return"TIMEOUT: "+m})}Ce.prototype.info=function(){};function Fe(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var E=v[u];if(!(2>E.length)){var z=E[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<z.length;ue++)z[ue]=""}}}}return Ni(v)}catch{return m}}var it={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},St={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qe;function tt(){}N(tt,rr),tt.prototype.g=function(){return new XMLHttpRequest},tt.prototype.i=function(){return{}},qe=new tt;function st(u,m,v,E){this.j=u,this.i=m,this.l=v,this.R=E||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sr}function sr(){this.i=null,this.g="",this.h=!1}var or={},rn={};function Gt(u,m,v){u.L=1,u.v=Mi(On(m)),u.m=v,u.P=!0,Xr(u,null)}function Xr(u,m){u.F=Date.now(),ot(u),u.A=On(u.v);var v=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Fi(v.i,"t",E),u.C=0,v=u.j.J,u.h=new sr,u.g=Gl(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Cr(A(u.Y,u,u.g),u.O)),m=u.U,v=u.g,E=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(xi[0]=z.toString()),z=xi);for(var Q=0;Q<z.length;Q++){var ue=Pi(v,z[Q],E||m.handleEvent,!1,m.h||m);if(!ue)break;m.g[ue.key]=ue}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),j(),pe(u.i,u.u,u.A,u.l,u.R,u.m)}st.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},st.prototype.Y=function(u){try{if(u==this.g)e:{const xt=An(this.g);var m=this.g.Ba();const Wn=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Ea(this.g)))){this.J||xt!=4||m==7||(m==8||0>=Wn?j(3):j(2)),Ye(this);var v=this.g.Z();this.X=v;t:if(xr(this)){var E=Ea(this.g);u="";var z=E.length,Q=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),pt(this);var ue="";break t}this.h.i=new d.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(Q&&m==z-1)});E.length=0,this.h.g+=u,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,_e(this.i,this.u,this.A,this.l,this.R,xt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,Ot=this.g;if((ut=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(ut)){var Xe=ut;break t}}Xe=null}if(v=Xe)le(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lr(this,v);else{this.o=!1,this.s=3,J(12),Kt(this),pt(this);break e}}if(this.P){v=!0;let bn;for(;!this.J&&this.C<ue.length;)if(bn=ar(this,ue),bn==rn){xt==4&&(this.s=4,J(14),v=!1),le(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==or){this.s=4,J(15),le(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else le(this.i,this.l,bn,null),lr(this,bn);if(xr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||ue.length!=0||this.h.h||(this.s=1,J(16),v=!1),this.o=this.o&&v,!v)le(this.i,this.l,ue,"[Invalid Chunked Response]"),Kt(this),pt(this);else if(0<ue.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Ia(Ft),Ft.M=!0,J(11))}}else le(this.i,this.l,ue,null),lr(this,ue);xt==4&&Kt(this),this.o&&!this.J&&(xt==4?_o(this.j,this):(this.o=!1,ot(this)))}else po(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),Kt(this),pt(this)}}}catch{}finally{}};function xr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ar(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?rn:(v=Number(m.substring(v,E)),isNaN(v)?or:(E+=1,E+v>m.length?rn:(m=m.slice(E,E+v),u.C=E+v,m)))}st.prototype.cancel=function(){this.J=!0,Kt(this)};function ot(u){u.S=Date.now()+u.I,Jr(u,u.I)}function Jr(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ye(A(u.ba,u),m)}function Ye(u){u.B&&(d.clearTimeout(u.B),u.B=null)}st.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(xe(this.i,this.A),this.L!=2&&(j(),J(17)),Kt(this),this.s=2,pt(this)):Jr(this,this.S-u)};function pt(u){u.j.G==0||u.J||_o(u.j,u)}function Kt(u){Ye(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,As(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function lr(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||gn(v.h,u))){if(!u.K&&gn(v.h,u)&&v.G==3){try{var E=v.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var z=E;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)vo(v),fr(v);else break e;yo(v),J(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=ye(A(v.Za,v),6e3));if(1>=ao(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ri(v,11)}else if((u.K||v.g==u)&&vo(v),!Y(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let Xe=z[m];if(v.T=Xe[0],Xe=Xe[1],v.G==2)if(Xe[0]=="c"){v.K=Xe[1],v.ia=Xe[2];const Ft=Xe[3];Ft!=null&&(v.la=Ft,v.j.info("VER="+v.la));const xt=Xe[4];xt!=null&&(v.Aa=xt,v.j.info("SVER="+v.Aa));const Wn=Xe[5];Wn!=null&&typeof Wn=="number"&&0<Wn&&(E=1.5*Wn,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const bn=u.g;if(bn){const Ns=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var Q=E.h;Q.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ya(Q,Q.h),Q.h=null))}if(E.D){const Eo=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(E.ya=Eo,ct(E.I,E.D,Eo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var ue=u;if(E.qa=Wl(E,E.J?E.ia:null,E.W),ue.K){Ll(E.h,ue);var ut=ue,Ot=E.L;Ot&&(ut.I=Ot),ut.B&&(Ye(ut),ot(ut)),E.g=ue}else xs(E);0<v.i.length&&Or(v)}else Xe[0]!="stop"&&Xe[0]!="close"||ri(v,7);else v.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?ri(v,7):Qt(v):Xe[0]!="noop"&&v.l&&v.l.ta(Xe),v.v=0)}}j(4)}catch{}}var mt=class{constructor(u,m){this.g=u,this.map=m}};function Tn(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ao(u){return u.h?1:u.g?u.g.size:0}function gn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ya(u,m){u.g?u.g.add(m):u.h=m}function Ll(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Tn.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ol(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return L(u.i)}function lo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,E=0;E<v;E++)m.push(u[E]);return m}m=[],v=0;for(E in u)m[v++]=u[E];return m}function uo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const E in u)m[v++]=E;return m}}}function Oi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=uo(u),E=lo(u),z=E.length,Q=0;Q<z;Q++)m.call(void 0,E[Q],v&&v[Q],u)}var Rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var E=u[v].indexOf("="),z=null;if(0<=E){var Q=u[v].substring(0,E);z=u[v].substring(E+1)}else Q=u[v];m(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Zr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Zr){this.h=u.h,Cs(this,u.j),this.o=u.o,this.g=u.g,Vi(this,u.s),this.l=u.l;var m=u.i,v=new Nr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),bi(this,v),this.m=u.m}else u&&(m=String(u).match(Rs))?(this.h=!1,Cs(this,m[1]||"",!0),this.o=We(m[2]||""),this.g=We(m[3]||"",!0),Vi(this,m[4]),this.l=We(m[5]||"",!0),bi(this,m[6]||"",!0),this.m=We(m[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}Zr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ui(m,co,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ui(m,co,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ui(v,v.charAt(0)=="/"?Ml:bl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ui(v,va)),u.join("")};function On(u){return new Zr(u)}function Cs(u,m,v){u.j=v?We(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Vi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function bi(u,m,v){m instanceof Nr?(u.i=m,Dr(u.i,u.h)):(v||(m=Ui(m,Ul)),u.i=new Nr(m,u.h))}function ct(u,m,v){u.i.set(m,v)}function Mi(u){return ct(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function We(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ui(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Vl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Vl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var co=/[#\/\?@]/g,bl=/[#\?:]/g,Ml=/[#\?]/g,Ul=/[#\?@]/g,va=/#/g;function Nr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function $t(u){u.g||(u.g=new Map,u.h=0,u.i&&eh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Nr.prototype,n.add=function(u,m){$t(this),this.i=null,u=qn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ur(u,m){$t(u),m=qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function cr(u,m){return $t(u),m=qn(u,m),u.g.has(m)}n.forEach=function(u,m){$t(this),this.g.forEach(function(v,E){v.forEach(function(z){u.call(m,z,E,this)},this)},this)},n.na=function(){$t(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let E=0;E<m.length;E++){const z=u[E];for(let Q=0;Q<z.length;Q++)v.push(m[E])}return v},n.V=function(u){$t(this);let m=[];if(typeof u=="string")cr(this,u)&&(m=m.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return $t(this),this.i=null,u=qn(this,u),cr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Fi(u,m,v){ur(u,m),0<v.length&&(u.i=null,u.g.set(qn(u,m),L(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var E=m[v];const Q=encodeURIComponent(String(E)),ue=this.V(E);for(E=0;E<ue.length;E++){var z=Q;ue[E]!==""&&(z+="="+encodeURIComponent(String(ue[E]))),u.push(z)}}return this.i=u.join("&")};function qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Dr(u,m){m&&!u.j&&($t(u),u.i=null,u.g.forEach(function(v,E){var z=E.toLowerCase();E!=z&&(ur(this,E),Fi(this,z,v))},u)),u.j=m}function th(u,m){const v=new Ce;if(d.Image){const E=new Image;E.onload=S(In,v,"TestLoadImage: loaded",!0,m,E),E.onerror=S(In,v,"TestLoadImage: error",!1,m,E),E.onabort=S(In,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=S(In,v,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Fl(u,m){const v=new Ce,E=new AbortController,z=setTimeout(()=>{E.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(Q=>{clearTimeout(z),Q.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),In(v,"TestPingServer: error",!1,m)})}function In(u,m,v,E,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),E(v)}catch{}}function nh(){this.g=new Di}function jl(u,m,v){const E=v||"";try{Oi(u,function(z,Q){let ue=z;y(z)&&(ue=Ni(z)),m.push(E+Q+"="+encodeURIComponent(ue))})}catch(z){throw m.push(E+"type="+encodeURIComponent("_badmap")),z}}function ei(u){this.l=u.Ub||null,this.j=u.eb||!1}N(ei,rr),ei.prototype.g=function(){return new Ps(this.l,this.j)},ei.prototype.i=function(u){return function(){return u}}({});function Ps(u,m){lt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Ps,lt),n=Ps.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,dr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hr(this):dr(this),this.readyState==3&&Bl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,hr(this))},n.Qa=function(u){this.g&&(this.response=u,hr(this))},n.ga=function(){this.g&&hr(this)};function hr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,dr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function dr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ti(u){let m="";return ce(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function ji(u,m,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=ti(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):ct(u,m,v))}function _t(u){lt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(_t,lt);var rh=/^https?$/i,_a=["POST","PUT"];n=_t.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qe.g(),this.v=this.o?Li(this.o):Li(qe),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){ks(this,Q);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var z in E)v.set(z,E[z]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const Q of E.keys())v.set(Q,E.get(Q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(_a,m,void 0))||E||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of v)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fo(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){ks(this,Q)}};function ks(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ho(u),Vn(u)}function ho(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,At(this,"complete"),At(this,"abort"),Vn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vn(this,!0)),_t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},n.bb=function(){wa(this)};function wa(u){if(u.h&&typeof h<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)Is(u.Ea,0,u);else if(At(u,"readystatechange"),An(u)==4){u.h=!1;try{const ue=u.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var E;if(E=ue===0){var z=String(u.D).match(Rs)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),E=!rh.test(z?z.toLowerCase():"")}v=E}if(v)At(u,"complete"),At(u,"success");else{u.m=6;try{var Q=2<An(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",ho(u)}}finally{Vn(u)}}}}function Vn(u,m){if(u.g){fo(u);const v=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||At(u,"ready");try{v.onreadystatechange=E}catch{}}}function fo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),kr(m)}};function Ea(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function po(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(Y(u[E]))continue;var v=V(u[E]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=m[z]||[];m[z]=Q,Q.push(v)}k(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ta(u){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lr("baseRetryDelayMs",5e3,u),this.cb=Lr("retryDelaySeedMs",1e4,u),this.Wa=Lr("forwardChannelMaxRetries",2,u),this.wa=Lr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Tn(u&&u.concurrentRequestLimit),this.Da=new nh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ta.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,E){J(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=Wl(this,null,this.W),Or(this)};function Qt(u){if(mo(u),u.G==3){var m=u.U++,v=On(u.I);if(ct(v,"SID",u.K),ct(v,"RID",m),ct(v,"TYPE","terminate"),ni(u,v),m=new st(u,u.j,m),m.L=2,m.v=Mi(On(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=Gl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ot(m)}ql(u)}function fr(u){u.g&&(Ia(u),u.g.cancel(),u.g=null)}function mo(u){fr(u),u.u&&(d.clearTimeout(u.u),u.u=null),vo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Or(u){if(!sn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Qe||de(),ae||(Qe(),ae=!0),Ie.add(m,u),u.B=0}}function ih(u,m){return ao(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ye(A(u.Ga,u,m),Hl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new st(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=I(Q),x(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Bi(this,z,m),v=On(this.I),ct(v,"RID",u),ct(v,"CVER",22),this.D&&ct(v,"X-HTTP-Session-Id",this.D),ni(this,v),Q&&(this.O?m="headers="+encodeURIComponent(String(ti(Q)))+"&"+m:this.m&&ji(v,this.m,Q)),ya(this.h,z),this.Ua&&ct(v,"TYPE","init"),this.P?(ct(v,"$req",m),ct(v,"SID","null"),z.T=!0,Gt(z,v,null)):Gt(z,v,m),this.G=2}}else this.G==3&&(u?go(this,u):this.i.length==0||sn(this.h)||go(this))};function go(u,m){var v;m?v=m.l:v=u.U++;const E=On(u.I);ct(E,"SID",u.K),ct(E,"RID",v),ct(E,"AID",u.T),ni(u,E),u.m&&u.o&&ji(E,u.m,u.o),v=new st(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Bi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ya(u.h,v),Gt(v,E,m)}function ni(u,m){u.H&&ce(u.H,function(v,E){ct(m,E,v)}),u.l&&Oi({},function(v,E){ct(m,E,v)})}function Bi(u,m,v){v=Math.min(u.i.length,v);var E=u.l?A(u.l.Na,u.l,u):null;e:{var z=u.i;let Q=-1;for(;;){const ue=["count="+v];Q==-1?0<v?(Q=z[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let ut=!0;for(let Ot=0;Ot<v;Ot++){let Xe=z[Ot].g;const Ft=z[Ot].map;if(Xe-=Q,0>Xe)Q=Math.max(0,z[Ot].g-100),ut=!1;else try{jl(Ft,ue,"req"+Xe+"_")}catch{E&&E(Ft)}}if(ut){E=ue.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,E}function xs(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Qe||de(),ae||(Qe(),ae=!0),Ie.add(m,u),u.v=0}}function yo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ye(A(u.Fa,u),Hl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,zl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ye(A(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),fr(this),zl(this))};function Ia(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function zl(u){u.g=new st(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=On(u.qa);ct(m,"RID","rpc"),ct(m,"SID",u.K),ct(m,"AID",u.T),ct(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ct(m,"TO",u.ja),ct(m,"TYPE","xmlhttp"),ni(u,m),u.m&&u.o&&ji(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Mi(On(m)),v.m=null,v.P=!0,Xr(v,u)}n.Za=function(){this.C!=null&&(this.C=null,fr(this),yo(this),J(19))};function vo(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _o(u,m){var v=null;if(u.g==m){vo(u),Ia(u),u.g=null;var E=2}else if(gn(u.h,m))v=m.D,Ll(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;E=Yr(),At(E,new fe(E,v)),Or(u)}else xs(u);else if(z=m.s,z==3||z==0&&0<m.X||!(E==1&&ih(u,m)||E==2&&yo(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),z){case 1:ri(u,5);break;case 4:ri(u,10);break;case 3:ri(u,6);break;default:ri(u,2)}}}function Hl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function ri(u,m){if(u.j.info("Error code "+m),m==2){var v=A(u.fb,u),E=u.Xa;const z=!E;E=new Zr(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Cs(E,"https"),Mi(E),z?th(E.toString(),v):Fl(E.toString(),v)}else J(2);u.G=0,u.l&&u.l.sa(m),ql(u),mo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function ql(u){if(u.G=0,u.ka=[],u.l){const m=Ol(u.h);(m.length!=0||u.i.length!=0)&&(b(u.ka,m),b(u.ka,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.ra()}}function Wl(u,m,v){var E=v instanceof Zr?On(v):new Zr(v);if(E.g!="")m&&(E.g=m+"."+E.g),Vi(E,E.s);else{var z=d.location;E=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var Q=new Zr(null);E&&Cs(Q,E),m&&(Q.g=m),z&&Vi(Q,z),v&&(Q.l=v),E=Q}return v=u.D,m=u.ya,v&&m&&ct(E,v,m),ct(E,"VER",u.la),ni(u,E),E}function Gl(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new _t(new ei({eb:v})):new _t(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Aa(){}n=Aa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wo(){}wo.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){lt.call(this),this.g=new Ta(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Y(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Y(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vr(this)}N(yn,lt),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Qt(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Ni(u),u=v);m.i.push(new mt(m.Ya++,u)),m.G==3&&Or(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,yn.aa.N.call(this)};function Kl(u){Ln.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}N(Kl,Ln);function $l(){ir.call(this),this.status=1}N($l,ir);function Vr(u){this.g=u}N(Vr,Aa),Vr.prototype.ua=function(){At(this.g,"a")},Vr.prototype.ta=function(u){At(this.g,new Kl(u))},Vr.prototype.sa=function(u){At(this.g,new $l)},Vr.prototype.ra=function(){At(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,r_=function(){return new wo},n_=function(){return Yr()},t_=mn,Zd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},it.NO_ERROR=0,it.TIMEOUT=8,it.HTTP_ERROR=6,ec=it,St.COMPLETE="complete",e_=St,Qr.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",lt.prototype.listen=lt.prototype.K,el=Qr,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,Zv=_t}).apply(typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{});const yy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ha="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new xf("@firebase/firestore");function Ho(){return Js.logLevel}function ge(n,...e){if(Js.logLevel<=ze.DEBUG){const t=e.map(Lf);Js.debug(`Firestore (${ha}): ${n}`,...t)}}function Ei(n,...e){if(Js.logLevel<=ze.ERROR){const t=e.map(Lf);Js.error(`Firestore (${ha}): ${n}`,...t)}}function ta(n,...e){if(Js.logLevel<=ze.WARN){const t=e.map(Lf);Js.warn(`Firestore (${ha}): ${n}`,...t)}}function Lf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n="Unexpected state"){const e=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: `+n;throw Ei(e),new Error(e)}function at(n,e){n||De()}function Me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Si{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $A{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class QA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class YA{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new yi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new yi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at(typeof i.accessToken=="string"),new i_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new hn(e)}}class XA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class JA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new XA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){at(this.o===void 0);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at(typeof t.token=="string"),this.R=t.token,new ZA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=tS(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Ge(n,e){return n<e?-1:n>e?1:0}function na(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Mt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new we(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Mt(0,0))}static max(){return new Ve(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(),i===void 0?i=e.length-t:i>e.length-t&&De(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return hl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vt extends hl{construct(e,t,i){return new vt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new we(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const nS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends hl{construct(e,t,i){return new Zt(e,t,i)}static isValidIdentifier(e){return nS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new we(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new we(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new we(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(i+=d,o++):(l(),o++)}if(l(),h)throw new we(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(vt.fromString(e))}static fromName(e){return new Re(vt.fromString(e).popFirst(5))}static empty(){return new Re(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new vt(e.slice()))}}function rS(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(i===1e9?new Mt(t+1,0):new Mt(t,i));return new gs(o,Re.empty(),e)}function iS(n){return new gs(n.readTime,n.key,-1)}class gs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new gs(Ve.min(),Re.empty(),-1)}static max(){return new gs(Ve.max(),Re.empty(),-1)}}function sS(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==oS)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,i)=>{t(e)})}static reject(e){return new ee((t,i)=>{i(e)})}static waitFor(e){return new ee((t,i)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},p=>i(p))}),h=!0,l===o&&t()})}static or(e){let t=ee.resolve(!1);for(const i of e)t=t.next(o=>o?ee.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new ee((i,o)=>{const l=e.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{h[y]=_,++d,d===l&&i(h)},_=>o(_))}})}static doWhile(e,t){return new ee((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function lS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}bc.oe=-1;function Mc(n){return n==null}function yc(n){return n===0&&1/n==-1/0}function uS(n){return typeof n=="number"&&Number.isInteger(n)&&!yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=vy(e)),e=hS(n.get(t),e);return vy(e)}function hS(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function vy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function no(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function o_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new It(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Jt.RED,this.left=o??Jt.EMPTY,this.right=l??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Jt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wy(this.data.getIterator())}getIteratorFrom(e){return new wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Er([])}unionWith(e){let t=new Ut(Zt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return na(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new a_("Invalid base64 string: "+l):l}}(e);return new tn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const dS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(n){if(at(!!n),typeof n=="string"){let e=0;const t=dS.exec(n);if(at(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:kt(n.seconds),nanos:kt(n.nanos)}}function kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function vs(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Uc(n){const e=n.mapValue.fields.__previous_value__;return Of(e)?Uc(e):e}function dl(n){const e=ys(n.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t,i,o,l,h,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}class fl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _s(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Of(n)?4:mS(n)?9007199254740991:pS(n)?10:11:De()}function qr(n,e){if(n===e)return!0;const t=_s(n);if(t!==_s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dl(n).isEqual(dl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=ys(o.timestampValue),d=ys(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return vs(o.bytesValue).isEqual(vs(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return kt(o.geoPointValue.latitude)===kt(l.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return kt(o.integerValue)===kt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=kt(o.doubleValue),d=kt(l.doubleValue);return h===d?yc(h)===yc(d):isNaN(h)&&isNaN(d)}return!1}(n,e);case 9:return na(n.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(_y(h)!==_y(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!qr(h[p],d[p])))return!1;return!0}(n,e);default:return De()}}function pl(n,e){return(n.values||[]).find(t=>qr(t,e))!==void 0}function ra(n,e){if(n===e)return 0;const t=_s(n),i=_s(e);if(t!==i)return Ge(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(l,h){const d=kt(l.integerValue||l.doubleValue),p=kt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Ey(n.timestampValue,e.timestampValue);case 4:return Ey(dl(n),dl(e));case 5:return Ge(n.stringValue,e.stringValue);case 6:return function(l,h){const d=vs(l),p=vs(h);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=Ge(d[y],p[y]);if(_!==0)return _}return Ge(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,h){const d=Ge(kt(l.latitude),kt(h.latitude));return d!==0?d:Ge(kt(l.longitude),kt(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ty(n.arrayValue,e.arrayValue);case 10:return function(l,h){var d,p,y,_;const T=l.fields||{},A=h.fields||{},S=(d=T.value)===null||d===void 0?void 0:d.arrayValue,N=(p=A.value)===null||p===void 0?void 0:p.arrayValue,L=Ge(((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return L!==0?L:Ty(S,N)}(n.mapValue,e.mapValue);case 11:return function(l,h){if(l===Gu.mapValue&&h===Gu.mapValue)return 0;if(l===Gu.mapValue)return 1;if(h===Gu.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),y=h.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const A=Ge(p[T],_[T]);if(A!==0)return A;const S=ra(d[p[T]],y[_[T]]);if(S!==0)return S}return Ge(p.length,_.length)}(n.mapValue,e.mapValue);default:throw De()}}function Ey(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=ys(n),i=ys(e),o=Ge(t.seconds,i.seconds);return o!==0?o:Ge(t.nanos,i.nanos)}function Ty(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=ra(t[o],i[o]);if(l)return l}return Ge(t.length,i.length)}function ia(n){return ef(n)}function ef(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ys(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return vs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=ef(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${ef(t.fields[h])}`;return o+"}"}(n.mapValue):De()}function tc(n){switch(_s(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uc(n);return e?16+tc(e):16;case 5:return 2*n.stringValue.length;case 6:return vs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+tc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return no(i.fields,(l,h)=>{o+=l.length+tc(h)}),o}(n.mapValue);default:throw De()}}function Iy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tf(n){return!!n&&"integerValue"in n}function Vf(n){return!!n&&"arrayValue"in n}function Ay(n){return!!n&&"nullValue"in n}function Sy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function nc(n){return!!n&&"mapValue"in n}function pS(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function il(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return no(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=il(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=il(n.arrayValue.values[t]);return e}return Object.assign({},n)}function mS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!nc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(t)}setAll(e){let t=Zt.emptyPath(),i={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}h?i[d.lastSegment()]=il(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());nc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];nc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){no(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Zn(il(this.value))}}function l_(n){const e=[];return no(n.fields,(t,i)=>{const o=new Zt([t]);if(nc(i)){const l=l_(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,i,o,l,h,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new fn(e,0,Ve.min(),Ve.min(),Ve.min(),Zn.empty(),0)}static newFoundDocument(e,t,i,o){return new fn(e,1,t,Ve.min(),i,o,0)}static newNoDocument(e,t){return new fn(e,2,t,Ve.min(),Ve.min(),Zn.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,Ve.min(),Ve.min(),Zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t){this.position=e,this.inclusive=t}}function Ry(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(l.field.isKeyField()?i=Re.comparator(Re.fromName(h.referenceValue),t.key):i=ra(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Cy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t="asc"){this.field=e,this.dir=t}}function gS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{}class Lt extends u_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new vS(e,t,i):t==="array-contains"?new ES(e,i):t==="in"?new TS(e,i):t==="not-in"?new IS(e,i):t==="array-contains-any"?new AS(e,i):new Lt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new _S(e,i):new wS(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ra(t,this.value)):t!==null&&_s(this.value)===_s(t)&&this.matchesComparison(ra(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends u_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Sr(e,t)}matches(e){return c_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function c_(n){return n.op==="and"}function h_(n){return yS(n)&&c_(n)}function yS(n){for(const e of n.filters)if(e instanceof Sr)return!1;return!0}function nf(n){if(n instanceof Lt)return n.field.canonicalString()+n.op.toString()+ia(n.value);if(h_(n))return n.filters.map(e=>nf(e)).join(",");{const e=n.filters.map(t=>nf(t)).join(",");return`${n.op}(${e})`}}function d_(n,e){return n instanceof Lt?function(i,o){return o instanceof Lt&&i.op===o.op&&i.field.isEqual(o.field)&&qr(i.value,o.value)}(n,e):n instanceof Sr?function(i,o){return o instanceof Sr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,h,d)=>l&&d_(h,o.filters[d]),!0):!1}(n,e):void De()}function f_(n){return n instanceof Lt?function(t){return`${t.field.canonicalString()} ${t.op} ${ia(t.value)}`}(n):n instanceof Sr?function(t){return t.op.toString()+" {"+t.getFilters().map(f_).join(" ,")+"}"}(n):"Filter"}class vS extends Lt{constructor(e,t,i){super(e,t,i),this.key=Re.fromName(i.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class _S extends Lt{constructor(e,t){super(e,"in",t),this.keys=p_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wS extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=p_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function p_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Re.fromName(i.referenceValue))}class ES extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vf(t)&&pl(t.arrayValue,this.value)}}class TS extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pl(this.value.arrayValue,t)}}class IS extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!pl(this.value.arrayValue,t)}}class AS extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>pl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t=null,i=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.ue=null}}function Py(n,e=null,t=[],i=[],o=null,l=null,h=null){return new SS(n,e,t,i,o,l,h)}function bf(n){const e=Me(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>nf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Mc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ia(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ia(i)).join(",")),e.ue=t}return e.ue}function Mf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gS(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!d_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Cy(n.startAt,e.startAt)&&Cy(n.endAt,e.endAt)}function rf(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t=null,i=[],o=[],l=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function RS(n,e,t,i,o,l,h,d){return new Sl(n,e,t,i,o,l,h,d)}function Uf(n){return new Sl(n)}function ky(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function m_(n){return n.collectionGroup!==null}function sl(n){const e=Me(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ut(Zt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new _c(l,i))}),t.has(Zt.keyField().canonicalString())||e.ce.push(new _c(Zt.keyField(),i))}return e.ce}function Br(n){const e=Me(n);return e.le||(e.le=CS(e,sl(n))),e.le}function CS(n,e){if(n.limitType==="F")return Py(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new _c(o.field,l)});const t=n.endAt?new vc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new vc(n.startAt.position,n.startAt.inclusive):null;return Py(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function sf(n,e){const t=n.filters.concat([e]);return new Sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function of(n,e,t){return new Sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fc(n,e){return Mf(Br(n),Br(e))&&n.limitType===e.limitType}function g_(n){return`${bf(Br(n))}|lt:${n.limitType}`}function qo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>f_(o)).join(", ")}]`),Mc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>ia(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>ia(o)).join(",")),`Target(${i})`}(Br(n))}; limitType=${n.limitType})`}function jc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Re.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of sl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(h,d,p){const y=Ry(h,d,p);return h.inclusive?y<=0:y<0}(i.startAt,sl(i),o)||i.endAt&&!function(h,d,p){const y=Ry(h,d,p);return h.inclusive?y>=0:y>0}(i.endAt,sl(i),o))}(n,e)}function PS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function y_(n){return(e,t)=>{let i=!1;for(const o of sl(n)){const l=kS(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function kS(n,e,t){const i=n.field.isKeyField()?Re.comparator(e.key,t.key):function(l,h,d){const p=h.data.field(l),y=d.data.field(l);return p!==null&&y!==null?ra(p,y):De()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return o_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=new It(Re.comparator);function Ti(){return xS}const v_=new It(Re.comparator);function tl(...n){let e=v_;for(const t of n)e=e.insert(t.key,t);return e}function __(n){let e=v_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ks(){return ol()}function w_(){return ol()}function ol(){return new ro(n=>n.toString(),(n,e)=>n.isEqual(e))}const NS=new It(Re.comparator),DS=new Ut(Re.comparator);function He(...n){let e=DS;for(const t of n)e=e.add(t);return e}const LS=new Ut(Ge);function OS(){return LS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(e)?"-0":e}}function E_(n){return{integerValue:""+n}}function VS(n,e){return uS(e)?E_(e):Ff(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this._=void 0}}function bS(n,e,t){return n instanceof ml?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Of(l)&&(l=Uc(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):n instanceof gl?I_(n,e):n instanceof yl?A_(n,e):function(o,l){const h=T_(o,l),d=xy(h)+xy(o.Pe);return tf(h)&&tf(o.Pe)?E_(d):Ff(o.serializer,d)}(n,e)}function MS(n,e,t){return n instanceof gl?I_(n,e):n instanceof yl?A_(n,e):t}function T_(n,e){return n instanceof wc?function(i){return tf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class ml extends Bc{}class gl extends Bc{constructor(e){super(),this.elements=e}}function I_(n,e){const t=S_(e);for(const i of n.elements)t.some(o=>qr(o,i))||t.push(i);return{arrayValue:{values:t}}}class yl extends Bc{constructor(e){super(),this.elements=e}}function A_(n,e){let t=S_(e);for(const i of n.elements)t=t.filter(o=>!qr(o,i));return{arrayValue:{values:t}}}class wc extends Bc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function xy(n){return kt(n.integerValue||n.doubleValue)}function S_(n){return Vf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,t){this.field=e,this.transform=t}}function FS(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof gl&&o instanceof gl||i instanceof yl&&o instanceof yl?na(i.elements,o.elements,qr):i instanceof wc&&o instanceof wc?qr(i.Pe,o.Pe):i instanceof ml&&o instanceof ml}(n.transform,e.transform)}class jS{constructor(e,t){this.version=e,this.transformResults=t}}class vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class zc{}function R_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new P_(n.key,vi.none()):new Rl(n.key,n.data,vi.none());{const t=n.data,i=Zn.empty();let o=new Ut(Zt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new io(n.key,i,new Er(o.toArray()),vi.none())}}function BS(n,e,t){n instanceof Rl?function(o,l,h){const d=o.value.clone(),p=Dy(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,e,t):n instanceof io?function(o,l,h){if(!rc(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=Dy(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(C_(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function al(n,e,t,i){return n instanceof Rl?function(l,h,d,p){if(!rc(l.precondition,h))return d;const y=l.value.clone(),_=Ly(l.fieldTransforms,p,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof io?function(l,h,d,p){if(!rc(l.precondition,h))return d;const y=Ly(l.fieldTransforms,p,h),_=h.data;return _.setAll(C_(l)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,h,d){return rc(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,e,t)}function zS(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=T_(i.transform,o||null);l!=null&&(t===null&&(t=Zn.empty()),t.set(i.field,l))}return t||null}function Ny(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&na(i,o,(l,h)=>FS(l,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Rl extends zc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class io extends zc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function C_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Dy(n,e,t){const i=new Map;at(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,d=e.data.field(l.field);i.set(l.field,MS(h,d,t[o]))}return i}function Ly(n,e,t){const i=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);i.set(o.field,bS(l,h,e))}return i}class P_ extends zc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HS extends zc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&BS(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=al(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=al(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=w_();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const p=R_(h,d);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ve.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),He())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(t,i)=>Ny(t,i))&&na(this.baseMutations,e.baseMutations,(t,i)=>Ny(t,i))}}class jf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){at(e.mutations.length===i.length);let o=function(){return NS}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new jf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Je;function KS(n){switch(n){default:return De();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function k_(n){if(n===void 0)return Ei("GRPC error has no .code"),te.UNKNOWN;switch(n){case Dt.OK:return te.OK;case Dt.CANCELLED:return te.CANCELLED;case Dt.UNKNOWN:return te.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return te.INTERNAL;case Dt.UNAVAILABLE:return te.UNAVAILABLE;case Dt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Dt.NOT_FOUND:return te.NOT_FOUND;case Dt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Dt.ABORTED:return te.ABORTED;case Dt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Dt.DATA_LOSS:return te.DATA_LOSS;default:return De()}}(Je=Dt||(Dt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=new Qs([4294967295,4294967295],0);function Oy(n){const e=$S().encode(n),t=new Jv;return t.update(e),new Uint8Array(t.digest())}function Vy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Qs([t,i],0),new Qs([o,l],0)]}class Bf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new nl(`Invalid padding: ${t}`);if(i<0)throw new nl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new nl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new nl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Qs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Qs.fromNumber(i)));return o.compare(QS)===1&&(o=new Qs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Oy(e),[i,o]=Vy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);if(!this.de(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Bf(l,o,t);return i.forEach(d=>h.insert(d)),h}insert(e){if(this.Te===0)return;const t=Oy(e),[i,o]=Vy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Hc(Ve.min(),o,new It(Ge),Ti(),He())}}class Cl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Cl(i,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class x_{constructor(e,t){this.targetId=e,this.me=t}}class N_{constructor(e,t,i=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class by{constructor(){this.fe=0,this.ge=My(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=He(),t=He(),i=He();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:De()}}),new Cl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=My()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,at(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YS{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ti(),this.qe=Ku(),this.Qe=Ku(),this.Ke=new It(Ge)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:De()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(rf(l))if(i===0){const h=new Re(l.path);this.We(t,h,fn.newNoDocument(h,Ve.min()))}else at(i===1);else{const h=this.Ze(t);if(h!==i){const d=this.Xe(e),p=d?this.et(d,e,h):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=vs(i).toUint8Array()}catch(p){if(p instanceof a_)return ta("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Bf(h,o,l)}catch(p){return ta(p instanceof nl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const h=this.Le.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,h)=>{const d=this.Ye(h);if(d){if(l.current&&rf(d.target)){const p=new Re(d.target.path);this.st(p).has(h)||this.ot(h,p)||this.We(h,p,fn.newNoDocument(p,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let i=He();this.Qe.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const o=new Hc(e,t,this.Ke,this.ke,i);return this.ke=Ti(),this.qe=Ku(),this.Qe=Ku(),this.Ke=new It(Ge),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new by,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Ut(Ge),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ut(Ge),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new by),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ku(){return new It(Re.comparator)}function My(){return new It(Re.comparator)}const XS={asc:"ASCENDING",desc:"DESCENDING"},JS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZS={and:"AND",or:"OR"};class e1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function af(n,e){return n.useProto3Json||Mc(e)?e:{value:e}}function Ec(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function t1(n,e){return Ec(n,e.toTimestamp())}function zr(n){return at(!!n),Ve.fromTimestamp(function(t){const i=ys(t);return new Mt(i.seconds,i.nanos)}(n))}function zf(n,e){return lf(n,e).canonicalString()}function lf(n,e){const t=function(o){return new vt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function L_(n){const e=vt.fromString(n);return at(U_(e)),e}function uf(n,e){return zf(n.databaseId,e.path)}function Ud(n,e){const t=L_(e);if(t.get(1)!==n.databaseId.projectId)throw new we(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(V_(t))}function O_(n,e){return zf(n.databaseId,e)}function n1(n){const e=L_(n);return e.length===4?vt.emptyPath():V_(e)}function cf(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function V_(n){return at(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Uy(n,e,t){return{name:uf(n,e),fields:t.value.mapValue.fields}}function r1(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(at(_===void 0||typeof _=="string"),tn.fromBase64String(_||"")):(at(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),tn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(y){const _=y.code===void 0?te.UNKNOWN:k_(y.code);return new we(_,y.message||"")}(h);t=new N_(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ud(n,i.document.name),l=zr(i.document.updateTime),h=i.document.createTime?zr(i.document.createTime):Ve.min(),d=new Zn({mapValue:{fields:i.document.fields}}),p=fn.newFoundDocument(o,l,h,d),y=i.targetIds||[],_=i.removedTargetIds||[];t=new ic(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Ud(n,i.document),l=i.readTime?zr(i.readTime):Ve.min(),h=fn.newNoDocument(o,l),d=i.removedTargetIds||[];t=new ic([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Ud(n,i.document),l=i.removedTargetIds||[];t=new ic([],l,o,null)}else{if(!("filter"in e))return De();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new GS(o,l),d=i.targetId;t=new x_(d,h)}}return t}function i1(n,e){let t;if(e instanceof Rl)t={update:Uy(n,e.key,e.value)};else if(e instanceof P_)t={delete:uf(n,e.key)};else if(e instanceof io)t={update:Uy(n,e.key,e.data),updateMask:f1(e.fieldMask)};else{if(!(e instanceof HS))return De();t={verify:uf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,h){const d=h.transform;if(d instanceof ml)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof gl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof yl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof wc)return{fieldPath:h.field.canonicalString(),increment:d.Pe};throw De()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:t1(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:De()}(n,e.precondition)),t}function s1(n,e){return n&&n.length>0?(at(e!==void 0),n.map(t=>function(o,l){let h=o.updateTime?zr(o.updateTime):zr(l);return h.isEqual(Ve.min())&&(h=zr(l)),new jS(h,o.transformResults||[])}(t,e))):[]}function o1(n,e){return{documents:[O_(n,e.path)]}}function a1(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=O_(n,o);const l=function(y){if(y.length!==0)return M_(Sr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(_=>function(A){return{field:Wo(A.field),direction:c1(A.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=af(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function l1(n){let e=n1(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){at(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const A=b_(T);return A instanceof Sr&&h_(A)?A.getFilters():[A]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(A=>function(N){return new _c(Go(N.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(A))}(t.orderBy));let d=null;t.limit&&(d=function(T){let A;return A=typeof T=="object"?T.value:T,Mc(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(T){const A=!!T.before,S=T.values||[];return new vc(S,A)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const A=!T.before,S=T.values||[];return new vc(S,A)}(t.endAt)),RS(e,o,h,l,d,"F",p,y)}function u1(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function b_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Go(t.unaryFilter.field);return Lt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Go(t.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Go(t.unaryFilter.field);return Lt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Go(t.unaryFilter.field);return Lt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(n):n.fieldFilter!==void 0?function(t){return Lt.create(Go(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Sr.create(t.compositeFilter.filters.map(i=>b_(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De()}}(t.compositeFilter.op))}(n):De()}function c1(n){return XS[n]}function h1(n){return JS[n]}function d1(n){return ZS[n]}function Wo(n){return{fieldPath:n.canonicalString()}}function Go(n){return Zt.fromServerFormat(n.fieldPath)}function M_(n){return n instanceof Lt?function(t){if(t.op==="=="){if(Sy(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NAN"}};if(Ay(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Sy(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NAN"}};if(Ay(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(t.field),op:h1(t.op),value:t.value}}}(n):n instanceof Sr?function(t){const i=t.getFilters().map(o=>M_(o));return i.length===1?i[0]:{compositeFilter:{op:d1(t.op),filters:i}}}(n):De()}function f1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function U_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,i,o,l=Ve.min(),h=Ve.min(),d=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.ht=e}}function m1(n){const e=l1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?of(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.ln=new y1}addToCollectionParentIndex(e,t){return this.ln.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(gs.min())}updateCollectionGroup(e,t,i){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class y1{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Ut(vt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ut(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(41943040,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new sa(0)}static Qn(){return new sa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy([n,e],[t,i]){const o=Ge(n,t);return o===0?Ge(e,i):o}class v1{constructor(e){this.Gn=e,this.buffer=new Ut(jy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();jy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _1{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fa(t)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await da(t)}await this.Yn(3e5)})}}class w1{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(bc.oe);const i=new v1(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Fy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,h,d,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),Ho()<=ze.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function E1(n,e){return new w1(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.changes=new ro(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ee.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&al(i.mutation,o,Er.empty(),Mt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,He()).next(()=>i))}getLocalViewOfDocuments(e,t,i=He()){const o=Ks();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let h=tl();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=Ks();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,He()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,i,o){let l=Ti();const h=ol(),d=function(){return ol()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof io)?l=l.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),al(_.mutation,y,_.mutation.getFieldMask(),Mt.now())):h.set(y.key,Er.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>h.set(y,_)),t.forEach((y,_)=>{var T;return d.set(y,new I1(_,(T=h.get(y))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=ol();let o=new It((h,d)=>h-d),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||Er.empty();_=d.applyToLocalView(y,_),i.set(p,_);const T=(o.get(d.batchId)||He()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,T=w_();_.forEach(A=>{if(!l.has(A)){const S=R_(t.get(A),i.get(A));S!==null&&T.set(A,S),l=l.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ee.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return Re.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):m_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):ee.resolve(Ks());let d=-1,p=l;return h.next(y=>ee.forEach(y,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(e,_).next(A=>{p=p.insert(_,A)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,He())).next(_=>({batchId:d,changes:__(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(i=>{let o=tl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=tl();return this.indexManager.getCollectionParents(e,l).next(d=>ee.forEach(d,p=>{const y=function(T,A){return new Sl(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((T,A)=>{h=h.insert(T,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(h=>{l.forEach((p,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,fn.newInvalidDocument(_)))});let d=tl();return h.forEach((p,y)=>{const _=l.get(p);_!==void 0&&al(_.mutation,y,Er.empty(),Mt.now()),jc(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ee.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:zr(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:m1(o.bundledQuery),readTime:zr(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.overlays=new It(Re.comparator),this.Er=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ks();return ee.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),ee.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),ee.resolve()}getOverlaysForCollection(e,t,i){const o=Ks(),l=t.length+1,h=new Re(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new It((y,_)=>y-_);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=Ks(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=Ks(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return ee.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new WS(t,i));let l=this.Er.get(t);l===void 0&&(l=He(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this.dr=new Ut(Ht.Ar),this.Rr=new Ut(Ht.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Ht(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Ht(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Re(new vt([])),i=new Ht(t,e),o=new Ht(t,e+1),l=[];return this.Rr.forEachInRange([i,o],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Re(new vt([])),i=new Ht(t,e),o=new Ht(t,e+1);let l=He();return this.Rr.forEachInRange([i,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Ht(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ht{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Re.comparator(e.key,t.key)||Ge(e.br,t.br)}static Vr(e,t){return Ge(e.br,t.br)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Ut(Ht.Ar)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new qS(l,t,i,o);this.mutationQueue.push(h);for(const d of o)this.vr=this.vr.add(new Ht(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,t){return ee.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],h=>{const d=this.Cr(h.br);l.push(d)}),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ut(Ge);return t.forEach(o=>{const l=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],d=>{i=i.add(d.br)})}),ee.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Re.isDocumentKey(l)||(l=l.child(""));const h=new Ht(new Re(l),0);let d=new Ut(Ge);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.br)),!0)},h),ee.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){at(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return ee.forEach(t.mutations,o=>{const l=new Ht(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Ht(t,0),o=this.vr.firstAfterOrEqual(i);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.Nr=e,this.docs=function(){return new It(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ee.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let i=Ti();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():fn.newInvalidDocument(o))}),ee.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Ti();const h=t.path,d=new Re(h.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||sS(iS(_),i)<=0||(o.has(_.key)||jc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,i,o){De()}Lr(e,t){return ee.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new x1(this)}getSize(e){return ee.resolve(this.size)}}class x1 extends T1{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),ee.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.persistence=e,this.Br=new ro(t=>bf(t),Mf),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.kr=0,this.qr=new Hf,this.targetCount=0,this.Qr=sa.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),ee.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new sa(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Un(t),ee.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((h,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ee.waitFor(l).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return ee.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),ee.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return ee.resolve(i)}containsKey(e,t){return ee.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new bc(0),this.Ur=!1,this.Ur=!0,this.Wr=new C1,this.referenceDelegate=e(this),this.Gr=new N1(this),this.indexManager=new g1,this.remoteDocumentCache=function(o){return new k1(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new p1(t),this.jr=new S1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new R1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new P1(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const o=new D1(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return ee.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class D1 extends aS{constructor(e){super(),this.currentSequenceNumber=e}}class qf{constructor(e){this.persistence=e,this.Zr=new Hf,this.Xr=null}static ei(e){return new qf(e)}get ti(){if(this.Xr)return this.Xr;throw De()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),ee.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ti,i=>{const o=Re.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ve.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ee.or([()=>ee.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Tc{constructor(e,t){this.persistence=e,this.ri=new ro(i=>cS(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=E1(this,t)}static ei(e,t){return new Tc(e,t)}Hr(){}Jr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return ee.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?ee.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(d=>{d||(i++,l.removeEntry(h,Ve.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ee.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=tc(e.data.value)),t}ir(e,t,i){return ee.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return ee.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=He(),o=He();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Wf(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return NI()?8:lS(pn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new L1;return this.ts(e,t,h).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,h,d.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Ho()<=ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ee.resolve()):(Ho()<=ze.DEBUG&&ge("QueryEngine","Query:",qo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Ho()<=ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(t))):ee.resolve())}Xi(e,t){if(ky(t))return ee.resolve(null);let i=Br(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=of(t,null,"F"),i=Br(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const h=He(...l);return this.Zi.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,d);return this.ss(t,y,h,p.readTime)?this.Xi(e,of(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return ky(t)||o.isEqual(Ve.min())?ee.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const h=this.rs(t,l);return this.ss(t,h,i,o)?ee.resolve(null):(Ho()<=ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qo(t)),this.os(e,h,t,rS(o,-1)).next(d=>d))})}rs(e,t){let i=new Ut(y_(e));return t.forEach((o,l)=>{jc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return Ho()<=ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",qo(t)),this.Zi.getDocumentsMatchingQuery(e,t,gs.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new It(Ge),this.cs=new ro(l=>bf(l),Mf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A1(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function b1(n,e,t,i){return new V1(n,e,t,i)}async function j_(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const h=[],d=[];let p=He();for(const y of o){h.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:d}))})})}function M1(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,y,_){const T=y.batch,A=T.keys();let S=ee.resolve();return A.forEach(N=>{S=S.next(()=>_.getEntry(p,N)).next(L=>{const b=y.docVersions.get(N);at(b!==null),L.version.compareTo(b)<0&&(T.applyToRemoteDocument(L,y),L.isValidDocument()&&(L.setReadTime(y.commitVersion),_.addEntry(L)))})}),S.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=He();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function B_(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function U1(n,e){const t=Me(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((_,T)=>{const A=o.get(T);if(!A)return;d.push(t.Gr.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(l,_.addedDocuments,T)));let S=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?S=S.withResumeToken(tn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,i)),o=o.insert(T,S),function(L,b,q){return L.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(A,S,_)&&d.push(t.Gr.updateTargetData(l,S))});let p=Ti(),y=He();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(F1(l,h,e.documentUpdates).next(_=>{p=_.Is,y=_.Es})),!i.isEqual(Ve.min())){const _=t.Gr.getLastRemoteSnapshotVersion(l).next(T=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return ee.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function F1(n,e,t){let i=He(),o=He();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let h=Ti();return t.forEach((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ve.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):ge("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Is:h,Es:o}})}function j1(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function B1(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,ee.resolve(o)):t.Gr.allocateTargetId(i).next(h=>(o=new ls(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function hf(n,e,t){const i=Me(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!fa(h))throw h;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function By(n,e,t){const i=Me(n);let o=Ve.min(),l=He();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,_){const T=Me(p),A=T.cs.get(_);return A!==void 0?ee.resolve(T.us.get(A)):T.Gr.getTargetData(y,_)}(i,h,Br(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(h,e,t?o:Ve.min(),t?l:He())).next(d=>(z1(i,PS(e),d),{documents:d,ds:l})))}function z1(n,e,t){let i=n.ls.get(e)||Ve.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class zy{constructor(){this.activeTargetIds=OS()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H1{constructor(){this._o=new zy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new zy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=null;function Fd(){return $u===null?$u=function(){return 268435456+Math.round(2147483648*Math.random())}():$u++,"0x"+$u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class K1 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,h){const d=Fd(),p=this.No(t,i.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,h),this.Bo(t,p,y,o).then(_=>(ge("RestConnection",`Received RPC '${t}' ${d}: `,_),_),_=>{throw ta("RestConnection",`RPC '${t}' ${d} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,l,h,d){return this.Oo(t,i,o,l,h)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ha}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),o&&o.headers.forEach((l,h)=>t[h]=l)}No(t,i){const o=W1[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=Fd();return new Promise((h,d)=>{const p=new Zv;p.setWithCredentials(!0),p.listenOnce(e_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ec.NO_ERROR:const _=p.getResponseJson();ge(cn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),h(_);break;case ec.TIMEOUT:ge(cn,`RPC '${e}' ${l} timed out`),d(new we(te.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:const T=p.getStatus();if(ge(cn,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const S=A==null?void 0:A.error;if(S&&S.status&&S.message){const N=function(b){const q=b.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(q)>=0?q:te.UNKNOWN}(S.status);d(new we(N,S.message))}else d(new we(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new we(te.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{ge(cn,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ge(cn,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=Fd(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=r_(),d=n_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");ge(cn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=h.createWebChannel(_,p);let A=!1,S=!1;const N=new G1({Eo:b=>{S?ge(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(A||(ge(cn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),ge(cn,`RPC '${e}' stream ${o} sending:`,b),T.send(b))},Ao:()=>T.close()}),L=(b,q,Y)=>{b.listen(q,Z=>{try{Y(Z)}catch(oe){setTimeout(()=>{throw oe},0)}})};return L(T,el.EventType.OPEN,()=>{S||(ge(cn,`RPC '${e}' stream ${o} transport opened.`),N.So())}),L(T,el.EventType.CLOSE,()=>{S||(S=!0,ge(cn,`RPC '${e}' stream ${o} transport closed`),N.Do())}),L(T,el.EventType.ERROR,b=>{S||(S=!0,ta(cn,`RPC '${e}' stream ${o} transport errored:`,b),N.Do(new we(te.UNAVAILABLE,"The operation could not be completed")))}),L(T,el.EventType.MESSAGE,b=>{var q;if(!S){const Y=b.data[0];at(!!Y);const Z=Y,oe=(Z==null?void 0:Z.error)||((q=Z[0])===null||q===void 0?void 0:q.error);if(oe){ge(cn,`RPC '${e}' stream ${o} received error:`,oe);const F=oe.status;let ce=function(R){const x=Dt[R];if(x!==void 0)return k_(x)}(F),k=oe.message;ce===void 0&&(ce=te.INTERNAL,k="Unknown error status: "+F+" with message "+oe.message),S=!0,N.Do(new we(ce,k)),T.close()}else ge(cn,`RPC '${e}' stream ${o} received:`,Y),N.vo(Y)}}),L(d,t_.STAT_EVENT,b=>{b.stat===Zd.PROXY?ge(cn,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===Zd.NOPROXY&&ge(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.bo()},0),N}}function jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(n){return new e1(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,t,i,o,l,h,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new z_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new we(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $1 extends H_{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=r1(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ve.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ve.min():h.readTime?zr(h.readTime):Ve.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=cf(this.serializer),t.addTarget=function(l,h){let d;const p=h.target;if(d=rf(p)?{documents:o1(l,p)}:{query:a1(l,p).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=D_(l,h.resumeToken);const y=af(l,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ve.min())>0){d.readTime=Ec(l,h.snapshotVersion.toTimestamp());const y=af(l,h.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=u1(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=cf(this.serializer),t.removeTarget=e,this.c_(t)}}class Q1 extends H_{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=s1(e.writeResults,e.commitTime),i=zr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=cf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>i1(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1 extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new we(te.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,lf(t,i),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(te.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.ko(e,lf(t,i),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new we(te.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class X1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ei(t),this.C_=!1):ge("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{i.enqueueAndForget(async()=>{so(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Me(p);y.k_.add(4),await Pl(y),y.K_.set("Unknown"),y.k_.delete(4),await Wc(y)}(this))})}),this.K_=new X1(i,o)}}async function Wc(n){if(so(n))for(const e of n.q_)await e(!0)}async function Pl(n){for(const e of n.q_)await e(!1)}function q_(n,e){const t=Me(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Qf(t)?$f(t):pa(t).s_()&&Kf(t,e))}function Gf(n,e){const t=Me(n),i=pa(t);t.B_.delete(e),i.s_()&&W_(t,e),t.B_.size===0&&(i.s_()?i.a_():so(t)&&t.K_.set("Unknown"))}function Kf(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pa(n).V_(e)}function W_(n,e){n.U_.xe(e),pa(n).m_(e)}function $f(n){n.U_=new YS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),pa(n).start(),n.K_.F_()}function Qf(n){return so(n)&&!pa(n).i_()&&n.B_.size>0}function so(n){return Me(n).k_.size===0}function G_(n){n.U_=void 0}async function Z1(n){n.K_.set("Online")}async function eR(n){n.B_.forEach((e,t)=>{Kf(n,e)})}async function tR(n,e){G_(n),Qf(n)?(n.K_.O_(e),$f(n)):n.K_.set("Unknown")}async function nR(n,e,t){if(n.K_.set("Online"),e instanceof N_&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ic(n,i)}else if(e instanceof ic?n.U_.$e(e):e instanceof x_?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ve.min()))try{const i=await B_(n.localStore);t.compareTo(i)>=0&&await function(l,h){const d=l.U_.it(h);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.B_.get(y);_&&l.B_.set(y,_.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,y)=>{const _=l.B_.get(p);if(!_)return;l.B_.set(p,_.withResumeToken(tn.EMPTY_BYTE_STRING,_.snapshotVersion)),W_(l,p);const T=new ls(_.target,p,y,_.sequenceNumber);Kf(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ge("RemoteStore","Failed to raise snapshot:",i),await Ic(n,i)}}async function Ic(n,e,t){if(!fa(e))throw e;n.k_.add(1),await Pl(n),n.K_.set("Offline"),t||(t=()=>B_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Wc(n)})}function K_(n,e){return e().catch(t=>Ic(n,t,e))}async function Gc(n){const e=Me(n),t=ws(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;rR(e);)try{const o=await j1(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,iR(e,o)}catch(o){await Ic(e,o)}$_(e)&&Q_(e)}function rR(n){return so(n)&&n.L_.length<10}function iR(n,e){n.L_.push(e);const t=ws(n);t.s_()&&t.f_&&t.g_(e.mutations)}function $_(n){return so(n)&&!ws(n).i_()&&n.L_.length>0}function Q_(n){ws(n).start()}async function sR(n){ws(n).w_()}async function oR(n){const e=ws(n);for(const t of n.L_)e.g_(t.mutations)}async function aR(n,e,t){const i=n.L_.shift(),o=jf.from(i,e,t);await K_(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Gc(n)}async function lR(n,e){e&&ws(n).f_&&await async function(i,o){if(function(h){return KS(h)&&h!==te.ABORTED}(o.code)){const l=i.L_.shift();ws(i).__(),await K_(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Gc(i)}}(n,e),$_(n)&&Q_(n)}async function qy(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const i=so(t);t.k_.add(3),await Pl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Wc(t)}async function uR(n,e){const t=Me(n);e?(t.k_.delete(2),await Wc(t)):e||(t.k_.add(2),await Pl(t),t.K_.set("Unknown"))}function pa(n){return n.W_||(n.W_=function(t,i,o){const l=Me(t);return l.b_(),new $1(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:Z1.bind(null,n),mo:eR.bind(null,n),po:tR.bind(null,n),R_:nR.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Qf(n)?$f(n):n.K_.set("Unknown")):(await n.W_.stop(),G_(n))})),n.W_}function ws(n){return n.G_||(n.G_=function(t,i,o){const l=Me(t);return l.b_(),new Q1(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:sR.bind(null,n),po:lR.bind(null,n),p_:oR.bind(null,n),y_:aR.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Gc(n)):(await n.G_.stop(),n.L_.length>0&&(ge("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,d=new Yf(e,t,h,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xf(n,e){if(Ei("AsyncQueue",`${e}: ${n}`),fa(n))return new we(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{static emptySet(e){return new $o(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Re.comparator(t.key,i.key):(t,i)=>Re.comparator(t.key,i.key),this.keyedMap=tl(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new $o;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this.z_=new It(Re.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):De():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class oa{constructor(e,t,i,o,l,h,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new oa(e,t,$o.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class hR{constructor(){this.queries=Gy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Me(t),l=o.queries;o.queries=Gy(),l.forEach((h,d)=>{for(const p of d.J_)p.onError(i)})})(this,new we(te.ABORTED,"Firestore shutting down"))}}function Gy(){return new ro(n=>g_(n),Fc)}async function Y_(n,e){const t=Me(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new cR,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Xf(h,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Jf(t)}async function X_(n,e){const t=Me(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function dR(n,e){const t=Me(n);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.J_)d.ta(o)&&(i=!0);h.H_=o}}i&&Jf(t)}function fR(n,e,t){const i=Me(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Jf(n){n.X_.forEach(e=>{e.next()})}var df,Ky;(Ky=df||(df={})).na="default",Ky.Cache="cache";class J_{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new oa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==df.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this.key=e}}class e0{constructor(e){this.key=e}}class pR{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=He(),this.mutatedKeys=He(),this.Va=y_(e),this.ma=new $o(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new Wy,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const A=o.get(_),S=jc(this.query,T)?T:null,N=!!A&&this.mutatedKeys.has(A.key),L=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let b=!1;A&&S?A.data.isEqual(S.data)?N!==L&&(i.track({type:3,doc:S}),b=!0):this.ya(A,S)||(i.track({type:2,doc:S}),b=!0,(p&&this.Va(S,p)>0||y&&this.Va(S,y)<0)&&(d=!0)):!A&&S?(i.track({type:0,doc:S}),b=!0):A&&!S&&(i.track({type:1,doc:A}),b=!0,(p||y)&&(d=!0)),b&&(S?(h=h.add(S),l=L?l.add(_):l.delete(_)):(h=h.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{ma:h,pa:i,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((_,T)=>function(S,N){const L=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return L(S)-L(N)}(_.type,T.type)||this.Va(_.doc,T.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,h.length!==0||y?{snapshot:new oa(this.query,e.ma,l,h,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Wy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=He(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new e0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new Z_(i))}),t}va(e){this.da=e.ds,this.Ra=He();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return oa.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class mR{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class gR{constructor(e){this.key=e,this.Fa=!1}}class yR{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new ro(d=>g_(d),Fc),this.Oa=new Map,this.Na=new Set,this.La=new It(Re.comparator),this.Ba=new Map,this.ka=new Hf,this.qa={},this.Qa=new Map,this.Ka=sa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function vR(n,e,t=!0){const i=o0(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await t0(i,e,t,!0),o}async function _R(n,e){const t=o0(n);await t0(t,e,!0,!1)}async function t0(n,e,t,i){const o=await B1(n.localStore,Br(e)),l=o.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await wR(n,e,l,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&q_(n.remoteStore,o),d}async function wR(n,e,t,i,o){n.Ua=(T,A,S)=>async function(L,b,q,Y){let Z=b.view.ga(q);Z.ss&&(Z=await By(L.localStore,b.query,!1).then(({documents:k})=>b.view.ga(k,Z)));const oe=Y&&Y.targetChanges.get(b.targetId),F=Y&&Y.targetMismatches.get(b.targetId)!=null,ce=b.view.applyChanges(Z,L.isPrimaryClient,oe,F);return Qy(L,b.targetId,ce.ba),ce.snapshot}(n,T,A,S);const l=await By(n.localStore,e,!0),h=new pR(e,l.ds),d=h.ga(l.documents),p=Cl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=h.applyChanges(d,n.isPrimaryClient,p);Qy(n,t,y.ba);const _=new mR(e,t,h);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function ER(n,e,t){const i=Me(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(h=>!Fc(h,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await hf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Gf(i.remoteStore,o.targetId),ff(i,o.targetId)}).catch(da)):(ff(i,o.targetId),await hf(i.localStore,o.targetId,!0))}async function TR(n,e){const t=Me(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Gf(t.remoteStore,i.targetId))}async function IR(n,e,t){const i=xR(n);try{const o=await function(h,d){const p=Me(h),y=Mt.now(),_=d.reduce((S,N)=>S.add(N.key),He());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let N=Ti(),L=He();return p.hs.getEntries(S,_).next(b=>{N=b,N.forEach((q,Y)=>{Y.isValidDocument()||(L=L.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,N)).next(b=>{T=b;const q=[];for(const Y of d){const Z=zS(Y,T.get(Y.key).overlayedDocument);Z!=null&&q.push(new io(Y.key,Z,l_(Z.value.mapValue),vi.exists(!0)))}return p.mutationQueue.addMutationBatch(S,y,q,d)}).next(b=>{A=b;const q=b.applyToLocalDocumentSet(T,L);return p.documentOverlayCache.saveOverlays(S,b.batchId,q)})}).then(()=>({batchId:A.batchId,changes:__(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let y=h.qa[h.currentUser.toKey()];y||(y=new It(Ge)),y=y.insert(d,p),h.qa[h.currentUser.toKey()]=y}(i,o.batchId,t),await kl(i,o.changes),await Gc(i.remoteStore)}catch(o){const l=Xf(o,"Failed to persist write");t.reject(l)}}async function n0(n,e){const t=Me(n);try{const i=await U1(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ba.get(l);h&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?at(h.Fa):o.removedDocuments.size>0&&(at(h.Fa),h.Fa=!1))}),await kl(t,i,e)}catch(i){await da(i)}}function $y(n,e,t){const i=Me(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,h)=>{const d=h.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Me(h);p.onlineState=d;let y=!1;p.queries.forEach((_,T)=>{for(const A of T.J_)A.ea(d)&&(y=!0)}),y&&Jf(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function AR(n,e,t){const i=Me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let h=new It(Re.comparator);h=h.insert(l,fn.newNoDocument(l,Ve.min()));const d=He().add(l),p=new Hc(Ve.min(),new Map,new It(Ge),h,d);await n0(i,p),i.La=i.La.remove(l),i.Ba.delete(e),Zf(i)}else await hf(i.localStore,e,!1).then(()=>ff(i,e,t)).catch(da)}async function SR(n,e){const t=Me(n),i=e.batch.batchId;try{const o=await M1(t.localStore,e);i0(t,i,null),r0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await kl(t,o)}catch(o){await da(o)}}async function RR(n,e,t){const i=Me(n);try{const o=await function(h,d){const p=Me(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,d).next(T=>(at(T!==null),_=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);i0(i,e,t),r0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await kl(i,o)}catch(o){await da(o)}}function r0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function i0(n,e,t){const i=Me(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function ff(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||s0(n,i)})}function s0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Gf(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Zf(n))}function Qy(n,e,t){for(const i of t)i instanceof Z_?(n.ka.addReference(i.key,e),CR(n,i)):i instanceof e0?(ge("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||s0(n,i.key)):De()}function CR(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ge("SyncEngine","New document in limbo: "+t),n.Na.add(i),Zf(n))}function Zf(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Re(vt.fromString(e)),i=n.Ka.next();n.Ba.set(i,new gR(t)),n.La=n.La.insert(t,i),q_(n.remoteStore,new ls(Br(Uf(t.path)),i,"TargetPurposeLimboResolution",bc.oe))}}async function kl(n,e,t){const i=Me(n),o=[],l=[],h=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{h.push(i.Ua(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Wf.zi(p.targetId,y);l.push(T)}}))}),await Promise.all(h),i.Ma.R_(o),await async function(p,y){const _=Me(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ee.forEach(y,A=>ee.forEach(A.Wi,S=>_.persistence.referenceDelegate.addReference(T,A.targetId,S)).next(()=>ee.forEach(A.Gi,S=>_.persistence.referenceDelegate.removeReference(T,A.targetId,S)))))}catch(T){if(!fa(T))throw T;ge("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const A=T.targetId;if(!T.fromCache){const S=_.us.get(A),N=S.snapshotVersion,L=S.withLastLimboFreeSnapshotVersion(N);_.us=_.us.insert(A,L)}}}(i.localStore,l))}async function PR(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const i=await j_(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(d=>{d.forEach(p=>{p.reject(new we(te.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await kl(t,i.Ts)}}function kR(n,e){const t=Me(n),i=t.Ba.get(e);if(i&&i.Fa)return He().add(i.key);{let o=He();const l=t.Oa.get(e);if(!l)return o;for(const h of l){const d=t.xa.get(h);o=o.unionWith(d.view.fa)}return o}}function o0(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=n0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AR.bind(null,e),e.Ma.R_=dR.bind(null,e.eventManager),e.Ma.Wa=fR.bind(null,e.eventManager),e}function xR(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RR.bind(null,e),e}class Ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return b1(this.persistence,new O1,e.initialUser,this.serializer)}ja(e){return new F_(qf.ei,this.serializer)}za(e){return new H1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ac.provider={build:()=>new Ac};class NR extends Ac{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){at(this.persistence.referenceDelegate instanceof Tc);const i=this.persistence.referenceDelegate.garbageCollector;return new _1(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new F_(i=>Tc.ei(i,t),this.serializer)}}class pf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$y(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=PR.bind(null,this.syncEngine),await uR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hR}()}createDatastore(e){const t=qc(e.databaseInfo.databaseId),i=function(l){return new K1(l)}(e.databaseInfo);return function(l,h,d,p){return new Y1(l,h,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,h,d){return new J1(i,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>$y(this.syncEngine,t,0),function(){return Hy.p()?new Hy:new q1}())}createSyncEngine(e,t){return function(o,l,h,d,p,y,_){const T=new yR(o,l,h,d,p,y);return _&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Me(o);ge("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Pl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}pf.provider={build:()=>new pf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=s_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async h=>{ge("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ge("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Xf(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Bd(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await j_(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Yy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await LR(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>qy(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>qy(e.remoteStore,o)),n._onlineComponents=e}async function LR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ta("Error using user provided cache. Falling back to memory cache: "+t),await Bd(n,new Ac)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Bd(n,new NR(void 0));return n._offlineComponents}async function l0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await Yy(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await Yy(n,new pf))),n._onlineComponents}function OR(n){return l0(n).then(e=>e.syncEngine)}async function u0(n){const e=await l0(n),t=e.eventManager;return t.onListen=vR.bind(null,e.syncEngine),t.onUnlisten=ER.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_R.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TR.bind(null,e.syncEngine),t}function VR(n,e,t={}){const i=new yi;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,y){const _=new a0({next:A=>{_.eu(),h.enqueueAndForget(()=>X_(l,T));const S=A.docs.has(d);!S&&A.fromCache?y.reject(new we(te.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&A.fromCache&&p&&p.source==="server"?y.reject(new we(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new J_(Uf(d.path),_,{includeMetadataChanges:!0,ua:!0});return Y_(l,T)}(await u0(n),n.asyncQueue,e,t,i)),i.promise}function bR(n,e,t={}){const i=new yi;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,y){const _=new a0({next:A=>{_.eu(),h.enqueueAndForget(()=>X_(l,T)),A.fromCache&&p.source==="server"?y.reject(new we(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new J_(d,_,{includeMetadataChanges:!0,ua:!0});return Y_(l,T)}(await u0(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(n,e,t){if(!t)throw new we(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function MR(n,e,t,i){if(e===!0&&i===!0)throw new we(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Jy(n){if(!Re.isDocumentKey(n))throw new we(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Zy(n){if(Re.isDocumentKey(n))throw new we(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Kc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De()}function aa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kc(n);throw new we(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new we(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new we(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new we(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new we(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $c{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ev({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ev(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new $A;switch(i.type){case"firstParty":return new JA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new we(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Xy.get(t);i&&(ge("ComponentProvider","Removing Datastore"),Xy.delete(t),i.terminate())}(this),Promise.resolve()}}function UR(n,e,t,i={}){var o;const l=(n=aa(n,$c))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=hn.MOCK_USER;else{d=AI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new we(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new hn(y)}n._authCredentials=new QA(new i_(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class Bn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}}class ds extends ma{constructor(e,t,i){super(e,t,Uf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new Re(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function Tr(n,e,...t){if(n=zn(n),h0("collection","path",e),n instanceof $c){const i=vt.fromString(e,...t);return Zy(i),new ds(n,null,i)}{if(!(n instanceof Bn||n instanceof ds))throw new we(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return Zy(i),new ds(n.firestore,null,i)}}function vl(n,e,...t){if(n=zn(n),arguments.length===1&&(e=s_.newId()),h0("doc","path",e),n instanceof $c){const i=vt.fromString(e,...t);return Jy(i),new Bn(n,null,new Re(i))}{if(!(n instanceof Bn||n instanceof ds))throw new we(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return Jy(i),new Bn(n.firestore,n instanceof ds?n.converter:null,new Re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new z_(this,"async_queue_retry"),this.fu=()=>{const i=jd();i&&ge("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=jd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=jd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new yi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!fa(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(i);throw Ei("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Yf.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&De()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Qc extends $c{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new tv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tv(e),this._firestoreClient=void 0,await e}}}function FR(n,e){const t=typeof n=="object"?n:Qv(),i=typeof n=="string"?n:"(default)",o=Df(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=TI("firestore");l&&UR(o,...l)}return o}function ep(n){if(n._terminated)throw new we(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jR(n),n._firestoreClient}function jR(n){var e,t,i;const o=n._freezeSettings(),l=function(d,p,y,_){return new fS(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,c0(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new DR(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this._byteString=e}static fromBase64String(e){try{return new la(tn.fromBase64String(e))}catch(t){throw new we(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new la(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=/^__.*__$/;class zR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rl(e,this.data,t,this.fieldTransforms)}}function d0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class sp{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new sp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Sc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(d0(this.Mu)&&BR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class HR{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||qc(e)}$u(e,t,i,o=!1){return new sp({Mu:e,methodName:t,Ku:i,path:Zt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function f0(n){const e=n._freezeSettings(),t=qc(n._databaseId);return new HR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qR(n,e,t,i,o,l={}){const h=n.$u(l.merge||l.mergeFields?2:0,e,t,o);g0("Data must be an object, but it was:",h,i);const d=p0(i,h);let p,y;if(l.merge)p=new Er(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const A=GR(e,T,t);if(!h.contains(A))throw new we(te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);$R(_,A)||_.push(A)}p=new Er(_),y=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=h.fieldTransforms;return new zR(new Zn(d),p,y)}class op extends np{_toFieldTransform(e){return new US(e.path,new ml)}isEqual(e){return e instanceof op}}function WR(n,e,t,i=!1){return ap(t,n.$u(i?4:3,e))}function ap(n,e){if(m0(n=zn(n)))return g0("Unsupported field value:",e,n),p0(n,e);if(n instanceof np)return function(i,o){if(!d0(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let h=0;for(const d of i){let p=ap(d,o.ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=zn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return VS(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Mt.fromDate(i);return{timestampValue:Ec(o.serializer,l)}}if(i instanceof Mt){const l=new Mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ec(o.serializer,l)}}if(i instanceof rp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof la)return{bytesValue:D_(o.serializer,i._byteString)};if(i instanceof Bn){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:zf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof ip)return function(h,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return Ff(d.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Kc(i)}`)}(n,e)}function p0(n,e){const t={};return o_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):no(n,(i,o)=>{const l=ap(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function m0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Mt||n instanceof rp||n instanceof la||n instanceof Bn||n instanceof np||n instanceof ip)}function g0(n,e,t){if(!m0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Kc(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function GR(n,e,t){if((e=zn(e))instanceof tp)return e._internalPath;if(typeof e=="string")return y0(n,e);throw Sc("Field path arguments must be of type string or ",n,!1,void 0,t)}const KR=new RegExp("[~\\*/\\[\\]]");function y0(n,e,t){if(e.search(KR)>=0)throw Sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tp(...e.split("."))._internalPath}catch{throw Sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sc(n,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new we(te.INVALID_ARGUMENT,d+n+p)}function $R(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class QR extends v0{data(){return super.data()}}function lp(n,e){return typeof e=="string"?y0(n,e):e instanceof tp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class up{}class XR extends up{}function fs(n,e,...t){let i=[];e instanceof up&&i.push(e),i=i.concat(t),function(l){const h=l.filter(p=>p instanceof cp).length,d=l.filter(p=>p instanceof Yc).length;if(h>1||h>0&&d>0)throw new we(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Yc extends XR{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Yc(e,t,i)}_apply(e){const t=this._parse(e);return _0(e._query,t),new ma(e.firestore,e.converter,sf(e._query,t))}_parse(e){const t=f0(e.firestore);return function(l,h,d,p,y,_,T){let A;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new we(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){rv(T,_);const S=[];for(const N of T)S.push(nv(p,l,N));A={arrayValue:{values:S}}}else A=nv(p,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||rv(T,_),A=WR(d,h,T,_==="in"||_==="not-in");return Lt.create(y,_,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ps(n,e,t){const i=e,o=lp("where",n);return Yc._create(o,i,t)}class cp extends up{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new cp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Sr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const p of d)_0(h,p),h=sf(h,p)}(e._query,t),new ma(e.firestore,e.converter,sf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nv(n,e,t){if(typeof(t=zn(t))=="string"){if(t==="")throw new we(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m_(e)&&t.indexOf("/")!==-1)throw new we(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(vt.fromString(t));if(!Re.isDocumentKey(i))throw new we(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Iy(n,new Re(i))}if(t instanceof Bn)return Iy(n,t._key);throw new we(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kc(t)}.`)}function rv(n,e){if(!Array.isArray(n)||n.length===0)throw new we(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _0(n,e){const t=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class JR{convertValue(e,t="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return no(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>kt(h.doubleValue));return new ip(l)}convertGeoPoint(e){return new rp(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Uc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(dl(e));default:return null}}convertTimestamp(e){const t=ys(e);return new Mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=vt.fromString(e);at(U_(i));const o=new fl(i.get(1),i.get(3)),l=new Re(i.popFirst(5));return o.isEqual(t)||Ei(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class w0 extends v0{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(lp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class sc extends w0{data(e={}){return super.data(e)}}class eC{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new rl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new sc(this._firestore,this._userDataWriter,i.key,i,new rl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new sc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new rl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new sc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new rl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:tC(d.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function tC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(n){n=aa(n,Bn);const e=aa(n.firestore,Qc);return VR(ep(e),n._key).then(t=>rC(e,n,t))}class T0 extends JR{constructor(e){super(),this.firestore=e}convertBytes(e){return new la(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}function _i(n){n=aa(n,ma);const e=aa(n.firestore,Qc),t=ep(e),i=new T0(e);return YR(n._query),bR(t,n._query).then(o=>new eC(e,i,n,o))}function Qo(n,e){const t=aa(n.firestore,Qc),i=vl(n),o=ZR(n.converter,e);return nC(t,[qR(f0(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,vi.exists(!1))]).then(()=>i)}function nC(n,e){return function(i,o){const l=new yi;return i.asyncQueue.enqueueAndForget(async()=>IR(await OR(i),o,l)),l.promise}(ep(n),e)}function rC(n,e,t){const i=t.docs.get(e._key),o=new T0(n);return new w0(n,o,e._key,i,new rl(t.hasPendingWrites,t.fromCache),e.converter)}function Yo(){return new op("serverTimestamp")}(function(e,t=!0){(function(o){ha=o})(ca),ea(new Xs("firestore",(i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),d=new Qc(new YA(i.getProvider("auth-internal")),new eS(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new we(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(y.options.projectId,_)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),hs(yy,"4.7.5",e),hs(yy,"4.7.5","esm2017")})();const iC="/ClassSpace/assets/Logo-jUKUXq73.png";var sC="firebase",oC="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs(sC,oC,"app");function hp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function I0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aC=I0,A0=new Il("auth","Firebase",I0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new xf("@firebase/auth");function lC(n,...e){Rc.logLevel<=ze.WARN&&Rc.warn(`Auth (${ca}): ${n}`,...e)}function oc(n,...e){Rc.logLevel<=ze.ERROR&&Rc.error(`Auth (${ca}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(n,...e){throw fp(n,...e)}function Ir(n,...e){return fp(n,...e)}function dp(n,e,t){const i=Object.assign(Object.assign({},aC()),{[e]:t});return new Il("auth","Firebase",i).create(e,{appName:n.name})}function Ys(n){return dp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uC(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Wr(n,"argument-error"),dp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return A0.create(n,...e)}function Oe(n,e,...t){if(!n)throw fp(e,...t)}function pi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw oc(e),new Error(e)}function Ii(n,e){n||pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function cC(){return iv()==="http:"||iv()==="https:"}function iv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cC()||PI()||"connection"in navigator)?navigator.onLine:!0}function dC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ii(t>e,"Short delay should be less than long delay!"),this.isMobile=SI()||kI()}get(){return hC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(n,e){Ii(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new xl(3e4,6e4);function mp(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ga(n,e,t,i,o={}){return R0(n,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const d=Al(Object.assign({key:n.config.apiKey},h)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return CI()||(y.referrerPolicy="no-referrer"),S0.fetch()(C0(n,n.config.apiHost,t,d),y)})}async function R0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},fC),e);try{const o=new gC(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Qu(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qu(n,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Qu(n,"email-already-in-use",h);if(p==="USER_DISABLED")throw Qu(n,"user-disabled",h);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw dp(n,_,y);Wr(n,_)}}catch(o){if(o instanceof Si)throw o;Wr(n,"network-request-failed",{message:String(o)})}}async function mC(n,e,t,i,o={}){const l=await ga(n,e,t,i,o);return"mfaPendingCredential"in l&&Wr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function C0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?pp(n.config,o):`${n.config.apiScheme}://${o}`}class gC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ir(this.auth,"network-request-failed")),pC.get())})}}function Qu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Ir(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(n,e){return ga(n,"POST","/v1/accounts:delete",e)}async function P0(n,e){return ga(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vC(n,e=!1){const t=zn(n),i=await t.getIdToken(e),o=gp(i);Oe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:ll(zd(o.auth_time)),issuedAtTime:ll(zd(o.iat)),expirationTime:ll(zd(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function zd(n){return Number(n)*1e3}function gp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=zv(t);return o?JSON.parse(o):(oc("Failed to decode base64 JWT payload"),null)}catch(o){return oc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function sv(n){const e=gp(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Si&&_C(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function _C({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ll(this.lastLoginAt),this.creationTime=ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await _l(n,P0(t,{idToken:i}));Oe(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?k0(l.providerUserInfo):[],d=TC(n.providerData,h),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new gf(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function EC(n){const e=zn(n);await Cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TC(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function k0(n){return n.map(e=>{var{providerId:t}=e,i=hp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(n,e){const t=await R0(n,{},async()=>{const i=Al({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,h=C0(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",S0.fetch()(h,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function AC(n,e){return ga(n,"POST","/v2/accounts:revokeToken",mp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=sv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await IC(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new Xo;return i&&(Oe(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Oe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Oe(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class mi{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=hp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new gf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await _l(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return vC(this,e)}reload(){return EC(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Cc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await _l(this,yC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,h,d,p,y,_;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,S=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,N=(h=t.photoURL)!==null&&h!==void 0?h:void 0,L=(d=t.tenantId)!==null&&d!==void 0?d:void 0,b=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,q=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Y=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Z,emailVerified:oe,isAnonymous:F,providerData:ce,stsTokenManager:k}=t;Oe(Z&&k,e,"internal-error");const I=Xo.fromJSON(this.name,k);Oe(typeof Z=="string",e,"internal-error"),ns(T,e.name),ns(A,e.name),Oe(typeof oe=="boolean",e,"internal-error"),Oe(typeof F=="boolean",e,"internal-error"),ns(S,e.name),ns(N,e.name),ns(L,e.name),ns(b,e.name),ns(q,e.name),ns(Y,e.name);const R=new mi({uid:Z,auth:e,email:A,emailVerified:oe,displayName:T,isAnonymous:F,photoURL:N,phoneNumber:S,tenantId:L,stsTokenManager:I,createdAt:q,lastLoginAt:Y});return ce&&Array.isArray(ce)&&(R.providerData=ce.map(x=>Object.assign({},x))),b&&(R._redirectEventId=b),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new Xo;o.updateFromServerResponse(t);const l=new mi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Cc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Oe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?k0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Xo;d.updateFromIdToken(i);const p=new mi({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new gf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=new Map;function gi(n){Ii(n instanceof Function,"Expected a class definition");let e=ov.get(n);return e?(Ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ov.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}x0.type="NONE";const av=x0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(n,e,t){return`firebase:${n}:${e}:${t}`}class Jo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=ac(this.userKey,o.apiKey,l),this.fullPersistenceKey=ac("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Jo(gi(av),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||gi(av);const h=ac(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(h);if(_){const T=mi._fromJSON(e,_);y!==l&&(d=T),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Jo(l,e,i):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new Jo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b0(e))return"Blackberry";if(M0(e))return"Webos";if(D0(e))return"Safari";if((e.includes("chrome/")||L0(e))&&!e.includes("edge/"))return"Chrome";if(V0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function N0(n=pn()){return/firefox\//i.test(n)}function D0(n=pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L0(n=pn()){return/crios\//i.test(n)}function O0(n=pn()){return/iemobile/i.test(n)}function V0(n=pn()){return/android/i.test(n)}function b0(n=pn()){return/blackberry/i.test(n)}function M0(n=pn()){return/webos/i.test(n)}function yp(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function SC(n=pn()){var e;return yp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RC(){return xI()&&document.documentMode===10}function U0(n=pn()){return yp(n)||V0(n)||M0(n)||b0(n)||/windows phone/i.test(n)||O0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(n,e=[]){let t;switch(n){case"Browser":t=lv(pn());break;case"Worker":t=`${lv(pn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ca}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,d)=>{try{const p=e(l);h(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(n,e={}){return ga(n,"GET","/v2/passwordPolicy",mp(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=6;class xC{constructor(e){var t,i,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:kC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uv(this),this.idTokenSubscription=new uv(this),this.beforeStateQueue=new CC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await P0(this,{idToken:e}),i=await mi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Cc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(Ys(this));const t=e?zn(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PC(this),t=new xC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Il("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await AC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gi(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[gi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&lC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xc(n){return zn(n)}class uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=UI(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DC(n){vp=n}function LC(n){return vp.loadJS(n)}function OC(){return vp.gapiScript}function VC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(n,e){const t=Df(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(mc(l,e??{}))return o;Wr(o,"already-initialized")}return t.initialize({options:e})}function MC(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(gi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function UC(n,e,t){const i=Xc(n);Oe(i._canInitEmulator,i,"emulator-config-failed"),Oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=j0(e),{host:h,port:d}=FC(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${h}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),jC()}function j0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function FC(n){const e=j0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:cv(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:cv(h)}}}function cv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function jC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,t){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(n,e){return mC(n,"POST","/v1/accounts:signInWithIdp",mp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="http://localhost";class Zs extends B0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=hp(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new Zs(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Zo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Zo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zo(e,t)}buildRequest(){const e={requestUri:BC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Al(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends _p{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Nl{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zs._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return di.credential(t,i)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Nl{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Nl{constructor(){super("twitter.com")}static credential(e,t){return Zs._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return as.credential(t,i)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await mi._fromIdTokenResponse(e,i,o),h=hv(i);return new ua({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=hv(i);return new ua({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function hv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Si{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Pc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Pc(e,t,i,o)}}function z0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Pc._fromErrorAndOperation(n,l,e,i):l})}async function zC(n,e,t=!1){const i=await _l(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ua._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(n,e,t=!1){const{auth:i}=n;if(fi(i.app))return Promise.reject(Ys(i));const o="reauthenticate";try{const l=await _l(n,z0(i,o,e,n),t);Oe(l.idToken,i,"internal-error");const h=gp(l.idToken);Oe(h,i,"internal-error");const{sub:d}=h;return Oe(n.uid===d,i,"user-mismatch"),ua._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Wr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(n,e,t=!1){if(fi(n.app))return Promise.reject(Ys(n));const i="signIn",o=await z0(n,i,e),l=await ua._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function WC(n,e,t,i){return zn(n).onIdTokenChanged(e,t,i)}function GC(n,e,t){return zn(n).beforeAuthStateChanged(e,t)}function KC(n,e,t,i){return zn(n).onAuthStateChanged(e,t,i)}const kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=1e3,QC=10;class q0 extends H0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);RC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,QC):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},$C)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}q0.type="LOCAL";const YC=q0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends H0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}W0.type="SESSION";const G0=W0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Jc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(h).map(async y=>y(t.origin,l)),p=await XC(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const y=wp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(A.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function ZC(n){Hr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function eP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function nP(){return K0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="firebaseLocalStorageDb",rP=1,xc="firebaseLocalStorage",Q0="fbase_key";class Dl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zc(n,e){return n.transaction([xc],e?"readwrite":"readonly").objectStore(xc)}function iP(){const n=indexedDB.deleteDatabase($0);return new Dl(n).toPromise()}function yf(){const n=indexedDB.open($0,rP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(xc,{keyPath:Q0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(xc)?e(i):(i.close(),await iP(),e(await yf()))})})}async function dv(n,e,t){const i=Zc(n,!0).put({[Q0]:e,value:t});return new Dl(i).toPromise()}async function sP(n,e){const t=Zc(n,!1).get(e),i=await new Dl(t).toPromise();return i===void 0?null:i.value}function fv(n,e){const t=Zc(n,!0).delete(e);return new Dl(t).toPromise()}const oP=800,aP=3;class Y0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>aP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jc._getInstance(nP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await eP(),!this.activeServiceWorker)return;this.sender=new JC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yf();return await dv(e,kc,"1"),await fv(e,kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>dv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>sP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>fv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Zc(o,!1).getAll();return new Dl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y0.type="LOCAL";const lP=Y0;new xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(n,e){return e?gi(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends B0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uP(n){return qC(n.auth,new Ep(n),n.bypassAuthState)}function cP(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),HC(t,new Ep(n),n.bypassAuthState)}async function hP(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),zC(t,new Ep(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uP;case"linkViaPopup":case"linkViaRedirect":return hP;case"reauthViaPopup":case"reauthViaRedirect":return cP;default:Wr(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new xl(2e3,1e4);async function fP(n,e,t){if(fi(n.app))return Promise.reject(Ir(n,"operation-not-supported-in-this-environment"));const i=Xc(n);uC(n,e,_p);const o=X0(i,t);return new $s(i,"signInViaPopup",e,o).executeNotNull()}class $s extends J0{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dP.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="pendingRedirect",lc=new Map;class mP extends J0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=lc.get(this.auth._key());if(!e){try{const i=await gP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}lc.set(this.auth._key(),e)}return this.bypassAuthState||lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gP(n,e){const t=_P(e),i=vP(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function yP(n,e){lc.set(n._key(),e)}function vP(n){return gi(n._redirectPersistence)}function _P(n){return ac(pP,n.config.apiKey,n.name)}async function wP(n,e,t=!1){if(fi(n.app))return Promise.reject(Ys(n));const i=Xc(n),o=X0(i,e),h=await new mP(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=10*60*1e3;class TP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Z0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ir(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EP&&this.cachedEventUids.clear(),this.cachedEventUids.has(pv(e))}saveEventToCache(e){this.cachedEventUids.add(pv(e)),this.lastProcessedEventTime=Date.now()}}function pv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Z0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(n,e={}){return ga(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RP=/^https?/;async function CP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await AP(n);for(const t of e)try{if(PP(t))return}catch{}Wr(n,"unauthorized-domain")}function PP(n){const e=mf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!RP.test(t))return!1;if(SP.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new xl(3e4,6e4);function mv(){const n=Hr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xP(n){return new Promise((e,t)=>{var i,o,l;function h(){mv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mv(),t(Ir(n,"network-request-failed"))},timeout:kP.get()})}if(!((o=(i=Hr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Hr().gapi)===null||l===void 0)&&l.load)h();else{const d=VC("iframefcb");return Hr()[d]=()=>{gapi.load?h():t(Ir(n,"network-request-failed"))},LC(`${OC()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw uc=null,e})}let uc=null;function NP(n){return uc=uc||xP(n),uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new xl(5e3,15e3),LP="__/auth/iframe",OP="emulator/auth/iframe",VP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MP(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?pp(e,OP):`https://${n.config.authDomain}/${LP}`,i={apiKey:e.apiKey,appName:n.name,v:ca},o=bP.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Al(i).slice(1)}`}async function UP(n){const e=await NP(n),t=Hr().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:MP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VP,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=Ir(n,"network-request-failed"),d=Hr().setTimeout(()=>{l(h)},DP.get());function p(){Hr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jP=500,BP=600,zP="_blank",HP="http://localhost";class gv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qP(n,e,t,i=jP,o=BP){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},FP),{width:i.toString(),height:o.toString(),top:l,left:h}),y=pn().toLowerCase();t&&(d=L0(y)?zP:t),N0(y)&&(e=e||HP,p.scrollbars="yes");const _=Object.entries(p).reduce((A,[S,N])=>`${A}${S}=${N},`,"");if(SC(y)&&d!=="_self")return WP(e||"",d),new gv(null);const T=window.open(e||"",d,_);Oe(T,n,"popup-blocked");try{T.focus()}catch{}return new gv(T)}function WP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="__/auth/handler",KP="emulator/auth/handler",$P=encodeURIComponent("fac");async function yv(n,e,t,i,o,l){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ca,eventId:o};if(e instanceof _p){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",MI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof Nl){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}n.tenantId&&(h.tid=n.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),y=p?`#${$P}=${encodeURIComponent(p)}`:"";return`${QP(n)}?${Al(d).slice(1)}${y}`}function QP({config:n}){return n.emulator?pp(n,KP):`https://${n.authDomain}/${GP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="webStorageSupport";class YP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G0,this._completeRedirectFn=wP,this._overrideRedirectResult=yP}async _openPopup(e,t,i,o){var l;Ii((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await yv(e,t,i,mf(),o);return qP(e,h,wp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await yv(e,t,i,mf(),o);return ZC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Ii(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await UP(e),i=new TP(e);return t.register("authEvent",o=>(Oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hd,{type:Hd},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Hd];h!==void 0&&t(!!h),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=CP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return U0()||D0()||yp()}}const XP=YP;var vv="@firebase/auth",_v="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ek(n){ea(new Xs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=i.options;Oe(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F0(n)},y=new NC(i,o,l,p);return MC(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ea(new Xs("auth-internal",e=>{const t=Xc(e.getProvider("auth").getImmediate());return(i=>new JP(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),hs(vv,_v,ZP(n)),hs(vv,_v,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=5*60,nk=Wv("authIdTokenMaxAge")||tk;let wv=null;const rk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>nk)return;const o=t==null?void 0:t.token;wv!==o&&(wv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ik(n=Qv()){const e=Df(n,"auth");if(e.isInitialized())return e.getImmediate();const t=bC(n,{popupRedirectResolver:XP,persistence:[lP,YC,G0]}),i=Wv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=rk(l.toString());GC(t,h,()=>h(t.currentUser)),WC(t,d=>h(d))}}const o=Hv("auth");return o&&UC(t,`http://${o}`),t}function sk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}DC({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=Ir("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",sk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ek("Browser");const ok={apiKey:"AIzaSyCl4yble0NF4t3i5FCALJl8XbZNY2nJgzE",authDomain:"classspace-db5d2.firebaseapp.com",projectId:"classspace-db5d2",storageBucket:"classspace-db5d2.firebasestorage.app",messagingSenderId:"411887990451",appId:"1:411887990451:web:fcb068cce8591dbfb522c6",measurementId:"G-ETMP27FRYR"},ew=$v(ok),dn=ik(ew),ak=new di,er=FR(ew);var Yu={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Ev;function lk(){if(Ev)return Yu;Ev=1,Yu.parse=h,Yu.serialize=y;var n=Object.prototype.toString,e=Object.prototype.hasOwnProperty,t=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,i=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/;function h(S,N){if(typeof S!="string")throw new TypeError("argument str must be a string");var L={},b=S.length;if(b<2)return L;var q=N&&N.decode||_,Y=0,Z=0,oe=0;do{if(Z=S.indexOf("=",Y),Z===-1)break;if(oe=S.indexOf(";",Y),oe===-1)oe=b;else if(Z>oe){Y=S.lastIndexOf(";",Z-1)+1;continue}var F=d(S,Y,Z),ce=p(S,Z,F),k=S.slice(F,ce);if(!e.call(L,k)){var I=d(S,Z+1,oe),R=p(S,oe,I);S.charCodeAt(I)===34&&S.charCodeAt(R-1)===34&&(I++,R--);var x=S.slice(I,R);L[k]=A(x,q)}Y=oe+1}while(Y<b);return L}function d(S,N,L){do{var b=S.charCodeAt(N);if(b!==32&&b!==9)return N}while(++N<L);return L}function p(S,N,L){for(;N>L;){var b=S.charCodeAt(--N);if(b!==32&&b!==9)return N+1}return L}function y(S,N,L){var b=L&&L.encode||encodeURIComponent;if(typeof b!="function")throw new TypeError("option encode is invalid");if(!t.test(S))throw new TypeError("argument name is invalid");var q=b(N);if(!i.test(q))throw new TypeError("argument val is invalid");var Y=S+"="+q;if(!L)return Y;if(L.maxAge!=null){var Z=Math.floor(L.maxAge);if(!isFinite(Z))throw new TypeError("option maxAge is invalid");Y+="; Max-Age="+Z}if(L.domain){if(!o.test(L.domain))throw new TypeError("option domain is invalid");Y+="; Domain="+L.domain}if(L.path){if(!l.test(L.path))throw new TypeError("option path is invalid");Y+="; Path="+L.path}if(L.expires){var oe=L.expires;if(!T(oe)||isNaN(oe.valueOf()))throw new TypeError("option expires is invalid");Y+="; Expires="+oe.toUTCString()}if(L.httpOnly&&(Y+="; HttpOnly"),L.secure&&(Y+="; Secure"),L.partitioned&&(Y+="; Partitioned"),L.priority){var F=typeof L.priority=="string"?L.priority.toLowerCase():L.priority;switch(F){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(L.sameSite){var ce=typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite;switch(ce){case!0:Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"strict":Y+="; SameSite=Strict";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return Y}function _(S){return S.indexOf("%")!==-1?decodeURIComponent(S):S}function T(S){return n.call(S)==="[object Date]"}function A(S,N){try{return N(S)}catch{return S}}return Yu}var cc=lk();function uk(){const n=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof n=="boolean"?n:typeof document=="object"&&typeof document.cookie=="string"}function ck(n){return typeof n=="string"?cc.parse(n):typeof n=="object"&&n!==null?n:{}}function qd(n,e={}){const t=hk(n);if(!e.doNotParse)try{return JSON.parse(t)}catch{}return n}function hk(n){return n&&n[0]==="j"&&n[1]===":"?n.substr(2):n}class Tp{constructor(e,t={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const o=this.cookies;this.cookies=cc.parse(document.cookie),this._checkChanges(o)};const i=typeof document>"u"?"":document.cookie;this.cookies=ck(e||i),this.defaultSetOptions=t,this.HAS_DOCUMENT_COOKIE=uk()}_emitChange(e){for(let t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)}_checkChanges(e){new Set(Object.keys(e).concat(Object.keys(this.cookies))).forEach(i=>{e[i]!==this.cookies[i]&&this._emitChange({name:i,value:qd(this.cookies[i])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(e,t={}){return t.doNotUpdate||this.update(),qd(this.cookies[e],t)}getAll(e={}){e.doNotUpdate||this.update();const t={};for(let i in this.cookies)t[i]=qd(this.cookies[i],e);return t}set(e,t,i){i?i=Object.assign(Object.assign({},this.defaultSetOptions),i):i=this.defaultSetOptions;const o=typeof t=="string"?t:JSON.stringify(t);this.cookies=Object.assign(Object.assign({},this.cookies),{[e]:o}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=cc.serialize(e,o,i)),this._emitChange({name:e,value:t,options:i})}remove(e,t){const i=t=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=cc.serialize(e,"",i)),this._emitChange({name:e,value:void 0,options:t})}addChangeListener(e){this.changeListeners.push(e),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(e){const t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}const dk=new Tp;function fk({setLogin:n}){const e=async()=>{try{const t=await fP(dn,ak);dk.set("auth-token",t.user.refreshToken);const i=t.user,o=Tr(er,"users"),l=fs(o,ps("uid","==",t.user.uid));(await _i(l)).empty?(await Qo(o,{uid:i.uid,displayName:i.displayName,email:i.email,photoURL:i.photoURL,refreshToken:i.refreshToken,createdAt:Yo()}),console.log("New user, WELCOME! <3")):console.log("User Already exist"),n(!0)}catch(t){console.log(t)}};return he.jsxs("div",{className:"h-[100vh] w-[100vw] flex",children:[he.jsx("div",{className:"loginPlanet w-[60%] h-[100%]",children:he.jsx("h1",{className:"text-white px-[25px] text-[50px] font-agdasima",children:"LOG IN"})}),he.jsxs("div",{className:"w-[40%] h-[100%] bg-[#0D0D0E] flex items-center justify-start pt-[5%] flex-col gap-[30%]",children:[he.jsx("img",{className:"w-[75%]",src:iC,alt:""}),he.jsxs("button",{onClick:e,className:"px-10 py-2 text-3xl bg-[#915472] font-inria text-white rounded-[20px] login transition-all ease-in-out duration-[800ms]",children:["Log In With ",he.jsx("br",{}),"Google"]})]})]})}const pk="/ClassSpace/assets/LogoOnly-DNnGNioa.png",mk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANsSURBVHgB7Zo7TxRRFMfPgoLPGNFYqmAjWljiWqmx1EYxBm2I0RgpbPwULr2KsdHCxEeiUUsbH1H5AiAIiwZtNKAIhFWBw//kXpLdnTu7s8yZ2Zlkf8kvw84uc8+Zx537ImrQoEGUZEgZZpZjboHb4E7YDnfYfcIcnIJ5u52RfZlMhkkRtcRsQh3wKuyCnbCtQhmSyDQcgoPwNsxrJ7hmkNAGeA6+g0u8dhbhW3gebqR6gcLXwYtwlPUZgZelDIoTFNgOn8ACR4cc+7GURXGAgo7APMfHODzOUV09HLgVdsNfHD/f2Tx7LaQJm+epB/7k+vEDniVN2NwK37j+yN2SDRJz1fcYm4f3FZl3VBKYgCfwvstX+lFTpS+R1Hps+ik5SQlyom9wlcqkYmKgF56k8MzC19Y5Cs8pMrHVDs7IJtZ5+Upr5BrcZb0O/3B45CVeewuFTfWqwScuum0kGDjMOvT4xd/kk5RUKn2kgzRqi98/GbtPgz4bqwe/Z0wqi0DVagD2wDNFn7vJVAAaZAMfS84A7GddpOU+bF1kXXLsuGquKlM6hIdJl2a4n6JB+n4S82zxTtetKD3fTkoPB8nEXIIrMenGt1F62E4m5hJcie0j/bGQZThOZpxjmXSRHNpdO8uJ4mrdgYesd0mfQFdsM+nyF75Eo3UeSnPqhd2niSfmam1FDeTW+1/0+R/p344eXInNU/rwxOxKbIrShydmV2JScyVj0DIYEqun0+l3xaYpPTjjdSUmY+lDlB4k1pnyna7EpEoepPTwkRy9ck9idlJAJgiWKPlIjAOuiQy/95g8jB8o+bwnM2rlwZmYPQO3KPnc9Jt2qtTyeApHKbmMwGd+X/omhjOxgE2OdNp1TWV/h+09FGAOMRYoQIEu7sHnFI5WKu09Syc27OSCxHS/0g/iGuL+DR/Yvy+Qo8dbA2Nkhri/UliQXJbrM31UziQ8SprggKfZTOXUCylbBnF1JwBxwBY2c2STHD9yt8iko+7EX1FyMgF4DH7m+BiDXRQHKGg3fAQXODpkcv0h3EtxggKbYS+bWQ9tZCLjEse9HKIsQVnAIve/LGAJM3wt//uGlRawaC85knfeFTJD5AfIDIv5lSEDOqtLjqTrMQAntJYcRb1ITMYoO+x2K5lu/OoisS8U4SKxBg0aRMsKFonsBT2zlJcAAAAASUVORK5CYII=",gk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEeSURBVHgB7ZgxS0NBEITn2WuhloqihVgomkYQrfObrQRB0cJYaKGioIWVomD6vMwkbLjcD0g2MB8My+1r5h4LOxxgjDGiKQ9t266wrCIHLfXXNM1/NCZmaXSd5ZbaQXWJOSGzr1SXhj/VWCo+dqld5DAq5GOPOotGabZH/SAP+rPf1H006pk9YDnC9CXmhcz2OAJPMMYYMxPqpbCBPCtXS+EjcoEog8wmyyUWJMicImeQOYlGafaOesH4RhmQj3fqJhr1zG6xbCMHI7McgS8YY4yZCfVSOGQ5Ro6VO6AeuBQeo1EGmX2WK2oNefKB3jHOafhZhzIbdCg9IWUxKuSnE4fS7DWlG2QKMm/URTTqmV1GnldE8csR6MMYY6YYAl88SBOHIrcpAAAAAElFTkSuQmCC",yk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA5CAYAAACMGIOFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAP+SURBVHgB7ZrJaxRBFMbfaGIWzYJR1IB6UNCLggpBJXowGMzJm4pBPAkSNMQE8eBRPfkvSFxQkFy8alxAk4NLTnrSg4piEiQG4pLVSfl9VA2GzFRPd6a6pwf6Bx9NT1dXvzddXfXqVYkkJCQkRExKQkQptRyHBqjOaAVUBqWhGWgSGoPGU6nUXwkJ507CsRoctkKHoUPQJmgNVAVVQHScDs1CE9BP6Cs0CD2EPvA3OK0kbsC5dVAn9BKaVEuD9w2ZeuokLsCYBugqNKrcMgJdg9ZKMYEBTeafT6twmDf1H4DKJUrwwDroPDShooGt5JKKqgnjQZXQLWhaRcuceW6VhAkfAPUr3YyKAT+Lx1C1hAEqroduq/C+P7/MGzt8N91lfgop/dGfgU76vSdEOLYfg06JS+DkQeV+iCgUdnpNfuzPG/GgIkYrjET2SPwYgo4gOvrhVchP07sA7ZLCGYF6oB3m+EsKZzfUJYWg9Hg4otzwACoz9VaacxfQPs+oKN+bPA2tFzcMZ2YaOE7zXNxA+054FbA6iX+nFod2cUeYs4p2pWc/OfF6k9tFfz+lwE5oi+2il5NtoueApQDtbLFdzOmk6SD2S2nRArtz+mN7k0xZbJTSYrPoDEQWXk7GZ2buD9pcm+tCmeWGatsNFjiwPxU9LNh60YFF5y88yjIS2wDtNUc/0OZ68QvadjM0E2BA7laO53morxzqCWAD7d2Xqy5bc+XvQdIN/Rjgp8QhqG+O9Qa4ha0yp802JxmZpMU/raZHdobSE+PWALfwT8mZu7UZxpzojMf1xVyEOB375lHmOd5OX+YEZY/zHktZfpONovO2fpk1ysLmBBO+f6CV4g/Gj0fzlGEn07fgnA52iDsyNmdha67MbHvO0WKI1Wabk1yf+CKlBe317yS+HXY6z6S0GDR2Z+EVoLP7djoshAjtfGS76OXkR+idlAZvofe2i1Yn8erZW90Td4S5FnoX9lpzRvnSH/dFJ6Bc0JgJ/ZTO4zaKG2jfHa8Cnk7i3/mOQy80L4XDSW0HHGS2oVN08F0otOuGaXVW/ORdV4vuhOKYd30DtRWcd0UF4zicFR1RxIlRqDufg8TXugYqYqb6suh4Ng4wEL8OvRKXKJ1o7lXFX9Xi87lOGWRSH8jRzPpksRxNm+eHvhBbAd1UeuU3SqbMcyslCpRuul3QsIoGLtNxj0KNRInSORjuyghz9wfrfa18rkOG6Sz38VxR7t/qsKm3QeKC+r/tZQD6rZYGd2TxzZ1TevHXCWHsrVuFwzbRaynNojPxmQ2EjFm5iZDjHJfvOEXiBP2z6PnrE+hTvjAtKFHtkqSYL8psIGRmbeEGwjE45iI+TkhISIgH/wBwMbdMnjCLBAAAAABJRU5ErkJggg==",vk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAYAAAA6oTAqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVwSURBVHgB3VpriFVVFN7zzJrMphTpZZhI78wahmnMFNPMR/aAoiDKEiMJrBzIgn70wAL/CUX9iEKiF06UPbAHkWSBUWBlT0glDKeXZZk5zTSz+j72d7h7bufezrn3zr3n+sHHvZyzH2vttdZea+97nTuE0ODqFGbWio8usAnc2tDQcNDVE6BAA3gceB3YC+4F+8AFfN/s6gQQ+HB8LAevBjvBVr3aA+53WYcs0Q2uA3+0eGwAW1xWAeGOBhfKlX4DBwsowufXuqwBQjWBE8FbwY/AvyVwP7gLfBcczlPmQ3CSyxIg0FTwPvDLQNB/wG3gKnAJuEPPQ4V66Iqu1oAQx4KXgq/kuRHd6llwvtrNBb/Vu53g2/r+C3iEqyUgwGTwbvBT8EDg+7TKWrqNKaClSJ/acANYLJcjHnG1ACYeC54PPiAliCHwT3CLXOnUoH0LOEsWGZZF5oG3gwfBX8GZrprAhK3gAvPb54HAlajEC+DlYHNMv3zXukTPP9Gzl8FGVw1goilaxS2KgciVPpMrnQG2F+hLRXYEisyWpS6WNf8wZfzRVGAMeBp4D/iFJia4tX4FrlY8NBYZY5piZFgxElmkEXxa430MjnejAfP54QLzCa4vcCUq8br5oG1LME53nGvp3UmKE2KVqzQw6MngXYEfm1Z0t/mcMTXFWHStHwJFpue9f0jvvgYnukoAAzWDZ4IPS+jBwArM2ivkSokL2LwYoWt15r2fpFgzLVLpSVL+eqQC8Hnwp8AKnHwjuIhtUo7LoO4IYmSEawXtbtOiDaaxdtyEzA9LwbfMlxcRuEM9Cl4INrkSYLk8YnKxOEUYj++pzRsuLYIVux/cFygwYL6wYz00zpUB87kn3H5nFGh3mfmcxBy1MOngPDeMk7s8CX5nfmuNXIn1E093E6zMwk4WCbff2QXacVGfk8LbE7mxOt0AbjJfKkRgCf4YOAcc4yoA83kksgg/FxVpe7r5BEn0JJ3gKvCvQAmu2p3g8a6CsJG7FmNlVpG23HSi7fhzcErSSc4CN1tum6V7cYdi3dTqKgApsjOwCC3UUqQ9t/+oIF2TSg5aQa72TRArDP4XwU5LkMGLjN2RFyPzEvRZITnoMR2uFKBjO3i9lIrAOHoJ7LKUwW++RIlKnNg8EtOnLbAKS6SxrhyYL91vNH9sHQrc7xlwpiXI8DayjGcemZFwbm7b/fKMxa5SMH+05QUDE9eAXIUTvUrhCq2a/feE2JlwPqaITer3vlUoZvMnYX200nxROaDJfgbXS6k2tWtRcI84IaaY5xS5NRes8tVx3mSMqWWWK/xMQbpBgT7HCpTxCcZm6XKv+rI6Lr0OSwvF1AeWq9mGgu9UZFrK8Wj9Xer/oKs2MOmJ4M3gO5ZLvFRqbspxGCs9lksJ1bNKjDCs69YqnqjM9JT922VlgmmgIuVTyZBAmyUQzz2JL+jMXwb2q+9FLguAILeYL1Dpct0J+zDwo8sK1mHVuUL6P5j/ISiyzhOWLLnyMmSv3HO1ywoUyEulDLN+V4I+6xT434OTXZYghbZLodeKWQfvjpJVarMdJwEEW27+YLWvUEBL6ZVSZA94jssiINgx5ksfus/6uKA2/2vAVimz0Wr980QxQLg7lHdYFXTEvL/G/IGQ7+e7LMP8jec2rXxvuPLm76V79Y4/HpV3ZqkGzJ9eueXynu284DkPerulzDJXD4Cg4y13auTB7jA9f1zPfrcy7+CqCgh7kwTnznaF+fuGfllsjasn0BqWO//0amMgeEtzrqs3mL8k4c6133LH6acsK3VYGijvhDc+dLMlrl5hvqKO7g/eBCe4egWEP8H8rQ5v9K+0LPyzohxAgbOlyKj8NexfNK9AiNCLKHsAAAAASUVORK5CYII=",Ip="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAABJCAYAAABxcwvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQgSURBVHgB7ZvLThRBFIZrBAUCmghu3IqsJEE3LnwEJSCRRINg4orEG5GIF9CVlxfQl0B9BcW9xoAbL9FEo+LGIM6IJMb4+59UtYOEme6q7qnpIfUlf9jQVadOnzp1uqpGqUAgEAgEAoFAIBAIBAL/A6CgcgDt2KIyJPWgaFAr//RQ+6gd1FfqRaFQeKs8Q1v28k8ftcvY8YZ6SVt+q3ohkUNNUc+oIvXH/J2jBqitygPSDzVIPVljx0/qKXWxbhHOjpupS6jMd2qG6lI1hO23ULeolSq2TFNtyjfstNdEEGIcdYXapmqAtGvaL8bY8ZzqU75hp8PUKuJZpEapZpUh0FNsNIGDhBJ1XDnitApAz/EOqiXBv++m7lFnsnKUaWecukttT/BIO9WqfENDh6hlJOebefOppp6JoJOmPZu+B5Vv2Gk39Rh2yNSQHJIkAjfqs8s8vwg7HlF7lG+gl/+j1A/YETnKKqKgk/QFJMtBa5HFY0DVC+jQv2kMsUEiYSypo0w/I9Qn2CEJ+zo81WvVBiB1ypSDo2TAp+McBR1Bp6iPsOMLdQ01rtMSg/KbtkmmQtEMpKVCu/ICLsP+BciCkjhSvQFdgZ+jlmCHTD2JxOYN2ht3dJDkrvpOsUqYgY3AfvUpmoE1r2lHHL7i0M4YMi5cMwd66qWZIh1IN3XzNcUqQUM7qfOwT7aSzO9T72GHRO5VONZfdQPlZG7rKFvEsflL0kkxjpLl23bqJUXqoNgyIvcYR7nUUXFEdVBjOygCuiCU5dz2E6YSkqTF8Y2Vg+KAex21nnzXQWlBuY6yXb0ioiSd7zooLRxgOzULNx5SHcozmZ5PxWEiQDa/Dik3DlJDmzaSUM5JtpX0eqKctLkcBb26TSK7MkC+6WTPfHOsbsZB8i1n+9EbR2N9q1UC5Q0z2y3XpDR2xY3w7VYd6B1Fl1OND9QDuO0eTCAvW7VxIOwnVQflitrWQbJa/fvUQLlccD2FyWd5APc6SCLgLDbe456E/ZTNZx2FcFpSHeitWpc6KOm5W7RxZ5vMq74Ab5gBzMC+DpIBu5zgfoYdUkfdRr22VaDvAhx2cJAYPgG3uwAuU082+vpRjyuB7LQH+m6kDamOnlE+Urd9MXNUt/IN9E23koWhkkyzuJ8kEWV7P0mcekw5kuamm0RDe8JHlqkb1GyhUPilUmCenzXtLSd8TDbquuB7yrHDEwkjqSZHz7A7Upe7ncPKN+z0ALUQY1xebt/Oi73KN+y0Dfp+dCXkU+MOalynQNdp06i+6slFrvpU4Oy4CbpOWjAhHf0iQO5SHvFlGHQd1W/6jX4RUDIRJPY1qRRk8dsSKdR6KVlid1JL1DwT7DvlGehlfj/VSZWo19Qr2rKq8gLy8yulXNgRCAQCgUAgEAgEAoFArvgLdDT+8EN8aRMAAAAASUVORK5CYII=",_k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGYAAABhCAYAAAAk2tTaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAsMSURBVHgB7V1/rFxFFT77KL9KKa0IVml5W6BqkUgroglqWDBBm2haYmIwMekr6h8isZUYg5HYVzVRE/VVDAaV+FpDNCYqNQpFErMrmhC1sS2gIFLe1laFiqH8aMuPluP3dea+Nzs7d/du3963s/vul3x5e++dmTszZ+bMzLln5okUKJAnVLVEyoCg7wqCyh/Cn7PBZeCw/T0PnGuDHAYPgU+B+8A94NOlUulV6SNELxjbC84FLwJXg1eDi8AzwJPBU8Ehy+NRwGPgy+BLYoT0EPgAWBUjqCchKJWIEbVgIJTF+PNRcBV4mRhhTAfPg7vAu8FxCOeAFMgGCOMUcCW4FXxO88Oz4O3gCqseC6QBFbQI/CL4T+0cr1p2ikfBTeA5EhGiUGWolJPw5xrwS2JUVrt8HQEfA/eKGeCpog7bZ5wEzAfPB5eAy8FT2qTHicGfwc+DtdjHnxkBhHI2eCf4UotWzWd/Bb8OXg3O7SD9M8D3gN8A/wYebfGeF8EfgK+R2QxUwJvBn4HHUirqCLgD/BR4gU5jLGCvBJeD14M7wVdS3knB/QQcltkIFPxC8A+aDrbuG8CzpMtAmvPBG8HHWrz/PrAsswko8JvA36dUCGdinJG9HjxZcgTSP8++6/kWwrlAZgNY2eCPUyriBfDT2sEY0oX8cAz6ZAvhjIMLZdCBQi5VM5D74LSVA/uMzxTV2NneB04E8sUx57s6QHa4IFDAs8DtXuH3gB/oZeHx7iHwg+DjGu7JV8qgQ830lbMtTk93g++OoUVa4bzfCsIHx8TBn0arWb8Mg+dKRLBq7bPgIU8wnNJzJjdHCvQGqPx5Gp6g/AN8ixToHWxvfsITDG1x35JBh9XpXOy9EVwck5pAXk4Fb7LjoIv/UA3LIAMFvBys2pa4H1wXmXA4Doam9jfIoAKFewf4oDaa6imcqGxUyM/N2mxXuxtcIIMGDqABoRCc+SyTiKDG8LnHy+f/wJUySFCzTpjQZlBIvwLPlIigxoR0eyC/N8mgwKqvp7W5p/D6Xo3Umot8rQkIZrsMAhz1FQJX1W+VSIG8naPNH9g4lZ6uc0hvgQJcAT4UEMhRK5TXSuTQ5nHmAHiJ9COQ8Tlqvr08oWH1RaFwDTPUZXbd7oY0a17+nwFXSU7Ie83wNvAOcGngGR0g9oPXS/fBnvgg/t5TKpVekO5gv3d9GpibZ01ugkHFXIg/3wPTujs9Y66T/EAvzFvBz0l38Kx3Tf+D3MaYPB3d2M0vlt65SNF1ll8m27kuZcUR75p1d7rkhDwF84oYP+Jegj7M3XImn9EGlqdg7gF3S3rFqH2WBymQ/4K3YYw5Kt3B3ED+D0tOyG2MQYXsgxr5mJjB/52BIKzAO8FHpPugYDj4/066h/neNQV+SPoVEE4Z/GPKdJl+ZZdLHwD5vN/LP53Sr5F+BgpwKfiwNoPC+Qu4RCIH8ljX5gXmcul3oBDngw9oGBROtNZa5O0N2tzj+Zn5NOl3qFmRXwLuS+k5fwIvlgiBfH0okOefyiBBjevSoynCqWpkH6DUfGL+YSC/N8qgwVFroY1GUeltNbvb/F7+FHiZ5IhebXGj3ekT4A5pXOckm5CigBpj6HvB87xHzPceGVSo+UbzCzWej38Hr9O4nDG49TC0VSMPw2tcUONtv0TNzOckiQRqPDJv0eZNVU+C86RAb6Bmt9t+TygU0lekQG+Ayl8IbguoMG4RjMqLp6uwaoI7xriuWawR7T1Rs976gpr9ny7oW7Yhprx2HWpcmB63qoGmjlUawSEIajbQfljDO6h/oznsB40GajYu+QbBvWpmZD0TjhXKR8B/B4TCLRlvl0GGGi/6kD8wB9o1vRCOVV/sKSFzEZ3KvyaDDtsyb9MwqEJunkmVoWag36hh9UXLxPe13/3HskLNYQrbU4RDtcEZEd2achtokfbp4DLw19o80CdC+blGtuMtd6jZY3+vpoPjDmdHi6TL0KnDhP6V8u5EKF1/d19AjTHzR+DLKRXEWdsj4Ho1xsQT9nhRYyXm9PzLar6lpB1Zwvu3qjkrbfZCzX7H72jzzi2/BbMH3aHm28jrOkifPZMzvnE1x20da/Eeeld+VSMwucRyLBbzcQW4CayIcQZshcSL0z0Wix6XTIcDtXss1hJpX046VvwWvKVUKu2QAo1QM0PiuLJbT+xQuE7Bd9AXYQScLwXSocZcwxnZN61qyQu0OHC8uUiLoxc7AyrsTPDjak5BOqDTB032/P7DTbhR7Vzz0RcGOTX7Z7hp9l3gVSA3ObFi6aUyxzIpS+IWS6dyHvHLsedh8D7wfnAvxpHnJHL0paVUjdsQt3a4B2Inq/ND0nggdh2CeFEKFChQoECBAgUKFChQoECBAgWiwbRNMjCPbHQut8L8UZcC00aTYFDRFfzh4c9le+ugmN2/u0KVTpOtc1lBmG7uFM4NajZIrQVX2FssZx38ZVSNS83u4mobszmfl714LqI/zZsCATe3KeeY5rSzTc2/3qpYtn+Hhk/d8zERiFd1eKlEDm3f+BJUJQd49ZzakOfYwCMypbqIGrhNTPfm/YplzU8A3f4q6RPYclacWyzfFjH/6Y8qbY1M1QNb9AaUb7P0CsjAXe1aihpV19cnp3qtdcIvjxo1t9MJ84x0GVl7TBK46gQel85eNO6oshWB5yzsqM1Q8g1/pzaqwITDTpzk3pi9x4Yx5hSMaYxmzGai212sTglX8cINd1jeMef56kB5XPj1sDZUuQk60q3aogXYyuzEoWLYiTeZHzX7UtLSGcuYT7/CF6SEW+CFW5u1vPZ51Y/rlacVJpceiXfILiftin35Gpk+KOSkAhJ9zrGr7oSp23u7UtKogGNOOj42aLZDtMvuBcaOg6FA9n5deoxEMFulMTNl8C7bSsdPREhq1kNle1kHV6LQ68BrxThUJBXDCud9Pt+bkhzDjoILEYZrr6VOfKIiEYPropKFNNZzpdSITcmDIRuRhbxWmlsKK21EjJDYi8qSHW4Lb1ic2t/bnHDt1j8U2qaklXvxibIMGCYd3VBYqhK25FEJd+UyWNUTm5ktSEkvwUFpgdlo5mnwQLRdji2TqqIiZkyoO0HK4HrJhprz+/iagD/s4LpBGtXPXinQgFTXUNq8OCbgJ4+rcgfmEckAq3bcxRmnkbSrcW3gzqQ2R9gjer5ea+uzayv4286tzJlG3M+ImVikYbMNMxNomPWlzeTsOOqWsS49QNZzW6azJzIZ2Gsypd4o7G0tZmF5oO5dj4jZ9uGj4l3vll7BLr7G7RTXf1bWxkVV1XueuuDSxv8ikdnyrN6CLCXMeGhh1ibdqhOHSwF/8VjRxoVsNZDGROi9GrZarw3E35kl30mPYQIjJAKzNSfdnl3aNztskexwrc1MO/RhblfaYi8HJBujCJZtixqzTl3MxKbshV8XSKMmU+PsqE6ZZSqSTc3XZKpOk/gHbfx1qIva8SdW0lnNJk12NG3dYyoZ0x314uXSY2y8jZoNG1PityrThAZMMl78FS3iT06Khmxr5cxri6QPdLy/wc7SMsNKf2uGoBtDhcgDdnXN9VotJQjvV9xVuBefz0e924llgvVYl9bvpzYKLeaTTywmnB9RzQLSVUH16Q7SanpSJfBoxMlMbaa/7Xhl5T9VqGdVq07cjuJ5aVx5Iu/OHZ5amJACk8h176GacaCViqo4v+tSYBJ5HgnC2cZO51ZNjB4lqQYq0jiLGUFXzjIeFZgO1GzRzorMs6oCXYCaae96O4Wc0Oap5Zj2gctTgQKT+D/ySWSzJtJdwgAAAABJRU5ErkJggg==",wk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABDCAYAAAAh43M3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbTSURBVHgB7ZtbjBRFFIbPssCCgNwUWIMRBREfEFBQ8IaiwQf1AS9oTFADhieJEK8PvkhEYxQjakwwakRFE68PmiAhxEQQEAEvgGIAg1EBucMidzj+P6fW3a2dne6ZqrmZ+ZMvM9Nd3V1dXX3qnDo1IlVVVVVVVVVVLqqREkhVO+OjB+gO+L0OdHC7T4Kj4DDYCxpqamoOSpFVtIZBY/DGrwFXghGgD6iXlo1DHQOHwH6wA2wD34LvwNdopJNS6UJjdAIjwHPgTw3XX+BFcCk4UypNqHQtuArMj9QgvnaC98BI0E7KXawkGAo+AEe18OI13nHXbC/lKFSsA5gE1mrxtRHcr2bHykeoUC/wppZec0F/UJLR1m+Uc8DH4IiWXsfBJ6BeSilU4FywEJzU8hHrwsYZoqUwzLhoP/C52lMqN7FxvgB9pJjCBc8G72t59RRfrNtr4CzJQzl3NTXLPwPcks/xRRTrNhlM1zxGq5ytNy5yMz7mi7nylSCGFhMQSnyVy0E5PXE1az9dKqdRKNb1CdS9Xy4HpfYW1XyDKWCUxBEjZgaGSwGf5k6xHtwX3ACucNfqKuEaCybjHmaj5xyVmFIbhX7WONoEHga9slyPTuMjYLPG0TrQV2ILJ50BTmmYePwyMFhTGkSUuxis0PARkNeeIjGFE/YEizVcG8BIyVE4ZpQ7NlSLQA+JJZzsTrBVw8Qnfrt6UTB+nwGuA1PBA+579wx1mKThvYbTFXdojFgKJ+kIXtbw12g9qPPOzThrJtjfrNw+8JR68Q5+d9ZwG8eGnaMxonA1I7hKw8RGfcg7b3vwmWYOPrmNE1G13jGPavgDWqkpQoU0fgxHjoskTEfAam/bEEBnsS5DeW6bmOG6K8QmykPE63ZLKpSmYYZKuC9B77PB2zZemjIDmcR947xtB8QyByFiowxOKpSmYQZIuNhjjnvbEp8a1Nv7fUIsixCqKA1zofz/dH5SgbQ2JlQcomu9bWlsxWHvd63kEMZkURTjm6bLpzlHJ28b4yTNcgz3rfW2dQEx8kmJNjNNw3SUcPFmhnjbloA1WY5ZBRZ722gbYgSVnZMKpGmYwxIuepr0XP+7HqJcGtFpYLlYvrpR/L6M+1yZ03LH3iZx0sqJ95TmfY2VUL8eXC7mi5wWbnw5bpg3e59Yb+DrsxG8jX1/e8ePFvN7YuiAhEotHIilLzXDVINaBrPO0S7D/vPUshGx9GrSfad5lX6TeLoRvKRekIjecYoTSI5Tzfe5sjPFJq9i6dekAmkaZoPEE4fbu8AravMsbb7KarEUQ4LZ4G5pPdyHKPFhJxoyVG4QPr6XOKNBc9GGzBNb+7JSzNVnfXqKTWnSptD2xM4N0WYOR8/cnK1QGuNLQ/WLxJvrbRSnGZmG2SW2OIgjBXswh9L+Yo5lIdIz68GepEJpGoZP8hvAmbfYyXIGivWOYoj2i65AQ1LBNE+EgRtn8hNbuQK0HSzFa3QiqWBiw+Ak9C0Wibnwla6fxO4lUakCMjTOARjhj8TmUGK897Qnh9wnu/VO98muzuGZ+WaGETT4naR1nJWPeO4FuJfE14hKbTPUcjILwTDJT6wYRzfGRwwD6EvQy92dwXdh43MuZrCDKz0vA8Mlfzv3IxiPa+2QmFKbFOecay4LhLhEZBtYoJYBGKR5rLbkMc7vuQd8CPZqbstP9oDHtFArrdhr3E2m0XbwBhgrkYVzjgZvgd0p68I6x89CepUao5afySTO4PNpctHOOPXSJRnORe+WeSUm9Ho7erpt7ROO7QKuVlsh+k+WRtnFukiOymcZCH2PJ8Hj0nKGn6MXh8NZYG5bQ6Jadx4glgEgF4CBYoaW++iZbhJz29e5zy1udGyrPlNdnfpKy3vaB+aAp9MM0cFSyzW9AE406ynMPV2rGZJZaktd68EEME8t3bpHs4vn5Kuy1vWKia43tXX+m8Aabco7sW6v8xgpply3Z8KM2b3f2ShtlGO2cRpYruFaDR7UNpaPqb3mf4Bj4FPWUYottTmUgWpGkEs6/Jx0N/eUl7qKxhJHRTbyvdo65cuew5GT6wMLa2yThAp01dZ5Znb5Z7XpVSuEOFzPUm/1gto6nhgT+PGFit0KDmrh1aA2NRpdhVp1yRGmTgovXiNGFqOVCtUwTMnGSKUmiWnfGFmM4gjduwZcoraUY7vG1xbwrtr/lUr/h4pcpRbjDAPPqP07LVT8U9jz7pwFfVWL+Z9Ivrb8T+QYsUiZ05ecz+3maHTc+HrQ++WU6lYxb/oHscmyJX4kXiiV6l+0jTloeqWc4+V8C/0guv3MRDbO1bBxdkdfm1tVVVVVVVVVFaV/AQzbHigvhZrXAAAAAElFTkSuQmCC";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ek(n,e,t,i){function o(l){return l instanceof t?l:new t(function(h){h(l)})}return new(t||(t=Promise))(function(l,h){function d(_){try{y(i.next(_))}catch(T){h(T)}}function p(_){try{y(i.throw(_))}catch(T){h(T)}}function y(_){_.done?l(_.value):o(_.value).then(d,p)}y((i=i.apply(n,[])).next())})}function Tk(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,h;return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(y){return function(_){return p([y,_])}}function p(y){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(l=y[0]&2?o.return:y[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,y[1])).done)return l;switch(o=0,l&&(y=[y[0]&2,l.value]),y[0]){case 0:case 1:l=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,o=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){t.label=y[1];break}if(y[0]===6&&t.label<l[1]){t.label=l[1],l=y;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(y);break}l[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(_){y=[6,_],o=0}finally{i=l=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ko=function(){return Ko=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Ko.apply(this,arguments)},tw=function(n){return{loading:n==null,value:n}},Ik=function(){return function(n,e){switch(e.type){case"error":return Ko(Ko({},n),{error:e.error,loading:!1,value:void 0});case"reset":return tw(e.defaultValue);case"value":return Ko(Ko({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},Ak=function(n){var e=n?n():void 0,t=K.useReducer(Ik(),tw(e)),i=t[0],o=t[1],l=K.useCallback(function(){var p=n?n():void 0;o({type:"reset",defaultValue:p})},[n]),h=K.useCallback(function(p){o({type:"error",error:p})},[]),d=K.useCallback(function(p){o({type:"value",value:p})},[]);return K.useMemo(function(){return{error:i.error,loading:i.loading,reset:l,setError:h,setValue:d,value:i.value}},[i.error,i.loading,l,h,d,i.value])},Sk=function(n,e){var t=Ak(function(){return n.currentUser}),i=t.error,o=t.loading,l=t.setError,h=t.setValue,d=t.value;return K.useEffect(function(){var p=KC(n,function(y){return Ek(void 0,void 0,void 0,function(){var _;return Tk(this,function(T){switch(T.label){case 0:return[3,4];case 1:return T.trys.push([1,3,,4]),[4,e.onUserChanged(y)];case 2:return T.sent(),[3,4];case 3:return _=T.sent(),l(_),[3,4];case 4:return h(y),[2]}})})},l);return function(){p()}},[n]),[d,o,i]};const Rk=async n=>{const e=Tr(er,"users"),t=fs(e,ps("uid","==",n)),i=await _i(t);if(i.empty)throw new Error("User not found");return i.docs[0].id},nw=async n=>{const e=Tr(er,"class"),t=fs(e,ps("classID","==",n));try{const i=await _i(t);if(i.empty)throw new Error("Class not found");return i.docs[0].id}catch{alert("Class doesn't exist")}};function Ck({setLogin:n}){const e=Lc(),t=new Tp,[i,o]=K.useState(!1),[l,h]=K.useState([]),[d,p]=Sk(dn),[y,_]=K.useState([]);K.useEffect(()=>{(async()=>{if(p){console.log("Loading authentication state...");return}if(!d){console.log("User is not authenticated");return}try{const L=Tr(er,"users"),b=fs(L,ps("uid","==",d.uid));console.log("Current User UID:",d.uid);const q=await _i(b);if(q.empty){console.log("No user document found");return}const Y=q.docs[0].id,Z=Tr(er,"users",Y,"classJoined"),oe=await _i(Z);h(oe.docs)}catch(L){console.error("Error fetching user classes:",L)}})()},[p,d]);const T=()=>{o(!i)},A=()=>{n(!1),t.remove("auth-token")},S=async N=>{const L=await nw(N.target.value),b=vl(er,"class",L),Y=(await E0(b)).data();_(Y),console.log(Y)};return he.jsxs("div",{className:"relative flex w-[100vw] items-start flex-col",children:[he.jsx("div",{className:"flex items-center justify-center bg-[#FFABD4] h-[10vh] w-[100%]",children:he.jsxs("div",{className:"h-[100%] flex items-center justify-center gap-3 font-inria font-bold text-4xl",children:[he.jsx("img",{src:pk,className:"h-[70%]",alt:""}),he.jsx("h1",{children:"Class Space"})]})}),he.jsxs("div",{className:"flex",children:[he.jsxs("div",{className:"relative w-[30vw] h-[90vh] bg-[#1A1A1D] border-r-2 border-[#D9D9D9] flex flex-col",children:[he.jsxs("div",{className:` transition-all ease-in-out duration-300 flex flex-col items-end justify-start pt-2 h-[100%] w-[100%] bg-[#A64D79] absolute z-[100] ${i?"translate-x-0":"-translate-x-full"}`,children:[he.jsx("img",{src:Ip,alt:"",className:"cursor-pointer",onClick:()=>T()}),he.jsxs("div",{className:"mt-[15%] text-4xl font-inria text-white w-[100%] px-[20px]",children:[he.jsx("div",{className:"hover:bg-black py-4 border-t-[3px] cursor-pointer",onClick:()=>e("/ClassSpace/CreateClass"),children:"Create Class"}),he.jsx("div",{className:"hover:bg-black py-4 border-t-[3px] border-b-[3px] cursor-pointer",onClick:()=>e("/ClassSpace/JoinClass"),children:"Join Class"})]}),he.jsx("img",{className:"mt-auto mr-4 mb-8 cursor-pointer",onClick:()=>A(),src:_k,alt:""})]}),he.jsxs("div",{className:"w-[100%] h-[10%] relative flex items-center px-5",children:[he.jsx("img",{src:gk,alt:"menu",className:"cursor-pointer",onClick:()=>T()}),he.jsx("h1",{className:"absolute left-1/2 transform -translate-x-1/2 font-inria text-white text-4xl font-bold",children:"Chats"})]}),he.jsx("div",{className:" w-[100%] h-[100%] overflow-y-auto",children:he.jsx("div",{className:"",children:l.map(N=>{const L=N.data();return he.jsxs("div",{className:"borderflex items-center justif-center h-[70px]",children:[he.jsx("input",{id:`class-${L.classID}`,name:"currentClass",type:"radio",className:"opacity-0 absolute peer",value:L.classID,onChange:b=>S(b)}),he.jsxs("label",{htmlFor:`class-${L.classID}`,className:"gap-2 px-4 flex items-center justify-start h-[100%] w-[100%] flex peer-checked:bg-black hover:bg-[#0f0f0f]",children:[he.jsx("img",{className:"h-[80%]",src:wk,alt:""}),he.jsx("h1",{className:"text-4xl text-white",children:L.className})]})]},L.classID)})})})]}),he.jsxs("div",{className:"w-[70vw] h-[90vh] bg-[#1A1A1D]",children:[he.jsxs("div",{className:"w-[100%] h-[10vh] bg-[#3B1C32] flex items-center relative justify-end px-5",children:[he.jsx("h1",{className:"font-inria text-white text-4xl font-bold absolute left-1/2 transform -translate-x-1/2",children:y.className}),he.jsx("img",{className:"cursor-pointer h-[50%]",src:mk,alt:""})]}),he.jsxs("div",{className:"relative overflow-y-auto w-[100%] h-[72vh] ",children:[he.jsx("div",{className:"flex items-center justify-start flex-col absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#6A1E55] h-[90%] w-[70%]",children:he.jsx("h1",{className:"",children:"Class Info"})}),he.jsx("div",{})]}),he.jsxs("div",{className:"bg-[#3B222E] w-[100%] h-[8vh] flex justify-between px-10 items-center",children:[he.jsx("img",{className:"h-[70%]",src:yk,alt:""}),he.jsx("input",{className:"w-[85%] h-[70%] rounded-full bg-[#1A1A1D] text-white px-6 font-inria text-2xl focus:outline-none",type:"text"}),he.jsx("img",{className:"h-[70%]",src:vk,alt:""})]})]})]})]})}function Pk(){const n=new Tp,[e,t]=K.useState(n.get("auth-token"));return e?he.jsx(Ck,{setLogin:t}):he.jsx(fk,{setLogin:t})}function kk(){const n=Lc(),[e,t]=K.useState(""),i=async()=>{const o=()=>Math.random().toString(36).substring(2,10),l=Tr(er,"users"),h=fs(l,ps("uid","==",dn.currentUser.uid)),p=(await _i(h)).docs[0].id,y=vl(er,"users",p),_=Tr(y,"classJoined"),T=Tr(er,"class");let A=o();for(;;){const b=fs(T,ps("roomID","==",A));if((await _i(b)).empty)break;A=o()}const S={className:e,createdAt:Yo(),classID:A,ownerID:dn.currentUser.uid,ownerName:dn.currentUser.displayName},N={className:e,classID:A,dateJoined:Yo(),email:dn.currentUser.email},L={name:dn.currentUser.displayName,photo:dn.currentUser.photoURL,uid:dn.currentUser.uid,dateJoined:Yo(),email:dn.currentUser.email};try{await Qo(T,S),await Qo(_,N);const b=fs(T,ps("classID","==",A)),q=await _i(b);console.log(q);const Y=q.docs[0].id,Z=vl(er,"class",Y),oe=Tr(Z,"classMembers");await Qo(oe,L),alert("Successfully created class!"),n("/ClassSpace/")}catch(b){console.log(b)}};return he.jsx("div",{className:"text-white font-inria planets-bg w-screen h-screen flex items-center justify-center",children:he.jsxs("div",{className:"py-[50px] min-h-[450px] aspect-square  h-[60%] bg-[#1A1A1D] rounded-[20px]",children:[he.jsxs("div",{className:"h-[12%] flex items-center justify-between px-10 pt-2",children:[he.jsx("h1",{className:"text-[50px] font-bold",children:"Create Class"}),he.jsx("img",{className:"cursor-pointer",src:Ip,alt:"",onClick:()=>n("/ClassSpace/")})]}),he.jsx("div",{className:" h-[70%] flex justify-center items-center flex-col text-left",children:he.jsxs("div",{className:"w-[80%]",children:[he.jsx("h1",{className:"font-bold text-4xl",children:"Class Name:"}),he.jsx("input",{onChange:o=>t(o.target.value),className:"w-[100%] rounded-[10px] bg-[#3B1C32] h-[65px] px-2 text-3xl focus:outline-none",type:"text",name:"",id:""})]})}),he.jsx("div",{className:"h-[18%] w-[100%] flex items-start justify-center",children:he.jsx("button",{onClick:()=>i(),className:"bg-[#915472] px-8 py-5 rounded-[20px] text-3xl hover:scale-[1.2] transition-scale duration-300",children:"Create Class"})})]})})}function xk(){const n=Lc(),[e,t]=K.useState(""),i=async()=>{if(!e.trim()){alert("Please enter a valid class code");return}const l=await Rk(dn.currentUser.uid),h=Tr(er,"users",l,"classJoined"),d=await nw(e),p=vl(er,"class",d),_=(await E0(p)).data(),T=Tr(p,"classMembers"),A=fs(T,ps("uid","==",dn.currentUser.uid)),N=(await _i(A)).empty,L={name:dn.currentUser.displayName,photo:dn.currentUser.photoURL,uid:dn.currentUser.uid,dateJoined:Yo(),email:dn.currentUser.email},b={className:_.className,classID:_.classID,dateJoined:Yo()};if(N)await Qo(T,L),await Qo(h,b),alert("Successfully joined"),n("/ClassSpace/");else{alert("You are already in that class");return}};return he.jsx("div",{className:"text-white font-inria planets-bg w-screen h-screen flex items-center justify-center",children:he.jsxs("div",{className:"py-[50px] min-h-[450px] aspect-square  h-[60%] bg-[#1A1A1D] rounded-[20px]",children:[he.jsxs("div",{className:"h-[12%] flex items-center justify-between px-10 pt-2",children:[he.jsx("h1",{className:"text-[50px] font-bold",children:"Join Class"}),he.jsx("img",{className:"cursor-pointer",src:Ip,alt:"",onClick:()=>n("/ClassSpace/")})]}),he.jsx("div",{className:" h-[70%] flex justify-center items-center flex-col text-left",children:he.jsxs("div",{className:"w-[80%]",children:[he.jsx("h1",{className:"font-bold text-4xl",children:"Class ID:"}),he.jsx("input",{onChange:o=>t(o.target.value),className:"w-[100%] rounded-[10px] bg-[#3B1C32] h-[65px] px-2 text-3xl focus:outline-none",type:"text",name:"",id:""})]})}),he.jsx("div",{className:"h-[18%] w-[100%] flex items-start justify-center",children:he.jsx("button",{onClick:()=>i(),className:"bg-[#915472] px-8 py-5 rounded-[20px] text-3xl hover:scale-[1.2] transition-scale duration-300",children:"Join Class"})})]})})}function Nk(){const n=eI([{path:"/ClassSpace/",element:he.jsx(Pk,{}),errorElement:he.jsx(pI,{})},{path:"/ClassSpace/CreateClass",element:he.jsx(kk,{})},{path:"ClassSpace/JoinClass",element:he.jsx(xk,{})}]);return he.jsx(fI,{router:n})}fE.createRoot(document.getElementById("root")).render(he.jsx(K.StrictMode,{children:he.jsx(Nk,{})}));
