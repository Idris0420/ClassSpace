(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var dd={exports:{}},Fa={},fd={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function Fw(){if(gg)return ze;gg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.iterator;function A(F){return F===null||typeof F!="object"?null:(F=I&&F[I]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,M={};function b(F,Y,_e){this.props=F,this.context=Y,this.refs=M,this.updater=_e||S}b.prototype.isReactComponent={},b.prototype.setState=function(F,Y){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Y,"setState")},b.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function $(){}$.prototype=b.prototype;function X(F,Y,_e){this.props=F,this.context=Y,this.refs=M,this.updater=_e||S}var ee=X.prototype=new $;ee.constructor=X,L(ee,b.prototype),ee.isPureReactComponent=!0;var le=Array.isArray,U=Object.prototype.hasOwnProperty,ce={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(F,Y,_e){var Me,Le={},je=null,Ze=null;if(Y!=null)for(Me in Y.ref!==void 0&&(Ze=Y.ref),Y.key!==void 0&&(je=""+Y.key),Y)U.call(Y,Me)&&!k.hasOwnProperty(Me)&&(Le[Me]=Y[Me]);var et=arguments.length-2;if(et===1)Le.children=_e;else if(1<et){for(var Fe=Array(et),ft=0;ft<et;ft++)Fe[ft]=arguments[ft+2];Le.children=Fe}if(F&&F.defaultProps)for(Me in et=F.defaultProps,et)Le[Me]===void 0&&(Le[Me]=et[Me]);return{$$typeof:n,type:F,key:je,ref:Ze,props:Le,_owner:ce.current}}function R(F,Y){return{$$typeof:n,type:F.type,key:Y,ref:F.ref,props:F.props,_owner:F._owner}}function x(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function O(F){var Y={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(_e){return Y[_e]})}var j=/\/+/g;function P(F,Y){return typeof F=="object"&&F!==null&&F.key!=null?O(""+F.key):Y.toString(36)}function ht(F,Y,_e,Me,Le){var je=typeof F;(je==="undefined"||je==="boolean")&&(F=null);var Ze=!1;if(F===null)Ze=!0;else switch(je){case"string":case"number":Ze=!0;break;case"object":switch(F.$$typeof){case n:case e:Ze=!0}}if(Ze)return Ze=F,Le=Le(Ze),F=Me===""?"."+P(Ze,0):Me,le(Le)?(_e="",F!=null&&(_e=F.replace(j,"$&/")+"/"),ht(Le,Y,_e,"",function(ft){return ft})):Le!=null&&(x(Le)&&(Le=R(Le,_e+(!Le.key||Ze&&Ze.key===Le.key?"":(""+Le.key).replace(j,"$&/")+"/")+F)),Y.push(Le)),1;if(Ze=0,Me=Me===""?".":Me+":",le(F))for(var et=0;et<F.length;et++){je=F[et];var Fe=Me+P(je,et);Ze+=ht(je,Y,_e,Fe,Le)}else if(Fe=A(F),typeof Fe=="function")for(F=Fe.call(F),et=0;!(je=F.next()).done;)je=je.value,Fe=Me+P(je,et++),Ze+=ht(je,Y,_e,Fe,Le);else if(je==="object")throw Y=String(F),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ze}function Ge(F,Y,_e){if(F==null)return F;var Me=[],Le=0;return ht(F,Me,"","",function(je){return Y.call(_e,je,Le++)}),Me}function Ct(F){if(F._status===-1){var Y=F._result;Y=Y(),Y.then(function(_e){(F._status===0||F._status===-1)&&(F._status=1,F._result=_e)},function(_e){(F._status===0||F._status===-1)&&(F._status=2,F._result=_e)}),F._status===-1&&(F._status=0,F._result=Y)}if(F._status===1)return F._result.default;throw F._result}var Qe={current:null},oe={transition:null},Ee={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:oe,ReactCurrentOwner:ce};function he(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:Ge,forEach:function(F,Y,_e){Ge(F,function(){Y.apply(this,arguments)},_e)},count:function(F){var Y=0;return Ge(F,function(){Y++}),Y},toArray:function(F){return Ge(F,function(Y){return Y})||[]},only:function(F){if(!x(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ze.Component=b,ze.Fragment=t,ze.Profiler=o,ze.PureComponent=X,ze.StrictMode=i,ze.Suspense=p,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ee,ze.act=he,ze.cloneElement=function(F,Y,_e){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Me=L({},F.props),Le=F.key,je=F.ref,Ze=F._owner;if(Y!=null){if(Y.ref!==void 0&&(je=Y.ref,Ze=ce.current),Y.key!==void 0&&(Le=""+Y.key),F.type&&F.type.defaultProps)var et=F.type.defaultProps;for(Fe in Y)U.call(Y,Fe)&&!k.hasOwnProperty(Fe)&&(Me[Fe]=Y[Fe]===void 0&&et!==void 0?et[Fe]:Y[Fe])}var Fe=arguments.length-2;if(Fe===1)Me.children=_e;else if(1<Fe){et=Array(Fe);for(var ft=0;ft<Fe;ft++)et[ft]=arguments[ft+2];Me.children=et}return{$$typeof:n,type:F.type,key:Le,ref:je,props:Me,_owner:Ze}},ze.createContext=function(F){return F={$$typeof:h,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:l,_context:F},F.Consumer=F},ze.createElement=T,ze.createFactory=function(F){var Y=T.bind(null,F);return Y.type=F,Y},ze.createRef=function(){return{current:null}},ze.forwardRef=function(F){return{$$typeof:d,render:F}},ze.isValidElement=x,ze.lazy=function(F){return{$$typeof:w,_payload:{_status:-1,_result:F},_init:Ct}},ze.memo=function(F,Y){return{$$typeof:y,type:F,compare:Y===void 0?null:Y}},ze.startTransition=function(F){var Y=oe.transition;oe.transition={};try{F()}finally{oe.transition=Y}},ze.unstable_act=he,ze.useCallback=function(F,Y){return Qe.current.useCallback(F,Y)},ze.useContext=function(F){return Qe.current.useContext(F)},ze.useDebugValue=function(){},ze.useDeferredValue=function(F){return Qe.current.useDeferredValue(F)},ze.useEffect=function(F,Y){return Qe.current.useEffect(F,Y)},ze.useId=function(){return Qe.current.useId()},ze.useImperativeHandle=function(F,Y,_e){return Qe.current.useImperativeHandle(F,Y,_e)},ze.useInsertionEffect=function(F,Y){return Qe.current.useInsertionEffect(F,Y)},ze.useLayoutEffect=function(F,Y){return Qe.current.useLayoutEffect(F,Y)},ze.useMemo=function(F,Y){return Qe.current.useMemo(F,Y)},ze.useReducer=function(F,Y,_e){return Qe.current.useReducer(F,Y,_e)},ze.useRef=function(F){return Qe.current.useRef(F)},ze.useState=function(F){return Qe.current.useState(F)},ze.useSyncExternalStore=function(F,Y,_e){return Qe.current.useSyncExternalStore(F,Y,_e)},ze.useTransition=function(){return Qe.current.useTransition()},ze.version="18.3.1",ze}var yg;function of(){return yg||(yg=1,fd.exports=Fw()),fd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function Uw(){if(vg)return Fa;vg=1;var n=of(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(d,p,y){var w,I={},A=null,S=null;y!==void 0&&(A=""+y),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(S=p.ref);for(w in p)i.call(p,w)&&!l.hasOwnProperty(w)&&(I[w]=p[w]);if(d&&d.defaultProps)for(w in p=d.defaultProps,p)I[w]===void 0&&(I[w]=p[w]);return{$$typeof:e,type:d,key:A,ref:S,props:I,_owner:o.current}}return Fa.Fragment=t,Fa.jsx=h,Fa.jsxs=h,Fa}var _g;function zw(){return _g||(_g=1,dd.exports=Uw()),dd.exports}var De=zw(),Q=of(),ku={},pd={exports:{}},kn={},md={exports:{}},gd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function jw(){return wg||(wg=1,function(n){function e(oe,Ee){var he=oe.length;oe.push(Ee);e:for(;0<he;){var F=he-1>>>1,Y=oe[F];if(0<o(Y,Ee))oe[F]=Ee,oe[he]=Y,he=F;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var Ee=oe[0],he=oe.pop();if(he!==Ee){oe[0]=he;e:for(var F=0,Y=oe.length,_e=Y>>>1;F<_e;){var Me=2*(F+1)-1,Le=oe[Me],je=Me+1,Ze=oe[je];if(0>o(Le,he))je<Y&&0>o(Ze,Le)?(oe[F]=Ze,oe[je]=he,F=je):(oe[F]=Le,oe[Me]=he,F=Me);else if(je<Y&&0>o(Ze,he))oe[F]=Ze,oe[je]=he,F=je;else break e}}return Ee}function o(oe,Ee){var he=oe.sortIndex-Ee.sortIndex;return he!==0?he:oe.id-Ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var p=[],y=[],w=1,I=null,A=3,S=!1,L=!1,M=!1,b=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(oe){for(var Ee=t(y);Ee!==null;){if(Ee.callback===null)i(y);else if(Ee.startTime<=oe)i(y),Ee.sortIndex=Ee.expirationTime,e(p,Ee);else break;Ee=t(y)}}function le(oe){if(M=!1,ee(oe),!L)if(t(p)!==null)L=!0,Ct(U);else{var Ee=t(y);Ee!==null&&Qe(le,Ee.startTime-oe)}}function U(oe,Ee){L=!1,M&&(M=!1,$(T),T=-1),S=!0;var he=A;try{for(ee(Ee),I=t(p);I!==null&&(!(I.expirationTime>Ee)||oe&&!O());){var F=I.callback;if(typeof F=="function"){I.callback=null,A=I.priorityLevel;var Y=F(I.expirationTime<=Ee);Ee=n.unstable_now(),typeof Y=="function"?I.callback=Y:I===t(p)&&i(p),ee(Ee)}else i(p);I=t(p)}if(I!==null)var _e=!0;else{var Me=t(y);Me!==null&&Qe(le,Me.startTime-Ee),_e=!1}return _e}finally{I=null,A=he,S=!1}}var ce=!1,k=null,T=-1,R=5,x=-1;function O(){return!(n.unstable_now()-x<R)}function j(){if(k!==null){var oe=n.unstable_now();x=oe;var Ee=!0;try{Ee=k(!0,oe)}finally{Ee?P():(ce=!1,k=null)}}else ce=!1}var P;if(typeof X=="function")P=function(){X(j)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,Ge=ht.port2;ht.port1.onmessage=j,P=function(){Ge.postMessage(null)}}else P=function(){b(j,0)};function Ct(oe){k=oe,ce||(ce=!0,P())}function Qe(oe,Ee){T=b(function(){oe(n.unstable_now())},Ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){L||S||(L=!0,Ct(U))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(oe){switch(A){case 1:case 2:case 3:var Ee=3;break;default:Ee=A}var he=A;A=Ee;try{return oe()}finally{A=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,Ee){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var he=A;A=oe;try{return Ee()}finally{A=he}},n.unstable_scheduleCallback=function(oe,Ee,he){var F=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?F+he:F):he=F,oe){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=he+Y,oe={id:w++,callback:Ee,priorityLevel:oe,startTime:he,expirationTime:Y,sortIndex:-1},he>F?(oe.sortIndex=he,e(y,oe),t(p)===null&&oe===t(y)&&(M?($(T),T=-1):M=!0,Qe(le,he-F))):(oe.sortIndex=Y,e(p,oe),L||S||(L=!0,Ct(U))),oe},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(oe){var Ee=A;return function(){var he=A;A=Ee;try{return oe.apply(this,arguments)}finally{A=he}}}}(gd)),gd}var Eg;function Bw(){return Eg||(Eg=1,md.exports=jw()),md.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function Hw(){if(Tg)return kn;Tg=1;var n=of(),e=Bw();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){h(r,s),h(r+"Capture",s)}function h(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},I={};function A(r){return p.call(I,r)?!0:p.call(w,r)?!1:y.test(r)?I[r]=!0:(w[r]=!0,!1)}function S(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function L(r,s,a,c){if(s===null||typeof s>"u"||S(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function M(r,s,a,c,f,g,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=_}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];b[s]=new M(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function X(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace($,X);b[s]=new M(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace($,X);b[s]=new M(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace($,X);b[s]=new M(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function ee(r,s,a,c){var f=b.hasOwnProperty(s)?b[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(L(s,a,f,c)&&(a=null),c||f===null?A(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,c=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var le=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),ce=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),O=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Qe=Symbol.for("react.offscreen"),oe=Symbol.iterator;function Ee(r){return r===null||typeof r!="object"?null:(r=oe&&r[oe]||r["@@iterator"],typeof r=="function"?r:null)}var he=Object.assign,F;function Y(r){if(F===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);F=s&&s[1]||""}return`
`+F+r}var _e=!1;function Me(r,s){if(!r||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var c=W}Reflect.construct(r,[],s)}else{try{s.call()}catch(W){c=W}r.call(s.prototype)}else{try{throw Error()}catch(W){c=W}r()}}catch(W){if(W&&c&&typeof W.stack=="string"){for(var f=W.stack.split(`
`),g=c.stack.split(`
`),_=f.length-1,C=g.length-1;1<=_&&0<=C&&f[_]!==g[C];)C--;for(;1<=_&&0<=C;_--,C--)if(f[_]!==g[C]){if(_!==1||C!==1)do if(_--,C--,0>C||f[_]!==g[C]){var D=`
`+f[_].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=_&&0<=C);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Y(r):""}function Le(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Me(r.type,!1),r;case 11:return r=Me(r.type.render,!1),r;case 1:return r=Me(r.type,!0),r;default:return""}}function je(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case ce:return"Portal";case R:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case ht:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ge:return s=r.displayName||null,s!==null?s:je(r.type)||"Memo";case Ct:s=r._payload,r=r._init;try{return je(r(s))}catch{}}return null}function Ze(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(s);case 8:return s===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function et(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Fe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ft(r){var s=Fe(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,g.call(this,_)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function zn(r){r._valueTracker||(r._valueTracker=ft(r))}function Ei(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=Fe(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function nn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function qr(r,s){var a=s.checked;return he({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ti(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=et(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ii(r,s){s=s.checked,s!=null&&ee(r,"checked",s,!1)}function gs(r,s){Ii(r,s);var a=et(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ai(r,s.type,a):s.hasOwnProperty("defaultValue")&&Ai(r,s.type,et(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function eo(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ai(r,s,a){(s!=="number"||nn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Zn=Array.isArray;function qt(r,s,a,c){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&c&&(r[a].defaultSelected=!0)}else{for(a=""+et(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function er(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function $r(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Zn(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:et(a)}}function Ir(r,s){var a=et(s.value),c=et(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function _n(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function lt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function At(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?lt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Dn,ys=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Dn=Dn||document.createElement("div"),Dn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Dn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function $t(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sr=["Webkit","ms","Moz","O"];Object.keys(Ar).forEach(function(r){Sr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ar[s]=Ar[r]})});function Si(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ar.hasOwnProperty(r)&&Ar[r]?(""+s).trim():s+"px"}function vs(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=Si(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,f):r[a]=f}}var Ri=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rr(r,s){if(s){if(Ri[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ci(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tr=null;function Pi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Wr=null,wn=null,Nn=null;function nr(r){if(r=Ia(r)){if(typeof Wr!="function")throw Error(t(280));var s=r.stateNode;s&&(s=ql(s),Wr(r.stateNode,r.type,s))}}function pn(r){wn?Nn?Nn.push(r):Nn=[r]:wn=r}function _s(){if(wn){var r=wn,s=Nn;if(Nn=wn=null,nr(r),s)for(r=0;r<s.length;r++)nr(s[r])}}function Kr(r,s){return r(s)}function N(){}var z=!1;function K(r,s,a){if(z)return r(s,a);z=!0;try{return Kr(r,s,a)}finally{z=!1,(wn!==null||Nn!==null)&&(N(),_s())}}function J(r,s){var a=r.stateNode;if(a===null)return null;var c=ql(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var de=!1;if(d)try{var ge={};Object.defineProperty(ge,"passive",{get:function(){de=!0}}),window.addEventListener("test",ge,ge),window.removeEventListener("test",ge,ge)}catch{de=!1}function Re(r,s,a,c,f,g,_,C,D){var W=Array.prototype.slice.call(arguments,3);try{s.apply(a,W)}catch(re){this.onError(re)}}var fe=!1,ve=null,ae=!1,ke=null,Ue={onError:function(r){fe=!0,ve=r}};function it(r,s,a,c,f,g,_,C,D){fe=!1,ve=null,Re.apply(Ue,arguments)}function St(r,s,a,c,f,g,_,C,D){if(it.apply(this,arguments),fe){if(fe){var W=ve;fe=!1,ve=null}else throw Error(t(198));ae||(ae=!0,ke=W)}}function qe(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function tt(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function st(r){if(qe(r)!==r)throw Error(t(188))}function rr(r){var s=r.alternate;if(!s){if(s=qe(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return st(f),r;if(g===c)return st(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=g;else{for(var _=!1,C=f.child;C;){if(C===a){_=!0,a=f,c=g;break}if(C===c){_=!0,c=f,a=g;break}C=C.sibling}if(!_){for(C=g.child;C;){if(C===a){_=!0,a=g,c=f;break}if(C===c){_=!0,c=g,a=f;break}C=C.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ir(r){return r=rr(r),r!==null?rn(r):null}function rn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=rn(r);if(s!==null)return s;r=r.sibling}return null}var Wt=e.unstable_scheduleCallback,Gr=e.unstable_cancelCallback,Cr=e.unstable_shouldYield,sr=e.unstable_requestPaint,ot=e.unstable_now,Qr=e.unstable_getCurrentPriorityLevel,Ye=e.unstable_ImmediatePriority,pt=e.unstable_UserBlockingPriority,Kt=e.unstable_NormalPriority,or=e.unstable_LowPriority,mt=e.unstable_IdlePriority,En=null,sn=null;function to(r){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(En,r,void 0,(r.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:Tl,aa=Math.log,El=Math.LN2;function Tl(r){return r>>>=0,r===0?32:31-(aa(r)/El|0)|0}var no=64,ro=4194304;function ki(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ws(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,f=r.suspendedLanes,g=r.pingedLanes,_=a&268435455;if(_!==0){var C=_&~f;C!==0?c=ki(C):(g&=_,g!==0&&(c=ki(g)))}else _=a&~f,_!==0?c=ki(_):g!==0&&(c=ki(g));if(c===0)return 0;if(s!==0&&s!==c&&!(s&f)&&(f=c&-c,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(c&4&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-mn(s),f=1<<a,c|=r[a],s&=~f;return c}function Bc(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yr(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var _=31-mn(g),C=1<<_,D=f[_];D===-1?(!(C&a)||C&c)&&(f[_]=Bc(C,s)):D<=s&&(r.expiredLanes|=C),g&=~C}}function Ln(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Es(){var r=no;return no<<=1,!(no&4194240)&&(no=64),r}function xi(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Di(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-mn(s),r[s]=a}function ct(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-mn(a),g=1<<f;s[f]=0,c[f]=-1,r[f]=-1,a&=~g}}function Ni(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-mn(a),f=1<<c;f&s|r[c]&s&&(r[c]|=s),a&=~f}}var $e=0;function Li(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Il,io,Al,Sl,Rl,la=!1,Pr=[],Gt=null,ar=null,lr=null,Oi=new Map,jn=new Map,kr=[],Hc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cl(r,s){switch(r){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Oi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":jn.delete(s.pointerId)}}function Tn(r,s,a,c,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Ia(s),s!==null&&io(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function qc(r,s,a,c,f){switch(s){case"focusin":return Gt=Tn(Gt,r,s,a,c,f),!0;case"dragenter":return ar=Tn(ar,r,s,a,c,f),!0;case"mouseover":return lr=Tn(lr,r,s,a,c,f),!0;case"pointerover":var g=f.pointerId;return Oi.set(g,Tn(Oi.get(g)||null,r,s,a,c,f)),!0;case"gotpointercapture":return g=f.pointerId,jn.set(g,Tn(jn.get(g)||null,r,s,a,c,f)),!0}return!1}function Pl(r){var s=Rs(r.target);if(s!==null){var a=qe(s);if(a!==null){if(s=a.tag,s===13){if(s=tt(a),s!==null){r.blockedOn=s,Rl(r.priority,function(){Al(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Xr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=so(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);tr=c,a.target.dispatchEvent(c),tr=null}else return s=Ia(a),s!==null&&io(s),r.blockedOn=a,!1;s.shift()}return!0}function Ts(r,s,a){Xr(r)&&a.delete(s)}function kl(){la=!1,Gt!==null&&Xr(Gt)&&(Gt=null),ar!==null&&Xr(ar)&&(ar=null),lr!==null&&Xr(lr)&&(lr=null),Oi.forEach(Ts),jn.forEach(Ts)}function ur(r,s){r.blockedOn===s&&(r.blockedOn=null,la||(la=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kl)))}function cr(r){function s(f){return ur(f,r)}if(0<Pr.length){ur(Pr[0],r);for(var a=1;a<Pr.length;a++){var c=Pr[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Gt!==null&&ur(Gt,r),ar!==null&&ur(ar,r),lr!==null&&ur(lr,r),Oi.forEach(s),jn.forEach(s),a=0;a<kr.length;a++)c=kr[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)Pl(a),a.blockedOn===null&&kr.shift()}var Jr=le.ReactCurrentBatchConfig,Vi=!0;function _t(r,s,a,c){var f=$e,g=Jr.transition;Jr.transition=null;try{$e=1,ua(r,s,a,c)}finally{$e=f,Jr.transition=g}}function $c(r,s,a,c){var f=$e,g=Jr.transition;Jr.transition=null;try{$e=4,ua(r,s,a,c)}finally{$e=f,Jr.transition=g}}function ua(r,s,a,c){if(Vi){var f=so(r,s,a,c);if(f===null)nh(r,s,c,Is,a),Cl(r,c);else if(qc(f,r,s,a,c))c.stopPropagation();else if(Cl(r,c),s&4&&-1<Hc.indexOf(r)){for(;f!==null;){var g=Ia(f);if(g!==null&&Il(g),g=so(r,s,a,c),g===null&&nh(r,s,c,Is,a),g===f)break;f=g}f!==null&&c.stopPropagation()}else nh(r,s,c,null,a)}}var Is=null;function so(r,s,a,c){if(Is=null,r=Pi(c),r=Rs(r),r!==null)if(s=qe(r),s===null)r=null;else if(a=s.tag,a===13){if(r=tt(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Is=r,null}function ca(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qr()){case Ye:return 1;case pt:return 4;case Kt:case or:return 16;case mt:return 536870912;default:return 16}default:return 16}}var On=null,oo=null,In=null;function ha(){if(In)return In;var r,s=oo,a=s.length,c,f="value"in On?On.value:On.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var _=a-r;for(c=1;c<=_&&s[a-c]===f[g-c];c++);return In=f.slice(r,1<c?1-c:void 0)}function ao(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function xr(){return!0}function da(){return!1}function Qt(r){function s(a,c,f,g,_){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?xr:da,this.isPropagationStopped=da,this}return he(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),s}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=Qt(hr),Dr=he({},hr,{view:0,detail:0}),Wc=Qt(Dr),uo,Zr,Mi,As=he({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Mi&&(Mi&&r.type==="mousemove"?(uo=r.screenX-Mi.screenX,Zr=r.screenY-Mi.screenY):Zr=uo=0,Mi=r),uo)},movementY:function(r){return"movementY"in r?r.movementY:Zr}}),co=Qt(As),fa=he({},As,{dataTransfer:0}),xl=Qt(fa),ho=he({},Dr,{relatedTarget:0}),fo=Qt(ho),Dl=he({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),ei=Qt(Dl),Nl=he({},hr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ll=Qt(Nl),Ol=he({},hr,{data:0}),pa=Qt(Ol),po={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ml(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Vl[r])?!!s[r]:!1}function Nr(){return Ml}var u=he({},Dr,{key:function(r){if(r.key){var s=po[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ao(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?gn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(r){return r.type==="keypress"?ao(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ao(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Qt(u),v=he({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Qt(v),B=he({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),G=Qt(B),ue=he({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ut=Qt(ue),Ot=he({},As,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Xe=Qt(Ot),Ut=[9,13,27,32],xt=d&&"CompositionEvent"in window,Bn=null;d&&"documentMode"in document&&(Bn=document.documentMode);var Vn=d&&"TextEvent"in window&&!Bn,Ss=d&&(!xt||Bn&&8<Bn&&11>=Bn),mo=" ",cp=!1;function hp(r,s){switch(r){case"keyup":return Ut.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var go=!1;function V0(r,s){switch(r){case"compositionend":return dp(s);case"keypress":return s.which!==32?null:(cp=!0,mo);case"textInput":return r=s.data,r===mo&&cp?null:r;default:return null}}function M0(r,s){if(go)return r==="compositionend"||!xt&&hp(r,s)?(r=ha(),In=oo=On=null,go=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ss&&s.locale!=="ko"?null:s.data;default:return null}}var b0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!b0[r.type]:s==="textarea"}function pp(r,s,a,c){pn(c),s=jl(s,"onChange"),0<s.length&&(a=new lo("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var ma=null,ga=null;function F0(r){Np(r,0)}function bl(r){var s=Eo(r);if(Ei(s))return r}function U0(r,s){if(r==="change")return s}var mp=!1;if(d){var Kc;if(d){var Gc="oninput"in document;if(!Gc){var gp=document.createElement("div");gp.setAttribute("oninput","return;"),Gc=typeof gp.oninput=="function"}Kc=Gc}else Kc=!1;mp=Kc&&(!document.documentMode||9<document.documentMode)}function yp(){ma&&(ma.detachEvent("onpropertychange",vp),ga=ma=null)}function vp(r){if(r.propertyName==="value"&&bl(ga)){var s=[];pp(s,ga,r,Pi(r)),K(F0,s)}}function z0(r,s,a){r==="focusin"?(yp(),ma=s,ga=a,ma.attachEvent("onpropertychange",vp)):r==="focusout"&&yp()}function j0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return bl(ga)}function B0(r,s){if(r==="click")return bl(s)}function H0(r,s){if(r==="input"||r==="change")return bl(s)}function q0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var dr=typeof Object.is=="function"?Object.is:q0;function ya(r,s){if(dr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!p.call(s,f)||!dr(r[f],s[f]))return!1}return!0}function _p(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function wp(r,s){var a=_p(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_p(a)}}function Ep(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Ep(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Tp(){for(var r=window,s=nn();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=nn(r.document)}return s}function Qc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function $0(r){var s=Tp(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Ep(a.ownerDocument.documentElement,a)){if(c!==null&&Qc(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!r.extend&&g>c&&(f=c,c=g,g=f),f=wp(a,g);var _=wp(a,c);f&&_&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var W0=d&&"documentMode"in document&&11>=document.documentMode,yo=null,Yc=null,va=null,Xc=!1;function Ip(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xc||yo==null||yo!==nn(c)||(c=yo,"selectionStart"in c&&Qc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),va&&ya(va,c)||(va=c,c=jl(Yc,"onSelect"),0<c.length&&(s=new lo("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=yo)))}function Fl(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var vo={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},Jc={},Ap={};d&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function Ul(r){if(Jc[r])return Jc[r];if(!vo[r])return r;var s=vo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ap)return Jc[r]=s[a];return r}var Sp=Ul("animationend"),Rp=Ul("animationiteration"),Cp=Ul("animationstart"),Pp=Ul("transitionend"),kp=new Map,xp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(r,s){kp.set(r,s),l(s,[r])}for(var Zc=0;Zc<xp.length;Zc++){var eh=xp[Zc],K0=eh.toLowerCase(),G0=eh[0].toUpperCase()+eh.slice(1);bi(K0,"on"+G0)}bi(Sp,"onAnimationEnd"),bi(Rp,"onAnimationIteration"),bi(Cp,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(Pp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q0=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function Dp(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,St(c,s,void 0,r),r.currentTarget=null}function Np(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],f=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var _=c.length-1;0<=_;_--){var C=c[_],D=C.instance,W=C.currentTarget;if(C=C.listener,D!==g&&f.isPropagationStopped())break e;Dp(f,C,W),g=D}else for(_=0;_<c.length;_++){if(C=c[_],D=C.instance,W=C.currentTarget,C=C.listener,D!==g&&f.isPropagationStopped())break e;Dp(f,C,W),g=D}}}if(ae)throw r=ke,ae=!1,ke=null,r}function gt(r,s){var a=s[lh];a===void 0&&(a=s[lh]=new Set);var c=r+"__bubble";a.has(c)||(Lp(s,r,2,!1),a.add(c))}function th(r,s,a){var c=0;s&&(c|=4),Lp(a,r,c,s)}var zl="_reactListening"+Math.random().toString(36).slice(2);function wa(r){if(!r[zl]){r[zl]=!0,i.forEach(function(a){a!=="selectionchange"&&(Q0.has(a)||th(a,!1,r),th(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[zl]||(s[zl]=!0,th("selectionchange",!1,s))}}function Lp(r,s,a,c){switch(ca(s)){case 1:var f=_t;break;case 4:f=$c;break;default:f=ua}a=f.bind(null,s,a,r),f=void 0,!de||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function nh(r,s,a,c,f){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var C=c.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;_=_.return}for(;C!==null;){if(_=Rs(C),_===null)return;if(D=_.tag,D===5||D===6){c=g=_;continue e}C=C.parentNode}}c=c.return}K(function(){var W=g,re=Pi(a),ie=[];e:{var ne=kp.get(r);if(ne!==void 0){var pe=lo,we=r;switch(r){case"keypress":if(ao(a)===0)break e;case"keydown":case"keyup":pe=m;break;case"focusin":we="focus",pe=fo;break;case"focusout":we="blur",pe=fo;break;case"beforeblur":case"afterblur":pe=fo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=xl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=G;break;case Sp:case Rp:case Cp:pe=ei;break;case Pp:pe=ut;break;case"scroll":pe=Wc;break;case"wheel":pe=Xe;break;case"copy":case"cut":case"paste":pe=Ll;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=E}var Ie=(s&4)!==0,Pt=!Ie&&r==="scroll",H=Ie?ne!==null?ne+"Capture":null:ne;Ie=[];for(var V=W,q;V!==null;){q=V;var se=q.stateNode;if(q.tag===5&&se!==null&&(q=se,H!==null&&(se=J(V,H),se!=null&&Ie.push(Ea(V,se,q)))),Pt)break;V=V.return}0<Ie.length&&(ne=new pe(ne,we,null,a,re),ie.push({event:ne,listeners:Ie}))}}if(!(s&7)){e:{if(ne=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",ne&&a!==tr&&(we=a.relatedTarget||a.fromElement)&&(Rs(we)||we[ti]))break e;if((pe||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,pe?(we=a.relatedTarget||a.toElement,pe=W,we=we?Rs(we):null,we!==null&&(Pt=qe(we),we!==Pt||we.tag!==5&&we.tag!==6)&&(we=null)):(pe=null,we=W),pe!==we)){if(Ie=co,se="onMouseLeave",H="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(Ie=E,se="onPointerLeave",H="onPointerEnter",V="pointer"),Pt=pe==null?ne:Eo(pe),q=we==null?ne:Eo(we),ne=new Ie(se,V+"leave",pe,a,re),ne.target=Pt,ne.relatedTarget=q,se=null,Rs(re)===W&&(Ie=new Ie(H,V+"enter",we,a,re),Ie.target=q,Ie.relatedTarget=Pt,se=Ie),Pt=se,pe&&we)t:{for(Ie=pe,H=we,V=0,q=Ie;q;q=_o(q))V++;for(q=0,se=H;se;se=_o(se))q++;for(;0<V-q;)Ie=_o(Ie),V--;for(;0<q-V;)H=_o(H),q--;for(;V--;){if(Ie===H||H!==null&&Ie===H.alternate)break t;Ie=_o(Ie),H=_o(H)}Ie=null}else Ie=null;pe!==null&&Op(ie,ne,pe,Ie,!1),we!==null&&Pt!==null&&Op(ie,Pt,we,Ie,!0)}}e:{if(ne=W?Eo(W):window,pe=ne.nodeName&&ne.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ne.type==="file")var Ae=U0;else if(fp(ne))if(mp)Ae=H0;else{Ae=j0;var Ce=z0}else(pe=ne.nodeName)&&pe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Ae=B0);if(Ae&&(Ae=Ae(r,W))){pp(ie,Ae,a,re);break e}Ce&&Ce(r,ne,W),r==="focusout"&&(Ce=ne._wrapperState)&&Ce.controlled&&ne.type==="number"&&Ai(ne,"number",ne.value)}switch(Ce=W?Eo(W):window,r){case"focusin":(fp(Ce)||Ce.contentEditable==="true")&&(yo=Ce,Yc=W,va=null);break;case"focusout":va=Yc=yo=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,Ip(ie,a,re);break;case"selectionchange":if(W0)break;case"keydown":case"keyup":Ip(ie,a,re)}var Pe;if(xt)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else go?hp(r,a)&&(xe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Ss&&a.locale!=="ko"&&(go||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&go&&(Pe=ha()):(On=re,oo="value"in On?On.value:On.textContent,go=!0)),Ce=jl(W,xe),0<Ce.length&&(xe=new pa(xe,r,null,a,re),ie.push({event:xe,listeners:Ce}),Pe?xe.data=Pe:(Pe=dp(a),Pe!==null&&(xe.data=Pe)))),(Pe=Vn?V0(r,a):M0(r,a))&&(W=jl(W,"onBeforeInput"),0<W.length&&(re=new pa("onBeforeInput","beforeinput",null,a,re),ie.push({event:re,listeners:W}),re.data=Pe))}Np(ie,s)})}function Ea(r,s,a){return{instance:r,listener:s,currentTarget:a}}function jl(r,s){for(var a=s+"Capture",c=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=J(r,a),g!=null&&c.unshift(Ea(r,g,f)),g=J(r,s),g!=null&&c.push(Ea(r,g,f))),r=r.return}return c}function _o(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Op(r,s,a,c,f){for(var g=s._reactName,_=[];a!==null&&a!==c;){var C=a,D=C.alternate,W=C.stateNode;if(D!==null&&D===c)break;C.tag===5&&W!==null&&(C=W,f?(D=J(a,g),D!=null&&_.unshift(Ea(a,D,C))):f||(D=J(a,g),D!=null&&_.push(Ea(a,D,C)))),a=a.return}_.length!==0&&r.push({event:s,listeners:_})}var Y0=/\r\n?/g,X0=/\u0000|\uFFFD/g;function Vp(r){return(typeof r=="string"?r:""+r).replace(Y0,`
`).replace(X0,"")}function Bl(r,s,a){if(s=Vp(s),Vp(r)!==s&&a)throw Error(t(425))}function Hl(){}var rh=null,ih=null;function sh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var oh=typeof setTimeout=="function"?setTimeout:void 0,J0=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,Z0=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(r){return Mp.resolve(null).then(r).catch(ew)}:oh;function ew(r){setTimeout(function(){throw r})}function ah(r,s){var a=s,c=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){r.removeChild(f),cr(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);cr(s)}function Fi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function bp(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var wo=Math.random().toString(36).slice(2),Lr="__reactFiber$"+wo,Ta="__reactProps$"+wo,ti="__reactContainer$"+wo,lh="__reactEvents$"+wo,tw="__reactListeners$"+wo,nw="__reactHandles$"+wo;function Rs(r){var s=r[Lr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[ti]||a[Lr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=bp(r);r!==null;){if(a=r[Lr])return a;r=bp(r)}return s}r=a,a=r.parentNode}return null}function Ia(r){return r=r[Lr]||r[ti],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Eo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function ql(r){return r[Ta]||null}var uh=[],To=-1;function Ui(r){return{current:r}}function yt(r){0>To||(r.current=uh[To],uh[To]=null,To--)}function dt(r,s){To++,uh[To]=r.current,r.current=s}var zi={},on=Ui(zi),An=Ui(!1),Cs=zi;function Io(r,s){var a=r.type.contextTypes;if(!a)return zi;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Sn(r){return r=r.childContextTypes,r!=null}function $l(){yt(An),yt(on)}function Fp(r,s,a){if(on.current!==zi)throw Error(t(168));dt(on,s),dt(An,a)}function Up(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(t(108,Ze(r)||"Unknown",f));return he({},a,c)}function Wl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||zi,Cs=on.current,dt(on,r),dt(An,An.current),!0}function zp(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=Up(r,s,Cs),c.__reactInternalMemoizedMergedChildContext=r,yt(An),yt(on),dt(on,r)):yt(An),dt(An,a)}var ni=null,Kl=!1,ch=!1;function jp(r){ni===null?ni=[r]:ni.push(r)}function rw(r){Kl=!0,jp(r)}function ji(){if(!ch&&ni!==null){ch=!0;var r=0,s=$e;try{var a=ni;for($e=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}ni=null,Kl=!1}catch(f){throw ni!==null&&(ni=ni.slice(r+1)),Wt(Ye,ji),f}finally{$e=s,ch=!1}}return null}var Ao=[],So=0,Gl=null,Ql=0,Hn=[],qn=0,Ps=null,ri=1,ii="";function ks(r,s){Ao[So++]=Ql,Ao[So++]=Gl,Gl=r,Ql=s}function Bp(r,s,a){Hn[qn++]=ri,Hn[qn++]=ii,Hn[qn++]=Ps,Ps=r;var c=ri;r=ii;var f=32-mn(c)-1;c&=~(1<<f),a+=1;var g=32-mn(s)+f;if(30<g){var _=f-f%5;g=(c&(1<<_)-1).toString(32),c>>=_,f-=_,ri=1<<32-mn(s)+f|a<<f|c,ii=g+r}else ri=1<<g|a<<f|c,ii=r}function hh(r){r.return!==null&&(ks(r,1),Bp(r,1,0))}function dh(r){for(;r===Gl;)Gl=Ao[--So],Ao[So]=null,Ql=Ao[--So],Ao[So]=null;for(;r===Ps;)Ps=Hn[--qn],Hn[qn]=null,ii=Hn[--qn],Hn[qn]=null,ri=Hn[--qn],Hn[qn]=null}var Mn=null,bn=null,wt=!1,fr=null;function Hp(r,s){var a=Gn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function qp(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Mn=r,bn=Fi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Mn=r,bn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ps!==null?{id:ri,overflow:ii}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Gn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Mn=r,bn=null,!0):!1;default:return!1}}function fh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ph(r){if(wt){var s=bn;if(s){var a=s;if(!qp(r,s)){if(fh(r))throw Error(t(418));s=Fi(a.nextSibling);var c=Mn;s&&qp(r,s)?Hp(c,a):(r.flags=r.flags&-4097|2,wt=!1,Mn=r)}}else{if(fh(r))throw Error(t(418));r.flags=r.flags&-4097|2,wt=!1,Mn=r}}}function $p(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Mn=r}function Yl(r){if(r!==Mn)return!1;if(!wt)return $p(r),wt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!sh(r.type,r.memoizedProps)),s&&(s=bn)){if(fh(r))throw Wp(),Error(t(418));for(;s;)Hp(r,s),s=Fi(s.nextSibling)}if($p(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){bn=Fi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}bn=null}}else bn=Mn?Fi(r.stateNode.nextSibling):null;return!0}function Wp(){for(var r=bn;r;)r=Fi(r.nextSibling)}function Ro(){bn=Mn=null,wt=!1}function mh(r){fr===null?fr=[r]:fr.push(r)}var iw=le.ReactCurrentBatchConfig;function Aa(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var f=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(_){var C=f.refs;_===null?delete C[g]:C[g]=_},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Xl(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Kp(r){var s=r._init;return s(r._payload)}function Gp(r){function s(H,V){if(r){var q=H.deletions;q===null?(H.deletions=[V],H.flags|=16):q.push(V)}}function a(H,V){if(!r)return null;for(;V!==null;)s(H,V),V=V.sibling;return null}function c(H,V){for(H=new Map;V!==null;)V.key!==null?H.set(V.key,V):H.set(V.index,V),V=V.sibling;return H}function f(H,V){return H=Qi(H,V),H.index=0,H.sibling=null,H}function g(H,V,q){return H.index=q,r?(q=H.alternate,q!==null?(q=q.index,q<V?(H.flags|=2,V):q):(H.flags|=2,V)):(H.flags|=1048576,V)}function _(H){return r&&H.alternate===null&&(H.flags|=2),H}function C(H,V,q,se){return V===null||V.tag!==6?(V=od(q,H.mode,se),V.return=H,V):(V=f(V,q),V.return=H,V)}function D(H,V,q,se){var Ae=q.type;return Ae===k?re(H,V,q.props.children,se,q.key):V!==null&&(V.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Ct&&Kp(Ae)===V.type)?(se=f(V,q.props),se.ref=Aa(H,V,q),se.return=H,se):(se=Eu(q.type,q.key,q.props,null,H.mode,se),se.ref=Aa(H,V,q),se.return=H,se)}function W(H,V,q,se){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=ad(q,H.mode,se),V.return=H,V):(V=f(V,q.children||[]),V.return=H,V)}function re(H,V,q,se,Ae){return V===null||V.tag!==7?(V=bs(q,H.mode,se,Ae),V.return=H,V):(V=f(V,q),V.return=H,V)}function ie(H,V,q){if(typeof V=="string"&&V!==""||typeof V=="number")return V=od(""+V,H.mode,q),V.return=H,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case U:return q=Eu(V.type,V.key,V.props,null,H.mode,q),q.ref=Aa(H,null,V),q.return=H,q;case ce:return V=ad(V,H.mode,q),V.return=H,V;case Ct:var se=V._init;return ie(H,se(V._payload),q)}if(Zn(V)||Ee(V))return V=bs(V,H.mode,q,null),V.return=H,V;Xl(H,V)}return null}function ne(H,V,q,se){var Ae=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Ae!==null?null:C(H,V,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case U:return q.key===Ae?D(H,V,q,se):null;case ce:return q.key===Ae?W(H,V,q,se):null;case Ct:return Ae=q._init,ne(H,V,Ae(q._payload),se)}if(Zn(q)||Ee(q))return Ae!==null?null:re(H,V,q,se,null);Xl(H,q)}return null}function pe(H,V,q,se,Ae){if(typeof se=="string"&&se!==""||typeof se=="number")return H=H.get(q)||null,C(V,H,""+se,Ae);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case U:return H=H.get(se.key===null?q:se.key)||null,D(V,H,se,Ae);case ce:return H=H.get(se.key===null?q:se.key)||null,W(V,H,se,Ae);case Ct:var Ce=se._init;return pe(H,V,q,Ce(se._payload),Ae)}if(Zn(se)||Ee(se))return H=H.get(q)||null,re(V,H,se,Ae,null);Xl(V,se)}return null}function we(H,V,q,se){for(var Ae=null,Ce=null,Pe=V,xe=V=0,Bt=null;Pe!==null&&xe<q.length;xe++){Pe.index>xe?(Bt=Pe,Pe=null):Bt=Pe.sibling;var rt=ne(H,Pe,q[xe],se);if(rt===null){Pe===null&&(Pe=Bt);break}r&&Pe&&rt.alternate===null&&s(H,Pe),V=g(rt,V,xe),Ce===null?Ae=rt:Ce.sibling=rt,Ce=rt,Pe=Bt}if(xe===q.length)return a(H,Pe),wt&&ks(H,xe),Ae;if(Pe===null){for(;xe<q.length;xe++)Pe=ie(H,q[xe],se),Pe!==null&&(V=g(Pe,V,xe),Ce===null?Ae=Pe:Ce.sibling=Pe,Ce=Pe);return wt&&ks(H,xe),Ae}for(Pe=c(H,Pe);xe<q.length;xe++)Bt=pe(Pe,H,xe,q[xe],se),Bt!==null&&(r&&Bt.alternate!==null&&Pe.delete(Bt.key===null?xe:Bt.key),V=g(Bt,V,xe),Ce===null?Ae=Bt:Ce.sibling=Bt,Ce=Bt);return r&&Pe.forEach(function(Yi){return s(H,Yi)}),wt&&ks(H,xe),Ae}function Ie(H,V,q,se){var Ae=Ee(q);if(typeof Ae!="function")throw Error(t(150));if(q=Ae.call(q),q==null)throw Error(t(151));for(var Ce=Ae=null,Pe=V,xe=V=0,Bt=null,rt=q.next();Pe!==null&&!rt.done;xe++,rt=q.next()){Pe.index>xe?(Bt=Pe,Pe=null):Bt=Pe.sibling;var Yi=ne(H,Pe,rt.value,se);if(Yi===null){Pe===null&&(Pe=Bt);break}r&&Pe&&Yi.alternate===null&&s(H,Pe),V=g(Yi,V,xe),Ce===null?Ae=Yi:Ce.sibling=Yi,Ce=Yi,Pe=Bt}if(rt.done)return a(H,Pe),wt&&ks(H,xe),Ae;if(Pe===null){for(;!rt.done;xe++,rt=q.next())rt=ie(H,rt.value,se),rt!==null&&(V=g(rt,V,xe),Ce===null?Ae=rt:Ce.sibling=rt,Ce=rt);return wt&&ks(H,xe),Ae}for(Pe=c(H,Pe);!rt.done;xe++,rt=q.next())rt=pe(Pe,H,xe,rt.value,se),rt!==null&&(r&&rt.alternate!==null&&Pe.delete(rt.key===null?xe:rt.key),V=g(rt,V,xe),Ce===null?Ae=rt:Ce.sibling=rt,Ce=rt);return r&&Pe.forEach(function(bw){return s(H,bw)}),wt&&ks(H,xe),Ae}function Pt(H,V,q,se){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case U:e:{for(var Ae=q.key,Ce=V;Ce!==null;){if(Ce.key===Ae){if(Ae=q.type,Ae===k){if(Ce.tag===7){a(H,Ce.sibling),V=f(Ce,q.props.children),V.return=H,H=V;break e}}else if(Ce.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Ct&&Kp(Ae)===Ce.type){a(H,Ce.sibling),V=f(Ce,q.props),V.ref=Aa(H,Ce,q),V.return=H,H=V;break e}a(H,Ce);break}else s(H,Ce);Ce=Ce.sibling}q.type===k?(V=bs(q.props.children,H.mode,se,q.key),V.return=H,H=V):(se=Eu(q.type,q.key,q.props,null,H.mode,se),se.ref=Aa(H,V,q),se.return=H,H=se)}return _(H);case ce:e:{for(Ce=q.key;V!==null;){if(V.key===Ce)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(H,V.sibling),V=f(V,q.children||[]),V.return=H,H=V;break e}else{a(H,V);break}else s(H,V);V=V.sibling}V=ad(q,H.mode,se),V.return=H,H=V}return _(H);case Ct:return Ce=q._init,Pt(H,V,Ce(q._payload),se)}if(Zn(q))return we(H,V,q,se);if(Ee(q))return Ie(H,V,q,se);Xl(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,V!==null&&V.tag===6?(a(H,V.sibling),V=f(V,q),V.return=H,H=V):(a(H,V),V=od(q,H.mode,se),V.return=H,H=V),_(H)):a(H,V)}return Pt}var Co=Gp(!0),Qp=Gp(!1),Jl=Ui(null),Zl=null,Po=null,gh=null;function yh(){gh=Po=Zl=null}function vh(r){var s=Jl.current;yt(Jl),r._currentValue=s}function _h(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function ko(r,s){Zl=r,gh=Po=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(Rn=!0),r.firstContext=null)}function $n(r){var s=r._currentValue;if(gh!==r)if(r={context:r,memoizedValue:s,next:null},Po===null){if(Zl===null)throw Error(t(308));Po=r,Zl.dependencies={lanes:0,firstContext:r}}else Po=Po.next=r;return s}var xs=null;function wh(r){xs===null?xs=[r]:xs.push(r)}function Yp(r,s,a,c){var f=s.interleaved;return f===null?(a.next=a,wh(s)):(a.next=f.next,f.next=a),s.interleaved=a,si(r,c)}function si(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Bi=!1;function Eh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function oi(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Hi(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,nt&2){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,si(r,a)}return f=c.interleaved,f===null?(s.next=s,wh(c)):(s.next=f.next,f.next=s),c.interleaved=s,si(r,a)}function eu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Ni(r,a)}}function Jp(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=_:g=g.next=_,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function tu(r,s,a,c){var f=r.updateQueue;Bi=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var D=C,W=D.next;D.next=null,_===null?g=W:_.next=W,_=D;var re=r.alternate;re!==null&&(re=re.updateQueue,C=re.lastBaseUpdate,C!==_&&(C===null?re.firstBaseUpdate=W:C.next=W,re.lastBaseUpdate=D))}if(g!==null){var ie=f.baseState;_=0,re=W=D=null,C=g;do{var ne=C.lane,pe=C.eventTime;if((c&ne)===ne){re!==null&&(re=re.next={eventTime:pe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var we=r,Ie=C;switch(ne=s,pe=a,Ie.tag){case 1:if(we=Ie.payload,typeof we=="function"){ie=we.call(pe,ie,ne);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ie.payload,ne=typeof we=="function"?we.call(pe,ie,ne):we,ne==null)break e;ie=he({},ie,ne);break e;case 2:Bi=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,ne=f.effects,ne===null?f.effects=[C]:ne.push(C))}else pe={eventTime:pe,lane:ne,tag:C.tag,payload:C.payload,callback:C.callback,next:null},re===null?(W=re=pe,D=ie):re=re.next=pe,_|=ne;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;ne=C,C=ne.next,ne.next=null,f.lastBaseUpdate=ne,f.shared.pending=null}}while(!0);if(re===null&&(D=ie),f.baseState=D,f.firstBaseUpdate=W,f.lastBaseUpdate=re,s=f.shared.interleaved,s!==null){f=s;do _|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Ls|=_,r.lanes=_,r.memoizedState=ie}}function Zp(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var Sa={},Or=Ui(Sa),Ra=Ui(Sa),Ca=Ui(Sa);function Ds(r){if(r===Sa)throw Error(t(174));return r}function Th(r,s){switch(dt(Ca,s),dt(Ra,r),dt(Or,Sa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:At(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=At(s,r)}yt(Or),dt(Or,s)}function xo(){yt(Or),yt(Ra),yt(Ca)}function em(r){Ds(Ca.current);var s=Ds(Or.current),a=At(s,r.type);s!==a&&(dt(Ra,r),dt(Or,a))}function Ih(r){Ra.current===r&&(yt(Or),yt(Ra))}var Et=Ui(0);function nu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ah=[];function Sh(){for(var r=0;r<Ah.length;r++)Ah[r]._workInProgressVersionPrimary=null;Ah.length=0}var ru=le.ReactCurrentDispatcher,Rh=le.ReactCurrentBatchConfig,Ns=0,Tt=null,Vt=null,zt=null,iu=!1,Pa=!1,ka=0,sw=0;function an(){throw Error(t(321))}function Ch(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!dr(r[a],s[a]))return!1;return!0}function Ph(r,s,a,c,f,g){if(Ns=g,Tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ru.current=r===null||r.memoizedState===null?uw:cw,r=a(c,f),Pa){g=0;do{if(Pa=!1,ka=0,25<=g)throw Error(t(301));g+=1,zt=Vt=null,s.updateQueue=null,ru.current=hw,r=a(c,f)}while(Pa)}if(ru.current=au,s=Vt!==null&&Vt.next!==null,Ns=0,zt=Vt=Tt=null,iu=!1,s)throw Error(t(300));return r}function kh(){var r=ka!==0;return ka=0,r}function Vr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Tt.memoizedState=zt=r:zt=zt.next=r,zt}function Wn(){if(Vt===null){var r=Tt.alternate;r=r!==null?r.memoizedState:null}else r=Vt.next;var s=zt===null?Tt.memoizedState:zt.next;if(s!==null)zt=s,Vt=r;else{if(r===null)throw Error(t(310));Vt=r,r={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},zt===null?Tt.memoizedState=zt=r:zt=zt.next=r}return zt}function xa(r,s){return typeof s=="function"?s(r):s}function xh(r){var s=Wn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=Vt,f=c.baseQueue,g=a.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}c.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,c=c.baseState;var C=_=null,D=null,W=g;do{var re=W.lane;if((Ns&re)===re)D!==null&&(D=D.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),c=W.hasEagerState?W.eagerState:r(c,W.action);else{var ie={lane:re,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};D===null?(C=D=ie,_=c):D=D.next=ie,Tt.lanes|=re,Ls|=re}W=W.next}while(W!==null&&W!==g);D===null?_=c:D.next=C,dr(c,s.memoizedState)||(Rn=!0),s.memoizedState=c,s.baseState=_,s.baseQueue=D,a.lastRenderedState=c}if(r=a.interleaved,r!==null){f=r;do g=f.lane,Tt.lanes|=g,Ls|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Dh(r){var s=Wn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do g=r(g,_.action),_=_.next;while(_!==f);dr(g,s.memoizedState)||(Rn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function tm(){}function nm(r,s){var a=Tt,c=Wn(),f=s(),g=!dr(c.memoizedState,f);if(g&&(c.memoizedState=f,Rn=!0),c=c.queue,Nh(sm.bind(null,a,c,r),[r]),c.getSnapshot!==s||g||zt!==null&&zt.memoizedState.tag&1){if(a.flags|=2048,Da(9,im.bind(null,a,c,f,s),void 0,null),jt===null)throw Error(t(349));Ns&30||rm(a,s,f)}return f}function rm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Tt.updateQueue,s===null?(s={lastEffect:null,stores:null},Tt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function im(r,s,a,c){s.value=a,s.getSnapshot=c,om(s)&&am(r)}function sm(r,s,a){return a(function(){om(s)&&am(r)})}function om(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!dr(r,a)}catch{return!0}}function am(r){var s=si(r,1);s!==null&&yr(s,r,1,-1)}function lm(r){var s=Vr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:r},s.queue=r,r=r.dispatch=lw.bind(null,Tt,r),[s.memoizedState,r]}function Da(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=Tt.updateQueue,s===null?(s={lastEffect:null,stores:null},Tt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function um(){return Wn().memoizedState}function su(r,s,a,c){var f=Vr();Tt.flags|=r,f.memoizedState=Da(1|s,a,void 0,c===void 0?null:c)}function ou(r,s,a,c){var f=Wn();c=c===void 0?null:c;var g=void 0;if(Vt!==null){var _=Vt.memoizedState;if(g=_.destroy,c!==null&&Ch(c,_.deps)){f.memoizedState=Da(s,a,g,c);return}}Tt.flags|=r,f.memoizedState=Da(1|s,a,g,c)}function cm(r,s){return su(8390656,8,r,s)}function Nh(r,s){return ou(2048,8,r,s)}function hm(r,s){return ou(4,2,r,s)}function dm(r,s){return ou(4,4,r,s)}function fm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function pm(r,s,a){return a=a!=null?a.concat([r]):null,ou(4,4,fm.bind(null,s,r),a)}function Lh(){}function mm(r,s){var a=Wn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Ch(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function gm(r,s){var a=Wn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Ch(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function ym(r,s,a){return Ns&21?(dr(a,s)||(a=Es(),Tt.lanes|=a,Ls|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,Rn=!0),r.memoizedState=a)}function ow(r,s){var a=$e;$e=a!==0&&4>a?a:4,r(!0);var c=Rh.transition;Rh.transition={};try{r(!1),s()}finally{$e=a,Rh.transition=c}}function vm(){return Wn().memoizedState}function aw(r,s,a){var c=Ki(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},_m(r))wm(s,a);else if(a=Yp(r,s,a,c),a!==null){var f=vn();yr(a,r,c,f),Em(a,s,c)}}function lw(r,s,a){var c=Ki(r),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(_m(r))wm(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,C=g(_,a);if(f.hasEagerState=!0,f.eagerState=C,dr(C,_)){var D=s.interleaved;D===null?(f.next=f,wh(s)):(f.next=D.next,D.next=f),s.interleaved=f;return}}catch{}finally{}a=Yp(r,s,f,c),a!==null&&(f=vn(),yr(a,r,c,f),Em(a,s,c))}}function _m(r){var s=r.alternate;return r===Tt||s!==null&&s===Tt}function wm(r,s){Pa=iu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Em(r,s,a){if(a&4194240){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Ni(r,a)}}var au={readContext:$n,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},uw={readContext:$n,useCallback:function(r,s){return Vr().memoizedState=[r,s===void 0?null:s],r},useContext:$n,useEffect:cm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,su(4194308,4,fm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return su(4194308,4,r,s)},useInsertionEffect:function(r,s){return su(4,2,r,s)},useMemo:function(r,s){var a=Vr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=Vr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=aw.bind(null,Tt,r),[c.memoizedState,r]},useRef:function(r){var s=Vr();return r={current:r},s.memoizedState=r},useState:lm,useDebugValue:Lh,useDeferredValue:function(r){return Vr().memoizedState=r},useTransition:function(){var r=lm(!1),s=r[0];return r=ow.bind(null,r[1]),Vr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=Tt,f=Vr();if(wt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),jt===null)throw Error(t(349));Ns&30||rm(c,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,cm(sm.bind(null,c,g,r),[r]),c.flags|=2048,Da(9,im.bind(null,c,g,a,s),void 0,null),a},useId:function(){var r=Vr(),s=jt.identifierPrefix;if(wt){var a=ii,c=ri;a=(c&~(1<<32-mn(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=ka++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=sw++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},cw={readContext:$n,useCallback:mm,useContext:$n,useEffect:Nh,useImperativeHandle:pm,useInsertionEffect:hm,useLayoutEffect:dm,useMemo:gm,useReducer:xh,useRef:um,useState:function(){return xh(xa)},useDebugValue:Lh,useDeferredValue:function(r){var s=Wn();return ym(s,Vt.memoizedState,r)},useTransition:function(){var r=xh(xa)[0],s=Wn().memoizedState;return[r,s]},useMutableSource:tm,useSyncExternalStore:nm,useId:vm,unstable_isNewReconciler:!1},hw={readContext:$n,useCallback:mm,useContext:$n,useEffect:Nh,useImperativeHandle:pm,useInsertionEffect:hm,useLayoutEffect:dm,useMemo:gm,useReducer:Dh,useRef:um,useState:function(){return Dh(xa)},useDebugValue:Lh,useDeferredValue:function(r){var s=Wn();return Vt===null?s.memoizedState=r:ym(s,Vt.memoizedState,r)},useTransition:function(){var r=Dh(xa)[0],s=Wn().memoizedState;return[r,s]},useMutableSource:tm,useSyncExternalStore:nm,useId:vm,unstable_isNewReconciler:!1};function pr(r,s){if(r&&r.defaultProps){s=he({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Oh(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:he({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var lu={isMounted:function(r){return(r=r._reactInternals)?qe(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=vn(),f=Ki(r),g=oi(c,f);g.payload=s,a!=null&&(g.callback=a),s=Hi(r,g,f),s!==null&&(yr(s,r,f,c),eu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=vn(),f=Ki(r),g=oi(c,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Hi(r,g,f),s!==null&&(yr(s,r,f,c),eu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=vn(),c=Ki(r),f=oi(a,c);f.tag=2,s!=null&&(f.callback=s),s=Hi(r,f,c),s!==null&&(yr(s,r,c,a),eu(s,r,c))}};function Tm(r,s,a,c,f,g,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,_):s.prototype&&s.prototype.isPureReactComponent?!ya(a,c)||!ya(f,g):!0}function Im(r,s,a){var c=!1,f=zi,g=s.contextType;return typeof g=="object"&&g!==null?g=$n(g):(f=Sn(s)?Cs:on.current,c=s.contextTypes,g=(c=c!=null)?Io(r,f):zi),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=lu,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Am(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&lu.enqueueReplaceState(s,s.state,null)}function Vh(r,s,a,c){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Eh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=$n(g):(g=Sn(s)?Cs:on.current,f.context=Io(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Oh(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&lu.enqueueReplaceState(f,f.state,null),tu(r,a,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Do(r,s){try{var a="",c=s;do a+=Le(c),c=c.return;while(c);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Mh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function bh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var dw=typeof WeakMap=="function"?WeakMap:Map;function Sm(r,s,a){a=oi(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){mu||(mu=!0,Jh=c),bh(r,s)},a}function Rm(r,s,a){a=oi(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;a.payload=function(){return c(f)},a.callback=function(){bh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){bh(r,s),typeof c!="function"&&($i===null?$i=new Set([this]):$i.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),a}function Cm(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new dw;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(f.add(a),r=Rw.bind(null,r,s,a),s.then(r,r))}function Pm(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function km(r,s,a,c,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=oi(-1,1),s.tag=2,Hi(a,s,1))),a.lanes|=1),r)}var fw=le.ReactCurrentOwner,Rn=!1;function yn(r,s,a,c){s.child=r===null?Qp(s,null,a,c):Co(s,r.child,a,c)}function xm(r,s,a,c,f){a=a.render;var g=s.ref;return ko(s,f),c=Ph(r,s,a,c,g,f),a=kh(),r!==null&&!Rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ai(r,s,f)):(wt&&a&&hh(s),s.flags|=1,yn(r,s,c,f),s.child)}function Dm(r,s,a,c,f){if(r===null){var g=a.type;return typeof g=="function"&&!sd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Nm(r,s,g,c,f)):(r=Eu(a.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var _=g.memoizedProps;if(a=a.compare,a=a!==null?a:ya,a(_,c)&&r.ref===s.ref)return ai(r,s,f)}return s.flags|=1,r=Qi(g,c),r.ref=s.ref,r.return=s,s.child=r}function Nm(r,s,a,c,f){if(r!==null){var g=r.memoizedProps;if(ya(g,c)&&r.ref===s.ref)if(Rn=!1,s.pendingProps=c=g,(r.lanes&f)!==0)r.flags&131072&&(Rn=!0);else return s.lanes=r.lanes,ai(r,s,f)}return Fh(r,s,a,c,f)}function Lm(r,s,a){var c=s.pendingProps,f=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Lo,Fn),Fn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,dt(Lo,Fn),Fn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,dt(Lo,Fn),Fn|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,dt(Lo,Fn),Fn|=c;return yn(r,s,f,a),s.child}function Om(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Fh(r,s,a,c,f){var g=Sn(a)?Cs:on.current;return g=Io(s,g),ko(s,f),a=Ph(r,s,a,c,g,f),c=kh(),r!==null&&!Rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ai(r,s,f)):(wt&&c&&hh(s),s.flags|=1,yn(r,s,a,f),s.child)}function Vm(r,s,a,c,f){if(Sn(a)){var g=!0;Wl(s)}else g=!1;if(ko(s,f),s.stateNode===null)cu(r,s),Im(s,a,c),Vh(s,a,c,f),c=!0;else if(r===null){var _=s.stateNode,C=s.memoizedProps;_.props=C;var D=_.context,W=a.contextType;typeof W=="object"&&W!==null?W=$n(W):(W=Sn(a)?Cs:on.current,W=Io(s,W));var re=a.getDerivedStateFromProps,ie=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function";ie||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==c||D!==W)&&Am(s,_,c,W),Bi=!1;var ne=s.memoizedState;_.state=ne,tu(s,c,_,f),D=s.memoizedState,C!==c||ne!==D||An.current||Bi?(typeof re=="function"&&(Oh(s,a,re,c),D=s.memoizedState),(C=Bi||Tm(s,a,C,c,ne,D,W))?(ie||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=D),_.props=c,_.state=D,_.context=W,c=C):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,Xp(r,s),C=s.memoizedProps,W=s.type===s.elementType?C:pr(s.type,C),_.props=W,ie=s.pendingProps,ne=_.context,D=a.contextType,typeof D=="object"&&D!==null?D=$n(D):(D=Sn(a)?Cs:on.current,D=Io(s,D));var pe=a.getDerivedStateFromProps;(re=typeof pe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==ie||ne!==D)&&Am(s,_,c,D),Bi=!1,ne=s.memoizedState,_.state=ne,tu(s,c,_,f);var we=s.memoizedState;C!==ie||ne!==we||An.current||Bi?(typeof pe=="function"&&(Oh(s,a,pe,c),we=s.memoizedState),(W=Bi||Tm(s,a,W,c,ne,we,D)||!1)?(re||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,we,D),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,we,D)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=we),_.props=c,_.state=we,_.context=D,c=W):(typeof _.componentDidUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),c=!1)}return Uh(r,s,a,c,g,f)}function Uh(r,s,a,c,f,g){Om(r,s);var _=(s.flags&128)!==0;if(!c&&!_)return f&&zp(s,a,!1),ai(r,s,g);c=s.stateNode,fw.current=s;var C=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&_?(s.child=Co(s,r.child,null,g),s.child=Co(s,null,C,g)):yn(r,s,C,g),s.memoizedState=c.state,f&&zp(s,a,!0),s.child}function Mm(r){var s=r.stateNode;s.pendingContext?Fp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Fp(r,s.context,!1),Th(r,s.containerInfo)}function bm(r,s,a,c,f){return Ro(),mh(f),s.flags|=256,yn(r,s,a,c),s.child}var zh={dehydrated:null,treeContext:null,retryLane:0};function jh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Fm(r,s,a){var c=s.pendingProps,f=Et.current,g=!1,_=(s.flags&128)!==0,C;if((C=_)||(C=r!==null&&r.memoizedState===null?!1:(f&2)!==0),C?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),dt(Et,f&1),r===null)return ph(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(_=c.children,r=c.fallback,g?(c=s.mode,g=s.child,_={mode:"hidden",children:_},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Tu(_,c,0,null),r=bs(r,c,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=jh(a),s.memoizedState=zh,r):Bh(s,_));if(f=r.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return pw(r,s,_,c,C,f,a);if(g){g=c.fallback,_=s.mode,f=r.child,C=f.sibling;var D={mode:"hidden",children:c.children};return!(_&1)&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=D,s.deletions=null):(c=Qi(f,D),c.subtreeFlags=f.subtreeFlags&14680064),C!==null?g=Qi(C,g):(g=bs(g,_,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,_=r.child.memoizedState,_=_===null?jh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=r.childLanes&~a,s.memoizedState=zh,c}return g=r.child,r=g.sibling,c=Qi(g,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function Bh(r,s){return s=Tu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function uu(r,s,a,c){return c!==null&&mh(c),Co(s,r.child,null,a),r=Bh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function pw(r,s,a,c,f,g,_){if(a)return s.flags&256?(s.flags&=-257,c=Mh(Error(t(422))),uu(r,s,_,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,f=s.mode,c=Tu({mode:"visible",children:c.children},f,0,null),g=bs(g,f,_,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,s.mode&1&&Co(s,r.child,null,_),s.child.memoizedState=jh(_),s.memoizedState=zh,g);if(!(s.mode&1))return uu(r,s,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var C=c.dgst;return c=C,g=Error(t(419)),c=Mh(g,c,void 0),uu(r,s,_,c)}if(C=(_&r.childLanes)!==0,Rn||C){if(c=jt,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|_)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,si(r,f),yr(c,r,f,-1))}return id(),c=Mh(Error(t(421))),uu(r,s,_,c)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=Cw.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,bn=Fi(f.nextSibling),Mn=s,wt=!0,fr=null,r!==null&&(Hn[qn++]=ri,Hn[qn++]=ii,Hn[qn++]=Ps,ri=r.id,ii=r.overflow,Ps=s),s=Bh(s,c.children),s.flags|=4096,s)}function Um(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),_h(r.return,s,a)}function Hh(r,s,a,c,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=f)}function zm(r,s,a){var c=s.pendingProps,f=c.revealOrder,g=c.tail;if(yn(r,s,c.children,a),c=Et.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Um(r,a,s);else if(r.tag===19)Um(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(dt(Et,c),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&nu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Hh(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&nu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Hh(s,!0,a,null,g);break;case"together":Hh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function cu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ai(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Ls|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Qi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Qi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function mw(r,s,a){switch(s.tag){case 3:Mm(s),Ro();break;case 5:em(s);break;case 1:Sn(s.type)&&Wl(s);break;case 4:Th(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;dt(Jl,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(dt(Et,Et.current&1),s.flags|=128,null):a&s.child.childLanes?Fm(r,s,a):(dt(Et,Et.current&1),r=ai(r,s,a),r!==null?r.sibling:null);dt(Et,Et.current&1);break;case 19:if(c=(a&s.childLanes)!==0,r.flags&128){if(c)return zm(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),dt(Et,Et.current),c)break;return null;case 22:case 23:return s.lanes=0,Lm(r,s,a)}return ai(r,s,a)}var jm,qh,Bm,Hm;jm=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},qh=function(){},Bm=function(r,s,a,c){var f=r.memoizedProps;if(f!==c){r=s.stateNode,Ds(Or.current);var g=null;switch(a){case"input":f=qr(r,f),c=qr(r,c),g=[];break;case"select":f=he({},f,{value:void 0}),c=he({},c,{value:void 0}),g=[];break;case"textarea":f=er(r,f),c=er(r,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Hl)}Rr(a,c);var _;a=null;for(W in f)if(!c.hasOwnProperty(W)&&f.hasOwnProperty(W)&&f[W]!=null)if(W==="style"){var C=f[W];for(_ in C)C.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in c){var D=c[W];if(C=f!=null?f[W]:void 0,c.hasOwnProperty(W)&&D!==C&&(D!=null||C!=null))if(W==="style")if(C){for(_ in C)!C.hasOwnProperty(_)||D&&D.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in D)D.hasOwnProperty(_)&&C[_]!==D[_]&&(a||(a={}),a[_]=D[_])}else a||(g||(g=[]),g.push(W,a)),a=D;else W==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,C=C?C.__html:void 0,D!=null&&C!==D&&(g=g||[]).push(W,D)):W==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(W,""+D):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(D!=null&&W==="onScroll"&&gt("scroll",r),g||C===D||(g=[])):(g=g||[]).push(W,D))}a&&(g=g||[]).push("style",a);var W=g;(s.updateQueue=W)&&(s.flags|=4)}},Hm=function(r,s,a,c){a!==c&&(s.flags|=4)};function Na(r,s){if(!wt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ln(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function gw(r,s,a){var c=s.pendingProps;switch(dh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(s),null;case 1:return Sn(s.type)&&$l(),ln(s),null;case 3:return c=s.stateNode,xo(),yt(An),yt(on),Sh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Yl(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,fr!==null&&(td(fr),fr=null))),qh(r,s),ln(s),null;case 5:Ih(s);var f=Ds(Ca.current);if(a=s.type,r!==null&&s.stateNode!=null)Bm(r,s,a,c,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return ln(s),null}if(r=Ds(Or.current),Yl(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[Lr]=s,c[Ta]=g,r=(s.mode&1)!==0,a){case"dialog":gt("cancel",c),gt("close",c);break;case"iframe":case"object":case"embed":gt("load",c);break;case"video":case"audio":for(f=0;f<_a.length;f++)gt(_a[f],c);break;case"source":gt("error",c);break;case"img":case"image":case"link":gt("error",c),gt("load",c);break;case"details":gt("toggle",c);break;case"input":Ti(c,g),gt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},gt("invalid",c);break;case"textarea":$r(c,g),gt("invalid",c)}Rr(a,g),f=null;for(var _ in g)if(g.hasOwnProperty(_)){var C=g[_];_==="children"?typeof C=="string"?c.textContent!==C&&(g.suppressHydrationWarning!==!0&&Bl(c.textContent,C,r),f=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&Bl(c.textContent,C,r),f=["children",""+C]):o.hasOwnProperty(_)&&C!=null&&_==="onScroll"&&gt("scroll",c)}switch(a){case"input":zn(c),eo(c,g,!0);break;case"textarea":zn(c),_n(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Hl)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=lt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=_.createElement(a,{is:c.is}):(r=_.createElement(a),a==="select"&&(_=r,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):r=_.createElementNS(r,a),r[Lr]=s,r[Ta]=c,jm(r,s,!1,!1),s.stateNode=r;e:{switch(_=Ci(a,c),a){case"dialog":gt("cancel",r),gt("close",r),f=c;break;case"iframe":case"object":case"embed":gt("load",r),f=c;break;case"video":case"audio":for(f=0;f<_a.length;f++)gt(_a[f],r);f=c;break;case"source":gt("error",r),f=c;break;case"img":case"image":case"link":gt("error",r),gt("load",r),f=c;break;case"details":gt("toggle",r),f=c;break;case"input":Ti(r,c),f=qr(r,c),gt("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=he({},c,{value:void 0}),gt("invalid",r);break;case"textarea":$r(r,c),f=er(r,c),gt("invalid",r);break;default:f=c}Rr(a,f),C=f;for(g in C)if(C.hasOwnProperty(g)){var D=C[g];g==="style"?vs(r,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&ys(r,D)):g==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&$t(r,D):typeof D=="number"&&$t(r,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?D!=null&&g==="onScroll"&&gt("scroll",r):D!=null&&ee(r,g,D,_))}switch(a){case"input":zn(r),eo(r,c,!1);break;case"textarea":zn(r),_n(r);break;case"option":c.value!=null&&r.setAttribute("value",""+et(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?qt(r,!!c.multiple,g,!1):c.defaultValue!=null&&qt(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Hl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ln(s),null;case 6:if(r&&s.stateNode!=null)Hm(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=Ds(Ca.current),Ds(Or.current),Yl(s)){if(c=s.stateNode,a=s.memoizedProps,c[Lr]=s,(g=c.nodeValue!==a)&&(r=Mn,r!==null))switch(r.tag){case 3:Bl(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Bl(c.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Lr]=s,s.stateNode=c}return ln(s),null;case 13:if(yt(Et),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(wt&&bn!==null&&s.mode&1&&!(s.flags&128))Wp(),Ro(),s.flags|=98560,g=!1;else if(g=Yl(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Lr]=s}else Ro(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ln(s),g=!1}else fr!==null&&(td(fr),fr=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(r===null||Et.current&1?Mt===0&&(Mt=3):id())),s.updateQueue!==null&&(s.flags|=4),ln(s),null);case 4:return xo(),qh(r,s),r===null&&wa(s.stateNode.containerInfo),ln(s),null;case 10:return vh(s.type._context),ln(s),null;case 17:return Sn(s.type)&&$l(),ln(s),null;case 19:if(yt(Et),g=s.memoizedState,g===null)return ln(s),null;if(c=(s.flags&128)!==0,_=g.rendering,_===null)if(c)Na(g,!1);else{if(Mt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(_=nu(r),_!==null){for(s.flags|=128,Na(g,!1),c=_.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,r=c,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,r=_.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return dt(Et,Et.current&1|2),s.child}r=r.sibling}g.tail!==null&&ot()>Oo&&(s.flags|=128,c=!0,Na(g,!1),s.lanes=4194304)}else{if(!c)if(r=nu(_),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Na(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!wt)return ln(s),null}else 2*ot()-g.renderingStartTime>Oo&&a!==1073741824&&(s.flags|=128,c=!0,Na(g,!1),s.lanes=4194304);g.isBackwards?(_.sibling=s.child,s.child=_):(a=g.last,a!==null?a.sibling=_:s.child=_,g.last=_)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ot(),s.sibling=null,a=Et.current,dt(Et,c?a&1|2:a&1),s):(ln(s),null);case 22:case 23:return rd(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?Fn&1073741824&&(ln(s),s.subtreeFlags&6&&(s.flags|=8192)):ln(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function yw(r,s){switch(dh(s),s.tag){case 1:return Sn(s.type)&&$l(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return xo(),yt(An),yt(on),Sh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Ih(s),null;case 13:if(yt(Et),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Ro()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return yt(Et),null;case 4:return xo(),null;case 10:return vh(s.type._context),null;case 22:case 23:return rd(),null;case 24:return null;default:return null}}var hu=!1,un=!1,vw=typeof WeakSet=="function"?WeakSet:Set,ye=null;function No(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Rt(r,s,c)}else a.current=null}function $h(r,s,a){try{a()}catch(c){Rt(r,s,c)}}var qm=!1;function _w(r,s){if(rh=Vi,r=Tp(),Qc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var _=0,C=-1,D=-1,W=0,re=0,ie=r,ne=null;t:for(;;){for(var pe;ie!==a||f!==0&&ie.nodeType!==3||(C=_+f),ie!==g||c!==0&&ie.nodeType!==3||(D=_+c),ie.nodeType===3&&(_+=ie.nodeValue.length),(pe=ie.firstChild)!==null;)ne=ie,ie=pe;for(;;){if(ie===r)break t;if(ne===a&&++W===f&&(C=_),ne===g&&++re===c&&(D=_),(pe=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=pe}a=C===-1||D===-1?null:{start:C,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(ih={focusedElem:r,selectionRange:a},Vi=!1,ye=s;ye!==null;)if(s=ye,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ye=r;else for(;ye!==null;){s=ye;try{var we=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Ie=we.memoizedProps,Pt=we.memoizedState,H=s.stateNode,V=H.getSnapshotBeforeUpdate(s.elementType===s.type?Ie:pr(s.type,Ie),Pt);H.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){Rt(s,s.return,se)}if(r=s.sibling,r!==null){r.return=s.return,ye=r;break}ye=s.return}return we=qm,qm=!1,we}function La(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&$h(s,a,g)}f=f.next}while(f!==c)}}function du(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Wh(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function $m(r){var s=r.alternate;s!==null&&(r.alternate=null,$m(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Lr],delete s[Ta],delete s[lh],delete s[tw],delete s[nw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Wm(r){return r.tag===5||r.tag===3||r.tag===4}function Km(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Wm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Kh(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Hl));else if(c!==4&&(r=r.child,r!==null))for(Kh(r,s,a),r=r.sibling;r!==null;)Kh(r,s,a),r=r.sibling}function Gh(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(Gh(r,s,a),r=r.sibling;r!==null;)Gh(r,s,a),r=r.sibling}var Yt=null,mr=!1;function qi(r,s,a){for(a=a.child;a!==null;)Gm(r,s,a),a=a.sibling}function Gm(r,s,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(En,a)}catch{}switch(a.tag){case 5:un||No(a,s);case 6:var c=Yt,f=mr;Yt=null,qi(r,s,a),Yt=c,mr=f,Yt!==null&&(mr?(r=Yt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Yt.removeChild(a.stateNode));break;case 18:Yt!==null&&(mr?(r=Yt,a=a.stateNode,r.nodeType===8?ah(r.parentNode,a):r.nodeType===1&&ah(r,a),cr(r)):ah(Yt,a.stateNode));break;case 4:c=Yt,f=mr,Yt=a.stateNode.containerInfo,mr=!0,qi(r,s,a),Yt=c,mr=f;break;case 0:case 11:case 14:case 15:if(!un&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,_=g.destroy;g=g.tag,_!==void 0&&(g&2||g&4)&&$h(a,s,_),f=f.next}while(f!==c)}qi(r,s,a);break;case 1:if(!un&&(No(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){Rt(a,s,C)}qi(r,s,a);break;case 21:qi(r,s,a);break;case 22:a.mode&1?(un=(c=un)||a.memoizedState!==null,qi(r,s,a),un=c):qi(r,s,a);break;default:qi(r,s,a)}}function Qm(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new vw),s.forEach(function(c){var f=Pw.bind(null,r,c);a.has(c)||(a.add(c),c.then(f,f))})}}function gr(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var g=r,_=s,C=_;e:for(;C!==null;){switch(C.tag){case 5:Yt=C.stateNode,mr=!1;break e;case 3:Yt=C.stateNode.containerInfo,mr=!0;break e;case 4:Yt=C.stateNode.containerInfo,mr=!0;break e}C=C.return}if(Yt===null)throw Error(t(160));Gm(g,_,f),Yt=null,mr=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(W){Rt(f,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ym(s,r),s=s.sibling}function Ym(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(gr(s,r),Mr(r),c&4){try{La(3,r,r.return),du(3,r)}catch(Ie){Rt(r,r.return,Ie)}try{La(5,r,r.return)}catch(Ie){Rt(r,r.return,Ie)}}break;case 1:gr(s,r),Mr(r),c&512&&a!==null&&No(a,a.return);break;case 5:if(gr(s,r),Mr(r),c&512&&a!==null&&No(a,a.return),r.flags&32){var f=r.stateNode;try{$t(f,"")}catch(Ie){Rt(r,r.return,Ie)}}if(c&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,_=a!==null?a.memoizedProps:g,C=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Ii(f,g),Ci(C,_);var W=Ci(C,g);for(_=0;_<D.length;_+=2){var re=D[_],ie=D[_+1];re==="style"?vs(f,ie):re==="dangerouslySetInnerHTML"?ys(f,ie):re==="children"?$t(f,ie):ee(f,re,ie,W)}switch(C){case"input":gs(f,g);break;case"textarea":Ir(f,g);break;case"select":var ne=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var pe=g.value;pe!=null?qt(f,!!g.multiple,pe,!1):ne!==!!g.multiple&&(g.defaultValue!=null?qt(f,!!g.multiple,g.defaultValue,!0):qt(f,!!g.multiple,g.multiple?[]:"",!1))}f[Ta]=g}catch(Ie){Rt(r,r.return,Ie)}}break;case 6:if(gr(s,r),Mr(r),c&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(Ie){Rt(r,r.return,Ie)}}break;case 3:if(gr(s,r),Mr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{cr(s.containerInfo)}catch(Ie){Rt(r,r.return,Ie)}break;case 4:gr(s,r),Mr(r);break;case 13:gr(s,r),Mr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Xh=ot())),c&4&&Qm(r);break;case 22:if(re=a!==null&&a.memoizedState!==null,r.mode&1?(un=(W=un)||re,gr(s,r),un=W):gr(s,r),Mr(r),c&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!re&&r.mode&1)for(ye=r,re=r.child;re!==null;){for(ie=ye=re;ye!==null;){switch(ne=ye,pe=ne.child,ne.tag){case 0:case 11:case 14:case 15:La(4,ne,ne.return);break;case 1:No(ne,ne.return);var we=ne.stateNode;if(typeof we.componentWillUnmount=="function"){c=ne,a=ne.return;try{s=c,we.props=s.memoizedProps,we.state=s.memoizedState,we.componentWillUnmount()}catch(Ie){Rt(c,a,Ie)}}break;case 5:No(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Zm(ie);continue}}pe!==null?(pe.return=ne,ye=pe):Zm(ie)}re=re.sibling}e:for(re=null,ie=r;;){if(ie.tag===5){if(re===null){re=ie;try{f=ie.stateNode,W?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=ie.stateNode,D=ie.memoizedProps.style,_=D!=null&&D.hasOwnProperty("display")?D.display:null,C.style.display=Si("display",_))}catch(Ie){Rt(r,r.return,Ie)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=W?"":ie.memoizedProps}catch(Ie){Rt(r,r.return,Ie)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===r)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===r)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===r)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:gr(s,r),Mr(r),c&4&&Qm(r);break;case 21:break;default:gr(s,r),Mr(r)}}function Mr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Wm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&($t(f,""),c.flags&=-33);var g=Km(r);Gh(r,g,f);break;case 3:case 4:var _=c.stateNode.containerInfo,C=Km(r);Kh(r,C,_);break;default:throw Error(t(161))}}catch(D){Rt(r,r.return,D)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function ww(r,s,a){ye=r,Xm(r)}function Xm(r,s,a){for(var c=(r.mode&1)!==0;ye!==null;){var f=ye,g=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||hu;if(!_){var C=f.alternate,D=C!==null&&C.memoizedState!==null||un;C=hu;var W=un;if(hu=_,(un=D)&&!W)for(ye=f;ye!==null;)_=ye,D=_.child,_.tag===22&&_.memoizedState!==null?eg(f):D!==null?(D.return=_,ye=D):eg(f);for(;g!==null;)ye=g,Xm(g),g=g.sibling;ye=f,hu=C,un=W}Jm(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,ye=g):Jm(r)}}function Jm(r){for(;ye!==null;){var s=ye;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:un||du(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!un)if(a===null)c.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:pr(s.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Zp(s,g,c);break;case 3:var _=s.updateQueue;if(_!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Zp(s,_,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var re=W.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&cr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}un||s.flags&512&&Wh(s)}catch(ne){Rt(s,s.return,ne)}}if(s===r){ye=null;break}if(a=s.sibling,a!==null){a.return=s.return,ye=a;break}ye=s.return}}function Zm(r){for(;ye!==null;){var s=ye;if(s===r){ye=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ye=a;break}ye=s.return}}function eg(r){for(;ye!==null;){var s=ye;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{du(4,s)}catch(D){Rt(s,a,D)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(D){Rt(s,f,D)}}var g=s.return;try{Wh(s)}catch(D){Rt(s,g,D)}break;case 5:var _=s.return;try{Wh(s)}catch(D){Rt(s,_,D)}}}catch(D){Rt(s,s.return,D)}if(s===r){ye=null;break}var C=s.sibling;if(C!==null){C.return=s.return,ye=C;break}ye=s.return}}var Ew=Math.ceil,fu=le.ReactCurrentDispatcher,Qh=le.ReactCurrentOwner,Kn=le.ReactCurrentBatchConfig,nt=0,jt=null,Dt=null,Xt=0,Fn=0,Lo=Ui(0),Mt=0,Oa=null,Ls=0,pu=0,Yh=0,Va=null,Cn=null,Xh=0,Oo=1/0,li=null,mu=!1,Jh=null,$i=null,gu=!1,Wi=null,yu=0,Ma=0,Zh=null,vu=-1,_u=0;function vn(){return nt&6?ot():vu!==-1?vu:vu=ot()}function Ki(r){return r.mode&1?nt&2&&Xt!==0?Xt&-Xt:iw.transition!==null?(_u===0&&(_u=Es()),_u):(r=$e,r!==0||(r=window.event,r=r===void 0?16:ca(r.type)),r):1}function yr(r,s,a,c){if(50<Ma)throw Ma=0,Zh=null,Error(t(185));Di(r,a,c),(!(nt&2)||r!==jt)&&(r===jt&&(!(nt&2)&&(pu|=a),Mt===4&&Gi(r,Xt)),Pn(r,c),a===1&&nt===0&&!(s.mode&1)&&(Oo=ot()+500,Kl&&ji()))}function Pn(r,s){var a=r.callbackNode;Yr(r,s);var c=ws(r,r===jt?Xt:0);if(c===0)a!==null&&Gr(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&Gr(a),s===1)r.tag===0?rw(ng.bind(null,r)):jp(ng.bind(null,r)),Z0(function(){!(nt&6)&&ji()}),a=null;else{switch(Li(c)){case 1:a=Ye;break;case 4:a=pt;break;case 16:a=Kt;break;case 536870912:a=mt;break;default:a=Kt}a=cg(a,tg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function tg(r,s){if(vu=-1,_u=0,nt&6)throw Error(t(327));var a=r.callbackNode;if(Vo()&&r.callbackNode!==a)return null;var c=ws(r,r===jt?Xt:0);if(c===0)return null;if(c&30||c&r.expiredLanes||s)s=wu(r,c);else{s=c;var f=nt;nt|=2;var g=ig();(jt!==r||Xt!==s)&&(li=null,Oo=ot()+500,Vs(r,s));do try{Aw();break}catch(C){rg(r,C)}while(!0);yh(),fu.current=g,nt=f,Dt!==null?s=0:(jt=null,Xt=0,s=Mt)}if(s!==0){if(s===2&&(f=Ln(r),f!==0&&(c=f,s=ed(r,f))),s===1)throw a=Oa,Vs(r,0),Gi(r,c),Pn(r,ot()),a;if(s===6)Gi(r,c);else{if(f=r.current.alternate,!(c&30)&&!Tw(f)&&(s=wu(r,c),s===2&&(g=Ln(r),g!==0&&(c=g,s=ed(r,g))),s===1))throw a=Oa,Vs(r,0),Gi(r,c),Pn(r,ot()),a;switch(r.finishedWork=f,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:Ms(r,Cn,li);break;case 3:if(Gi(r,c),(c&130023424)===c&&(s=Xh+500-ot(),10<s)){if(ws(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){vn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=oh(Ms.bind(null,r,Cn,li),s);break}Ms(r,Cn,li);break;case 4:if(Gi(r,c),(c&4194240)===c)break;for(s=r.eventTimes,f=-1;0<c;){var _=31-mn(c);g=1<<_,_=s[_],_>f&&(f=_),c&=~g}if(c=f,c=ot()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Ew(c/1960))-c,10<c){r.timeoutHandle=oh(Ms.bind(null,r,Cn,li),c);break}Ms(r,Cn,li);break;case 5:Ms(r,Cn,li);break;default:throw Error(t(329))}}}return Pn(r,ot()),r.callbackNode===a?tg.bind(null,r):null}function ed(r,s){var a=Va;return r.current.memoizedState.isDehydrated&&(Vs(r,s).flags|=256),r=wu(r,s),r!==2&&(s=Cn,Cn=a,s!==null&&td(s)),r}function td(r){Cn===null?Cn=r:Cn.push.apply(Cn,r)}function Tw(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],g=f.getSnapshot;f=f.value;try{if(!dr(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Gi(r,s){for(s&=~Yh,s&=~pu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-mn(s),c=1<<a;r[a]=-1,s&=~c}}function ng(r){if(nt&6)throw Error(t(327));Vo();var s=ws(r,0);if(!(s&1))return Pn(r,ot()),null;var a=wu(r,s);if(r.tag!==0&&a===2){var c=Ln(r);c!==0&&(s=c,a=ed(r,c))}if(a===1)throw a=Oa,Vs(r,0),Gi(r,s),Pn(r,ot()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ms(r,Cn,li),Pn(r,ot()),null}function nd(r,s){var a=nt;nt|=1;try{return r(s)}finally{nt=a,nt===0&&(Oo=ot()+500,Kl&&ji())}}function Os(r){Wi!==null&&Wi.tag===0&&!(nt&6)&&Vo();var s=nt;nt|=1;var a=Kn.transition,c=$e;try{if(Kn.transition=null,$e=1,r)return r()}finally{$e=c,Kn.transition=a,nt=s,!(nt&6)&&ji()}}function rd(){Fn=Lo.current,yt(Lo)}function Vs(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,J0(a)),Dt!==null)for(a=Dt.return;a!==null;){var c=a;switch(dh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$l();break;case 3:xo(),yt(An),yt(on),Sh();break;case 5:Ih(c);break;case 4:xo();break;case 13:yt(Et);break;case 19:yt(Et);break;case 10:vh(c.type._context);break;case 22:case 23:rd()}a=a.return}if(jt=r,Dt=r=Qi(r.current,null),Xt=Fn=s,Mt=0,Oa=null,Yh=pu=Ls=0,Cn=Va=null,xs!==null){for(s=0;s<xs.length;s++)if(a=xs[s],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,g=a.pending;if(g!==null){var _=g.next;g.next=f,c.next=_}a.pending=c}xs=null}return r}function rg(r,s){do{var a=Dt;try{if(yh(),ru.current=au,iu){for(var c=Tt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}iu=!1}if(Ns=0,zt=Vt=Tt=null,Pa=!1,ka=0,Qh.current=null,a===null||a.return===null){Mt=1,Oa=s,Dt=null;break}e:{var g=r,_=a.return,C=a,D=s;if(s=Xt,C.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=D,re=C,ie=re.tag;if(!(re.mode&1)&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var pe=Pm(_);if(pe!==null){pe.flags&=-257,km(pe,_,C,g,s),pe.mode&1&&Cm(g,W,s),s=pe,D=W;var we=s.updateQueue;if(we===null){var Ie=new Set;Ie.add(D),s.updateQueue=Ie}else we.add(D);break e}else{if(!(s&1)){Cm(g,W,s),id();break e}D=Error(t(426))}}else if(wt&&C.mode&1){var Pt=Pm(_);if(Pt!==null){!(Pt.flags&65536)&&(Pt.flags|=256),km(Pt,_,C,g,s),mh(Do(D,C));break e}}g=D=Do(D,C),Mt!==4&&(Mt=2),Va===null?Va=[g]:Va.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var H=Sm(g,D,s);Jp(g,H);break e;case 1:C=D;var V=g.type,q=g.stateNode;if(!(g.flags&128)&&(typeof V.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&($i===null||!$i.has(q)))){g.flags|=65536,s&=-s,g.lanes|=s;var se=Rm(g,C,s);Jp(g,se);break e}}g=g.return}while(g!==null)}og(a)}catch(Ae){s=Ae,Dt===a&&a!==null&&(Dt=a=a.return);continue}break}while(!0)}function ig(){var r=fu.current;return fu.current=au,r===null?au:r}function id(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),jt===null||!(Ls&268435455)&&!(pu&268435455)||Gi(jt,Xt)}function wu(r,s){var a=nt;nt|=2;var c=ig();(jt!==r||Xt!==s)&&(li=null,Vs(r,s));do try{Iw();break}catch(f){rg(r,f)}while(!0);if(yh(),nt=a,fu.current=c,Dt!==null)throw Error(t(261));return jt=null,Xt=0,Mt}function Iw(){for(;Dt!==null;)sg(Dt)}function Aw(){for(;Dt!==null&&!Cr();)sg(Dt)}function sg(r){var s=ug(r.alternate,r,Fn);r.memoizedProps=r.pendingProps,s===null?og(r):Dt=s,Qh.current=null}function og(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=yw(a,s),a!==null){a.flags&=32767,Dt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Mt=6,Dt=null;return}}else if(a=gw(a,s,Fn),a!==null){Dt=a;return}if(s=s.sibling,s!==null){Dt=s;return}Dt=s=r}while(s!==null);Mt===0&&(Mt=5)}function Ms(r,s,a){var c=$e,f=Kn.transition;try{Kn.transition=null,$e=1,Sw(r,s,a,c)}finally{Kn.transition=f,$e=c}return null}function Sw(r,s,a,c){do Vo();while(Wi!==null);if(nt&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(ct(r,g),r===jt&&(Dt=jt=null,Xt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||gu||(gu=!0,cg(Kt,function(){return Vo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Kn.transition,Kn.transition=null;var _=$e;$e=1;var C=nt;nt|=4,Qh.current=null,_w(r,a),Ym(a,r),$0(ih),Vi=!!rh,ih=rh=null,r.current=a,ww(a),sr(),nt=C,$e=_,Kn.transition=g}else r.current=a;if(gu&&(gu=!1,Wi=r,yu=f),g=r.pendingLanes,g===0&&($i=null),to(a.stateNode),Pn(r,ot()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(mu)throw mu=!1,r=Jh,Jh=null,r;return yu&1&&r.tag!==0&&Vo(),g=r.pendingLanes,g&1?r===Zh?Ma++:(Ma=0,Zh=r):Ma=0,ji(),null}function Vo(){if(Wi!==null){var r=Li(yu),s=Kn.transition,a=$e;try{if(Kn.transition=null,$e=16>r?16:r,Wi===null)var c=!1;else{if(r=Wi,Wi=null,yu=0,nt&6)throw Error(t(331));var f=nt;for(nt|=4,ye=r.current;ye!==null;){var g=ye,_=g.child;if(ye.flags&16){var C=g.deletions;if(C!==null){for(var D=0;D<C.length;D++){var W=C[D];for(ye=W;ye!==null;){var re=ye;switch(re.tag){case 0:case 11:case 15:La(8,re,g)}var ie=re.child;if(ie!==null)ie.return=re,ye=ie;else for(;ye!==null;){re=ye;var ne=re.sibling,pe=re.return;if($m(re),re===W){ye=null;break}if(ne!==null){ne.return=pe,ye=ne;break}ye=pe}}}var we=g.alternate;if(we!==null){var Ie=we.child;if(Ie!==null){we.child=null;do{var Pt=Ie.sibling;Ie.sibling=null,Ie=Pt}while(Ie!==null)}}ye=g}}if(g.subtreeFlags&2064&&_!==null)_.return=g,ye=_;else e:for(;ye!==null;){if(g=ye,g.flags&2048)switch(g.tag){case 0:case 11:case 15:La(9,g,g.return)}var H=g.sibling;if(H!==null){H.return=g.return,ye=H;break e}ye=g.return}}var V=r.current;for(ye=V;ye!==null;){_=ye;var q=_.child;if(_.subtreeFlags&2064&&q!==null)q.return=_,ye=q;else e:for(_=V;ye!==null;){if(C=ye,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:du(9,C)}}catch(Ae){Rt(C,C.return,Ae)}if(C===_){ye=null;break e}var se=C.sibling;if(se!==null){se.return=C.return,ye=se;break e}ye=C.return}}if(nt=f,ji(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(En,r)}catch{}c=!0}return c}finally{$e=a,Kn.transition=s}}return!1}function ag(r,s,a){s=Do(a,s),s=Sm(r,s,1),r=Hi(r,s,1),s=vn(),r!==null&&(Di(r,1,s),Pn(r,s))}function Rt(r,s,a){if(r.tag===3)ag(r,r,a);else for(;s!==null;){if(s.tag===3){ag(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($i===null||!$i.has(c))){r=Do(a,r),r=Rm(s,r,1),s=Hi(s,r,1),r=vn(),s!==null&&(Di(s,1,r),Pn(s,r));break}}s=s.return}}function Rw(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=vn(),r.pingedLanes|=r.suspendedLanes&a,jt===r&&(Xt&a)===a&&(Mt===4||Mt===3&&(Xt&130023424)===Xt&&500>ot()-Xh?Vs(r,0):Yh|=a),Pn(r,s)}function lg(r,s){s===0&&(r.mode&1?(s=ro,ro<<=1,!(ro&130023424)&&(ro=4194304)):s=1);var a=vn();r=si(r,s),r!==null&&(Di(r,s,a),Pn(r,a))}function Cw(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),lg(r,a)}function Pw(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),lg(r,a)}var ug;ug=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||An.current)Rn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return Rn=!1,mw(r,s,a);Rn=!!(r.flags&131072)}else Rn=!1,wt&&s.flags&1048576&&Bp(s,Ql,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;cu(r,s),r=s.pendingProps;var f=Io(s,on.current);ko(s,a),f=Ph(null,s,c,r,f,a);var g=kh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Sn(c)?(g=!0,Wl(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Eh(s),f.updater=lu,s.stateNode=f,f._reactInternals=s,Vh(s,c,r,a),s=Uh(null,s,c,!0,g,a)):(s.tag=0,wt&&g&&hh(s),yn(null,s,f,a),s=s.child),s;case 16:c=s.elementType;e:{switch(cu(r,s),r=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=xw(c),r=pr(c,r),f){case 0:s=Fh(null,s,c,r,a);break e;case 1:s=Vm(null,s,c,r,a);break e;case 11:s=xm(null,s,c,r,a);break e;case 14:s=Dm(null,s,c,pr(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:pr(c,f),Fh(r,s,c,f,a);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:pr(c,f),Vm(r,s,c,f,a);case 3:e:{if(Mm(s),r===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,f=g.element,Xp(r,s),tu(s,c,null,a);var _=s.memoizedState;if(c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Do(Error(t(423)),s),s=bm(r,s,c,a,f);break e}else if(c!==f){f=Do(Error(t(424)),s),s=bm(r,s,c,a,f);break e}else for(bn=Fi(s.stateNode.containerInfo.firstChild),Mn=s,wt=!0,fr=null,a=Qp(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ro(),c===f){s=ai(r,s,a);break e}yn(r,s,c,a)}s=s.child}return s;case 5:return em(s),r===null&&ph(s),c=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,_=f.children,sh(c,f)?_=null:g!==null&&sh(c,g)&&(s.flags|=32),Om(r,s),yn(r,s,_,a),s.child;case 6:return r===null&&ph(s),null;case 13:return Fm(r,s,a);case 4:return Th(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Co(s,null,c,a):yn(r,s,c,a),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:pr(c,f),xm(r,s,c,f,a);case 7:return yn(r,s,s.pendingProps,a),s.child;case 8:return yn(r,s,s.pendingProps.children,a),s.child;case 12:return yn(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,g=s.memoizedProps,_=f.value,dt(Jl,c._currentValue),c._currentValue=_,g!==null)if(dr(g.value,_)){if(g.children===f.children&&!An.current){s=ai(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var C=g.dependencies;if(C!==null){_=g.child;for(var D=C.firstContext;D!==null;){if(D.context===c){if(g.tag===1){D=oi(-1,a&-a),D.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var re=W.pending;re===null?D.next=D:(D.next=re.next,re.next=D),W.pending=D}}g.lanes|=a,D=g.alternate,D!==null&&(D.lanes|=a),_h(g.return,a,s),C.lanes|=a;break}D=D.next}}else if(g.tag===10)_=g.type===s.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(t(341));_.lanes|=a,C=_.alternate,C!==null&&(C.lanes|=a),_h(_,a,s),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}yn(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,ko(s,a),f=$n(f),c=c(f),s.flags|=1,yn(r,s,c,a),s.child;case 14:return c=s.type,f=pr(c,s.pendingProps),f=pr(c.type,f),Dm(r,s,c,f,a);case 15:return Nm(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:pr(c,f),cu(r,s),s.tag=1,Sn(c)?(r=!0,Wl(s)):r=!1,ko(s,a),Im(s,c,f),Vh(s,c,f,a),Uh(null,s,c,!0,r,a);case 19:return zm(r,s,a);case 22:return Lm(r,s,a)}throw Error(t(156,s.tag))};function cg(r,s){return Wt(r,s)}function kw(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(r,s,a,c){return new kw(r,s,a,c)}function sd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xw(r){if(typeof r=="function")return sd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===Ge)return 14}return 2}function Qi(r,s){var a=r.alternate;return a===null?(a=Gn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Eu(r,s,a,c,f,g){var _=2;if(c=r,typeof r=="function")sd(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case k:return bs(a.children,f,g,s);case T:_=8,f|=8;break;case R:return r=Gn(12,a,s,f|2),r.elementType=R,r.lanes=g,r;case P:return r=Gn(13,a,s,f),r.elementType=P,r.lanes=g,r;case ht:return r=Gn(19,a,s,f),r.elementType=ht,r.lanes=g,r;case Qe:return Tu(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:_=10;break e;case O:_=9;break e;case j:_=11;break e;case Ge:_=14;break e;case Ct:_=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Gn(_,a,s,f),s.elementType=r,s.type=c,s.lanes=g,s}function bs(r,s,a,c){return r=Gn(7,r,c,s),r.lanes=a,r}function Tu(r,s,a,c){return r=Gn(22,r,c,s),r.elementType=Qe,r.lanes=a,r.stateNode={isHidden:!1},r}function od(r,s,a){return r=Gn(6,r,null,s),r.lanes=a,r}function ad(r,s,a){return s=Gn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Dw(r,s,a,c,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xi(0),this.expirationTimes=xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function ld(r,s,a,c,f,g,_,C,D){return r=new Dw(r,s,a,C,D),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Gn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eh(g),r}function Nw(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function hg(r){if(!r)return zi;r=r._reactInternals;e:{if(qe(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Sn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Sn(a))return Up(r,a,s)}return s}function dg(r,s,a,c,f,g,_,C,D){return r=ld(a,c,!0,r,f,g,_,C,D),r.context=hg(null),a=r.current,c=vn(),f=Ki(a),g=oi(c,f),g.callback=s??null,Hi(a,g,f),r.current.lanes=f,Di(r,f,c),Pn(r,c),r}function Iu(r,s,a,c){var f=s.current,g=vn(),_=Ki(f);return a=hg(a),s.context===null?s.context=a:s.pendingContext=a,s=oi(g,_),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=Hi(f,s,_),r!==null&&(yr(r,f,_,g),eu(r,f,_)),_}function Au(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function fg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function ud(r,s){fg(r,s),(r=r.alternate)&&fg(r,s)}function Lw(){return null}var pg=typeof reportError=="function"?reportError:function(r){console.error(r)};function cd(r){this._internalRoot=r}Su.prototype.render=cd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Iu(r,s,null,null)},Su.prototype.unmount=cd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Os(function(){Iu(null,r,null,null)}),s[ti]=null}};function Su(r){this._internalRoot=r}Su.prototype.unstable_scheduleHydration=function(r){if(r){var s=Sl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<kr.length&&s!==0&&s<kr[a].priority;a++);kr.splice(a,0,r),a===0&&Pl(r)}};function hd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ru(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function mg(){}function Ow(r,s,a,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var W=Au(_);g.call(W)}}var _=dg(s,c,r,0,null,!1,!1,"",mg);return r._reactRootContainer=_,r[ti]=_.current,wa(r.nodeType===8?r.parentNode:r),Os(),_}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var C=c;c=function(){var W=Au(D);C.call(W)}}var D=ld(r,0,!1,null,null,!1,!1,"",mg);return r._reactRootContainer=D,r[ti]=D.current,wa(r.nodeType===8?r.parentNode:r),Os(function(){Iu(s,D,a,c)}),D}function Cu(r,s,a,c,f){var g=a._reactRootContainer;if(g){var _=g;if(typeof f=="function"){var C=f;f=function(){var D=Au(_);C.call(D)}}Iu(s,_,r,f)}else _=Ow(a,s,r,f,c);return Au(_)}Il=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=ki(s.pendingLanes);a!==0&&(Ni(s,a|1),Pn(s,ot()),!(nt&6)&&(Oo=ot()+500,ji()))}break;case 13:Os(function(){var c=si(r,1);if(c!==null){var f=vn();yr(c,r,1,f)}}),ud(r,1)}},io=function(r){if(r.tag===13){var s=si(r,134217728);if(s!==null){var a=vn();yr(s,r,134217728,a)}ud(r,134217728)}},Al=function(r){if(r.tag===13){var s=Ki(r),a=si(r,s);if(a!==null){var c=vn();yr(a,r,s,c)}ud(r,s)}},Sl=function(){return $e},Rl=function(r,s){var a=$e;try{return $e=r,s()}finally{$e=a}},Wr=function(r,s,a){switch(s){case"input":if(gs(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var f=ql(c);if(!f)throw Error(t(90));Ei(c),gs(c,f)}}}break;case"textarea":Ir(r,a);break;case"select":s=a.value,s!=null&&qt(r,!!a.multiple,s,!1)}},Kr=nd,N=Os;var Vw={usingClientEntryPoint:!1,Events:[Ia,Eo,ql,pn,_s,nd]},ba={findFiberByHostInstance:Rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mw={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:le.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ir(r),r===null?null:r.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||Lw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{En=Pu.inject(Mw),sn=Pu}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vw,kn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hd(s))throw Error(t(200));return Nw(r,s,null,a)},kn.createRoot=function(r,s){if(!hd(r))throw Error(t(299));var a=!1,c="",f=pg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=ld(r,1,!1,null,null,a,!1,c,f),r[ti]=s.current,wa(r.nodeType===8?r.parentNode:r),new cd(s)},kn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ir(s),r=r===null?null:r.stateNode,r},kn.flushSync=function(r){return Os(r)},kn.hydrate=function(r,s,a){if(!Ru(s))throw Error(t(200));return Cu(null,r,s,!0,a)},kn.hydrateRoot=function(r,s,a){if(!hd(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,g="",_=pg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),s=dg(s,null,r,1,a??null,f,!1,g,_),r[ti]=s.current,wa(r),c)for(r=0;r<c.length;r++)a=c[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Su(s)},kn.render=function(r,s,a){if(!Ru(s))throw Error(t(200));return Cu(null,r,s,!1,a)},kn.unmountComponentAtNode=function(r){if(!Ru(r))throw Error(t(40));return r._reactRootContainer?(Os(function(){Cu(null,null,r,!1,function(){r._reactRootContainer=null,r[ti]=null})}),!0):!1},kn.unstable_batchedUpdates=nd,kn.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!Ru(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Cu(r,s,a,!1,c)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var Ig;function lv(){if(Ig)return pd.exports;Ig=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pd.exports=Hw(),pd.exports}var Ag;function qw(){if(Ag)return ku;Ag=1;var n=lv();return ku.createRoot=n.createRoot,ku.hydrateRoot=n.hydrateRoot,ku}var $w=qw(),Ua={},Sg;function Ww(){if(Sg)return Ua;Sg=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.parse=h,Ua.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,S){const L=new l,M=A.length;if(M<2)return L;const b=(S==null?void 0:S.decode)||w;let $=0;do{const X=A.indexOf("=",$);if(X===-1)break;const ee=A.indexOf(";",$),le=ee===-1?M:ee;if(X>le){$=A.lastIndexOf(";",X-1)+1;continue}const U=d(A,$,X),ce=p(A,X,U),k=A.slice(U,ce);if(L[k]===void 0){let T=d(A,X+1,le),R=p(A,le,T);const x=b(A.slice(T,R));L[k]=x}$=le+1}while($<M);return L}function d(A,S,L){do{const M=A.charCodeAt(S);if(M!==32&&M!==9)return S}while(++S<L);return L}function p(A,S,L){for(;S>L;){const M=A.charCodeAt(--S);if(M!==32&&M!==9)return S+1}return L}function y(A,S,L){const M=(L==null?void 0:L.encode)||encodeURIComponent;if(!n.test(A))throw new TypeError(`argument name is invalid: ${A}`);const b=M(S);if(!e.test(b))throw new TypeError(`argument val is invalid: ${S}`);let $=A+"="+b;if(!L)return $;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);$+="; Max-Age="+L.maxAge}if(L.domain){if(!t.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);$+="; Domain="+L.domain}if(L.path){if(!i.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);$+="; Path="+L.path}if(L.expires){if(!I(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);$+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&($+="; HttpOnly"),L.secure&&($+="; Secure"),L.partitioned&&($+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return $}function w(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function I(A){return o.call(A)==="[object Date]"}return Ua}Ww();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rg="popstate";function Kw(n={}){function e(i,o){let{pathname:l,search:h,hash:d}=i.location;return Ja("",{pathname:l,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:us(o)}return Qw(e,t,null,n)}function Ke(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function en(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Gw(){return Math.random().toString(36).substring(2,10)}function Cg(n,e){return{usr:n.state,key:n.key,idx:e}}function Ja(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ms(e):e,state:t,key:e&&e.key||i||Gw()}}function us({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ms(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Qw(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,d="POP",p=null,y=w();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function w(){return(h.state||{idx:null}).idx}function I(){d="POP";let b=w(),$=b==null?null:b-y;y=b,p&&p({action:d,location:M.location,delta:$})}function A(b,$){d="PUSH";let X=Ja(M.location,b,$);y=w()+1;let ee=Cg(X,y),le=M.createHref(X);try{h.pushState(ee,"",le)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;o.location.assign(le)}l&&p&&p({action:d,location:M.location,delta:1})}function S(b,$){d="REPLACE";let X=Ja(M.location,b,$);y=w();let ee=Cg(X,y),le=M.createHref(X);h.replaceState(ee,"",le),l&&p&&p({action:d,location:M.location,delta:0})}function L(b){let $=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof b=="string"?b:us(b);return X=X.replace(/ $/,"%20"),Ke($,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,$)}let M={get action(){return d},get location(){return n(o,h)},listen(b){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Rg,I),p=b,()=>{o.removeEventListener(Rg,I),p=null}},createHref(b){return e(o,b)},createURL:L,encodeLocation(b){let $=L(b);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:S,go(b){return h.go(b)}};return M}var Yw=new Set(["lazy","caseSensitive","path","id","index","children"]);function Xw(n){return n.index===!0}function ec(n,e,t=[],i={}){return n.map((o,l)=>{let h=[...t,String(l)],d=typeof o.id=="string"?o.id:h.join("-");if(Ke(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ke(!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),Xw(o)){let p={...o,...e(o),id:d};return i[d]=p,p}else{let p={...o,...e(o),id:d,children:void 0};return i[d]=p,o.children&&(p.children=ec(o.children,e,h,i)),p}})}function Zi(n,e,t="/"){return zu(n,e,t,!1)}function zu(n,e,t,i){let o=typeof e=="string"?ms(e):e,l=Er(o.pathname||"/",t);if(l==null)return null;let h=uv(n);Zw(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let y=cE(l);d=lE(h[p],y,i)}return d}function Jw(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function uv(n,e=[],t=[],i=""){let o=(l,h,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(Ke(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=br([i,p.relativePath]),w=t.concat(p);l.children&&l.children.length>0&&(Ke(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),uv(l.children,e,w,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:oE(y,l.index),routesMeta:w})};return n.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,h);else for(let p of cv(l.path))o(l,h,p)}),e}function cv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=cv(i.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...h),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function Zw(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:aE(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var eE=/^:[\w-]+$/,tE=3,nE=2,rE=1,iE=10,sE=-2,Pg=n=>n==="*";function oE(n,e){let t=n.split("/"),i=t.length;return t.some(Pg)&&(i+=sE),e&&(i+=nE),t.filter(o=>!Pg(o)).reduce((o,l)=>o+(eE.test(l)?tE:l===""?rE:iE),i)}function aE(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function lE(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",h=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,w=l==="/"?e:e.slice(l.length)||"/",I=tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},w),A=p.route;if(!I&&y&&t&&!i[i.length-1].route.index&&(I=tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!I)return null;Object.assign(o,I.params),h.push({params:o,pathname:br([l,I.pathname]),pathnameBase:fE(br([l,I.pathnameBase])),route:A}),I.pathnameBase!=="/"&&(l=br([l,I.pathnameBase]))}return h}function tc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=uE(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:w,isOptional:I},A)=>{if(w==="*"){let L=d[A]||"";h=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const S=d[A];return I&&!S?y[w]=void 0:y[w]=(S||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:n}}function uE(n,e=!1,t=!0){en(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function cE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return en(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Er(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function hE(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?ms(n):n;return{pathname:t?t.startsWith("/")?t:dE(t,e):e,search:pE(i),hash:mE(o)}}function dE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function yd(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hv(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function af(n){let e=hv(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function lf(n,e,t,i=!1){let o;typeof n=="string"?o=ms(n):(o={...n},Ke(!o.pathname||!o.pathname.includes("?"),yd("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),yd("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),yd("#","search","hash",o)));let l=n===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let I=e.length-1;if(!i&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),I-=1;o.pathname=A.join("/")}d=I>=0?e[I]:"/"}let p=hE(o,d),y=h&&h!=="/"&&h.endsWith("/"),w=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||w)&&(p.pathname+="/"),p}var br=n=>n.join("/").replace(/\/\/+/g,"/"),fE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),pE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,nc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Ec(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var dv=["POST","PUT","PATCH","DELETE"],gE=new Set(dv),yE=["GET",...dv],vE=new Set(yE),_E=new Set([301,302,303,307,308]),wE=new Set([307,308]),vd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},EE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},za={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},uf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TE=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),fv="remix-router-transitions",pv=Symbol("ResetLoaderData");function IE(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ke(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||TE,o={},l=ec(n.routes,i,void 0,o),h,d=n.basename||"/",p=n.dataStrategy||PE,y=n.patchRoutesOnNavigation,w={...n.future},I=null,A=new Set,S=null,L=null,M=null,b=n.hydrationData!=null,$=Zi(l,n.history.location,d),X=null;if($==null&&!y){let N=Qn(404,{pathname:n.history.location.pathname}),{matches:z,route:K}=Ug(l);$=z,X={[K.id]:N}}$&&!n.hydrationData&&nr($,l,n.history.location.pathname).active&&($=null);let ee;if($)if($.some(N=>N.route.lazy))ee=!1;else if(!$.some(N=>N.route.loader))ee=!0;else{let N=n.hydrationData?n.hydrationData.loaderData:null,z=n.hydrationData?n.hydrationData.errors:null;if(z){let K=$.findIndex(J=>z[J.route.id]!==void 0);ee=$.slice(0,K+1).every(J=>!Od(J.route,N,z))}else ee=$.every(K=>!Od(K.route,N,z))}else{ee=!1,$=[];let N=nr(null,l,n.history.location.pathname);N.active&&N.matches&&($=N.matches)}let le,U={historyAction:n.history.action,location:n.history.location,matches:$,initialized:ee,navigation:vd,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||X,fetchers:new Map,blockers:new Map},ce="POP",k=!1,T,R=!1,x=new Map,O=null,j=!1,P=!1,ht=new Set,Ge=new Map,Ct=0,Qe=-1,oe=new Map,Ee=new Set,he=new Map,F=new Map,Y=new Set,_e=new Map,Me,Le=null;function je(){if(I=n.history.listen(({action:N,location:z,delta:K})=>{if(Me){Me(),Me=void 0;return}en(_e.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=Ci({currentLocation:U.location,nextLocation:z,historyAction:N});if(J&&K!=null){let de=new Promise(ge=>{Me=ge});n.history.go(K*-1),Rr(J,{state:"blocked",location:z,proceed(){Rr(J,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),de.then(()=>n.history.go(K))},reset(){let ge=new Map(U.blockers);ge.set(J,za),Fe({blockers:ge})}});return}return nn(N,z)}),t){UE(e,x);let N=()=>zE(e,x);e.addEventListener("pagehide",N),O=()=>e.removeEventListener("pagehide",N)}return U.initialized||nn("POP",U.location,{initialHydration:!0}),le}function Ze(){I&&I(),O&&O(),A.clear(),T&&T.abort(),U.fetchers.forEach((N,z)=>Dn(z)),U.blockers.forEach((N,z)=>Ri(z))}function et(N){return A.add(N),()=>A.delete(N)}function Fe(N,z={}){U={...U,...N};let K=[],J=[];U.fetchers.forEach((de,ge)=>{de.state==="idle"&&(Y.has(ge)?K.push(ge):J.push(ge))}),[...A].forEach(de=>de(U,{deletedFetchers:K,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),K.forEach(de=>Dn(de)),J.forEach(de=>U.fetchers.delete(de))}function ft(N,z,{flushSync:K}={}){var ae,ke;let J=U.actionData!=null&&U.navigation.formMethod!=null&&vr(U.navigation.formMethod)&&U.navigation.state==="loading"&&((ae=N.state)==null?void 0:ae._isRedirect)!==!0,de;z.actionData?Object.keys(z.actionData).length>0?de=z.actionData:de=null:J?de=U.actionData:de=null;let ge=z.loaderData?bg(U.loaderData,z.loaderData,z.matches||[],z.errors):U.loaderData,Re=U.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Ue,it)=>Re.set(it,za)));let fe=k===!0||U.navigation.formMethod!=null&&vr(U.navigation.formMethod)&&((ke=N.state)==null?void 0:ke._isRedirect)!==!0;h&&(l=h,h=void 0),j||ce==="POP"||(ce==="PUSH"?n.history.push(N,N.state):ce==="REPLACE"&&n.history.replace(N,N.state));let ve;if(ce==="POP"){let Ue=x.get(U.location.pathname);Ue&&Ue.has(N.pathname)?ve={currentLocation:U.location,nextLocation:N}:x.has(N.pathname)&&(ve={currentLocation:N,nextLocation:U.location})}else if(R){let Ue=x.get(U.location.pathname);Ue?Ue.add(N.pathname):(Ue=new Set([N.pathname]),x.set(U.location.pathname,Ue)),ve={currentLocation:U.location,nextLocation:N}}Fe({...z,actionData:de,loaderData:ge,historyAction:ce,location:N,initialized:!0,navigation:vd,revalidation:"idle",restoreScrollPosition:Nn(N,z.matches||U.matches),preventScrollReset:fe,blockers:Re},{viewTransitionOpts:ve,flushSync:K===!0}),ce="POP",k=!1,R=!1,j=!1,P=!1,Le==null||Le.resolve(),Le=null}async function zn(N,z){if(typeof N=="number"){n.history.go(N);return}let K=Ld(U.location,U.matches,d,N,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:J,submission:de,error:ge}=kg(!1,K,z),Re=U.location,fe=Ja(U.location,J,z&&z.state);fe={...fe,...n.history.encodeLocation(fe)};let ve=z&&z.replace!=null?z.replace:void 0,ae="PUSH";ve===!0?ae="REPLACE":ve===!1||de!=null&&vr(de.formMethod)&&de.formAction===U.location.pathname+U.location.search&&(ae="REPLACE");let ke=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,Ue=(z&&z.flushSync)===!0,it=Ci({currentLocation:Re,nextLocation:fe,historyAction:ae});if(it){Rr(it,{state:"blocked",location:fe,proceed(){Rr(it,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),zn(N,z)},reset(){let St=new Map(U.blockers);St.set(it,za),Fe({blockers:St})}});return}await nn(ae,fe,{submission:de,pendingError:ge,preventScrollReset:ke,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:Ue})}function Ei(){Le||(Le=jE()),Ir(),Fe({revalidation:"loading"});let N=Le.promise;return U.navigation.state==="submitting"?N:U.navigation.state==="idle"?(nn(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),N):(nn(ce||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:R===!0}),N)}async function nn(N,z,K){T&&T.abort(),T=null,ce=N,j=(K&&K.startUninterruptedRevalidation)===!0,wn(U.location,U.matches),k=(K&&K.preventScrollReset)===!0,R=(K&&K.enableViewTransition)===!0;let J=h||l,de=K&&K.overrideNavigation,ge=Zi(J,z,d),Re=(K&&K.flushSync)===!0,fe=nr(ge,J,z.pathname);if(fe.active&&fe.matches&&(ge=fe.matches),!ge){let{error:qe,notFoundMatches:tt,route:st}=tr(z.pathname);ft(z,{matches:tt,loaderData:{},errors:{[st.id]:qe}},{flushSync:Re});return}if(U.initialized&&!P&&OE(U.location,z)&&!(K&&K.submission&&vr(K.submission.formMethod))){ft(z,{matches:ge},{flushSync:Re});return}T=new AbortController;let ve=Mo(n.history,z,T.signal,K&&K.submission),ae;if(K&&K.pendingError)ae=[Us(ge).route.id,{type:"error",error:K.pendingError}];else if(K&&K.submission&&vr(K.submission.formMethod)){let qe=await qr(ve,z,K.submission,ge,fe.active,{replace:K.replace,flushSync:Re});if(qe.shortCircuited)return;if(qe.pendingActionResult){let[tt,st]=qe.pendingActionResult;if(Un(st)&&Ec(st.error)&&st.error.status===404){T=null,ft(z,{matches:qe.matches,loaderData:{},errors:{[tt]:st.error}});return}}ge=qe.matches||ge,ae=qe.pendingActionResult,de=_d(z,K.submission),Re=!1,fe.active=!1,ve=Mo(n.history,ve.url,ve.signal)}let{shortCircuited:ke,matches:Ue,loaderData:it,errors:St}=await Ti(ve,z,ge,fe.active,de,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Re,ae);ke||(T=null,ft(z,{matches:Ue||ge,...Fg(ae),loaderData:it,errors:St}))}async function qr(N,z,K,J,de,ge={}){Ir();let Re=bE(z,K);if(Fe({navigation:Re},{flushSync:ge.flushSync===!0}),de){let ae=await pn(J,z.pathname,N.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let ke=Us(ae.partialMatches).route.id;return{matches:ae.partialMatches,pendingActionResult:[ke,{type:"error",error:ae.error}]}}else if(ae.matches)J=ae.matches;else{let{notFoundMatches:ke,error:Ue,route:it}=tr(z.pathname);return{matches:ke,pendingActionResult:[it.id,{type:"error",error:Ue}]}}}let fe,ve=Ha(J,z);if(!ve.route.action&&!ve.route.lazy)fe={type:"error",error:Qn(405,{method:N.method,pathname:z.pathname,routeId:ve.route.id})};else if(fe=(await er("action",U,N,[ve],J,null))[ve.route.id],N.signal.aborted)return{shortCircuited:!0};if(zs(fe)){let ae;return ge&&ge.replace!=null?ae=ge.replace:ae=Og(fe.response.headers.get("Location"),new URL(N.url),d)===U.location.pathname+U.location.search,await qt(N,fe,!0,{submission:K,replace:ae}),{shortCircuited:!0}}if(Un(fe)){let ae=Us(J,ve.route.id);return(ge&&ge.replace)!==!0&&(ce="PUSH"),{matches:J,pendingActionResult:[ae.route.id,fe]}}return{matches:J,pendingActionResult:[ve.route.id,fe]}}async function Ti(N,z,K,J,de,ge,Re,fe,ve,ae,ke){let Ue=de||_d(z,ge),it=ge||Re||jg(Ue),St=!j&&!ve;if(J){if(St){let pt=Ii(ke);Fe({navigation:Ue,...pt!==void 0?{actionData:pt}:{}},{flushSync:ae})}let Ye=await pn(K,z.pathname,N.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let pt=Us(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[pt]:Ye.error}}}else if(Ye.matches)K=Ye.matches;else{let{error:pt,notFoundMatches:Kt,route:or}=tr(z.pathname);return{matches:Kt,loaderData:{},errors:{[or.id]:pt}}}}let qe=h||l,[tt,st]=Dg(n.history,U,K,it,z,ve===!0,P,ht,Y,he,Ee,qe,d,ke);if(Qe=++Ct,tt.length===0&&st.length===0){let Ye=Sr();return ft(z,{matches:K,loaderData:{},errors:ke&&Un(ke[1])?{[ke[0]]:ke[1].error}:null,...Fg(ke),...Ye?{fetchers:new Map(U.fetchers)}:{}},{flushSync:ae}),{shortCircuited:!0}}if(St){let Ye={};if(!J){Ye.navigation=Ue;let pt=Ii(ke);pt!==void 0&&(Ye.actionData=pt)}st.length>0&&(Ye.fetchers=gs(st)),Fe(Ye,{flushSync:ae})}st.forEach(Ye=>{$t(Ye.key),Ye.controller&&Ge.set(Ye.key,Ye.controller)});let rr=()=>st.forEach(Ye=>$t(Ye.key));T&&T.signal.addEventListener("abort",rr);let{loaderResults:ir,fetcherResults:rn}=await $r(U,K,tt,st,N);if(N.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",rr),st.forEach(Ye=>Ge.delete(Ye.key));let Wt=xu(ir);if(Wt)return await qt(N,Wt.result,!0,{replace:fe}),{shortCircuited:!0};if(Wt=xu(rn),Wt)return Ee.add(Wt.key),await qt(N,Wt.result,!0,{replace:fe}),{shortCircuited:!0};let{loaderData:Gr,errors:Cr}=Mg(U,K,ir,ke,st,rn);ve&&U.errors&&(Cr={...U.errors,...Cr});let sr=Sr(),ot=Si(Qe),Qr=sr||ot||st.length>0;return{matches:K,loaderData:Gr,errors:Cr,...Qr?{fetchers:new Map(U.fetchers)}:{}}}function Ii(N){if(N&&!Un(N[1]))return{[N[0]]:N[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function gs(N){return N.forEach(z=>{let K=U.fetchers.get(z.key),J=ja(void 0,K?K.data:void 0);U.fetchers.set(z.key,J)}),new Map(U.fetchers)}async function eo(N,z,K,J){$t(N);let de=(J&&J.flushSync)===!0,ge=h||l,Re=Ld(U.location,U.matches,d,K,z,J==null?void 0:J.relative),fe=Zi(ge,Re,d),ve=nr(fe,ge,Re);if(ve.active&&ve.matches&&(fe=ve.matches),!fe){lt(N,z,Qn(404,{pathname:Re}),{flushSync:de});return}let{path:ae,submission:ke,error:Ue}=kg(!0,Re,J);if(Ue){lt(N,z,Ue,{flushSync:de});return}let it=Ha(fe,ae),St=(J&&J.preventScrollReset)===!0;if(ke&&vr(ke.formMethod)){await Ai(N,z,ae,it,fe,ve.active,de,St,ke);return}he.set(N,{routeId:z,path:ae}),await Zn(N,z,ae,it,fe,ve.active,de,St,ke)}async function Ai(N,z,K,J,de,ge,Re,fe,ve){Ir(),he.delete(N);function ae(mt){if(!mt.route.action&&!mt.route.lazy){let En=Qn(405,{method:ve.formMethod,pathname:K,routeId:z});return lt(N,z,En,{flushSync:Re}),!0}return!1}if(!ge&&ae(J))return;let ke=U.fetchers.get(N);_n(N,FE(ve,ke),{flushSync:Re});let Ue=new AbortController,it=Mo(n.history,K,Ue.signal,ve);if(ge){let mt=await pn(de,K,it.signal);if(mt.type==="aborted")return;if(mt.type==="error"){lt(N,z,mt.error,{flushSync:Re});return}else if(mt.matches){if(de=mt.matches,J=Ha(de,K),ae(J))return}else{lt(N,z,Qn(404,{pathname:K}),{flushSync:Re});return}}Ge.set(N,Ue);let St=Ct,tt=(await er("action",U,it,[J],de,N))[J.route.id];if(it.signal.aborted){Ge.get(N)===Ue&&Ge.delete(N);return}if(Y.has(N)){if(zs(tt)||Un(tt)){_n(N,Ji(void 0));return}}else{if(zs(tt))if(Ge.delete(N),Qe>St){_n(N,Ji(void 0));return}else return Ee.add(N),_n(N,ja(ve)),qt(it,tt,!1,{fetcherSubmission:ve,preventScrollReset:fe});if(Un(tt)){lt(N,z,tt.error);return}}let st=U.navigation.location||U.location,rr=Mo(n.history,st,Ue.signal),ir=h||l,rn=U.navigation.state!=="idle"?Zi(ir,U.navigation.location,d):U.matches;Ke(rn,"Didn't find any matches after fetcher action");let Wt=++Ct;oe.set(N,Wt);let Gr=ja(ve,tt.data);U.fetchers.set(N,Gr);let[Cr,sr]=Dg(n.history,U,rn,ve,st,!1,P,ht,Y,he,Ee,ir,d,[J.route.id,tt]);sr.filter(mt=>mt.key!==N).forEach(mt=>{let En=mt.key,sn=U.fetchers.get(En),to=ja(void 0,sn?sn.data:void 0);U.fetchers.set(En,to),$t(En),mt.controller&&Ge.set(En,mt.controller)}),Fe({fetchers:new Map(U.fetchers)});let ot=()=>sr.forEach(mt=>$t(mt.key));Ue.signal.addEventListener("abort",ot);let{loaderResults:Qr,fetcherResults:Ye}=await $r(U,rn,Cr,sr,rr);if(Ue.signal.aborted)return;Ue.signal.removeEventListener("abort",ot),oe.delete(N),Ge.delete(N),sr.forEach(mt=>Ge.delete(mt.key));let pt=xu(Qr);if(pt)return qt(rr,pt.result,!1,{preventScrollReset:fe});if(pt=xu(Ye),pt)return Ee.add(pt.key),qt(rr,pt.result,!1,{preventScrollReset:fe});let{loaderData:Kt,errors:or}=Mg(U,rn,Qr,void 0,sr,Ye);if(U.fetchers.has(N)){let mt=Ji(tt.data);U.fetchers.set(N,mt)}Si(Wt),U.navigation.state==="loading"&&Wt>Qe?(Ke(ce,"Expected pending action"),T&&T.abort(),ft(U.navigation.location,{matches:rn,loaderData:Kt,errors:or,fetchers:new Map(U.fetchers)})):(Fe({errors:or,loaderData:bg(U.loaderData,Kt,rn,or),fetchers:new Map(U.fetchers)}),P=!1)}async function Zn(N,z,K,J,de,ge,Re,fe,ve){let ae=U.fetchers.get(N);_n(N,ja(ve,ae?ae.data:void 0),{flushSync:Re});let ke=new AbortController,Ue=Mo(n.history,K,ke.signal);if(ge){let tt=await pn(de,K,Ue.signal);if(tt.type==="aborted")return;if(tt.type==="error"){lt(N,z,tt.error,{flushSync:Re});return}else if(tt.matches)de=tt.matches,J=Ha(de,K);else{lt(N,z,Qn(404,{pathname:K}),{flushSync:Re});return}}Ge.set(N,ke);let it=Ct,qe=(await er("loader",U,Ue,[J],de,N))[J.route.id];if(Ge.get(N)===ke&&Ge.delete(N),!Ue.signal.aborted){if(Y.has(N)){_n(N,Ji(void 0));return}if(zs(qe))if(Qe>it){_n(N,Ji(void 0));return}else{Ee.add(N),await qt(Ue,qe,!1,{preventScrollReset:fe});return}if(Un(qe)){lt(N,z,qe.error);return}_n(N,Ji(qe.data))}}async function qt(N,z,K,{submission:J,fetcherSubmission:de,preventScrollReset:ge,replace:Re}={}){z.response.headers.has("X-Remix-Revalidate")&&(P=!0);let fe=z.response.headers.get("Location");Ke(fe,"Expected a Location header on the redirect Response"),fe=Og(fe,new URL(N.url),d);let ve=Ja(U.location,fe,{_isRedirect:!0});if(t){let qe=!1;if(z.response.headers.has("X-Remix-Reload-Document"))qe=!0;else if(uf.test(fe)){const tt=n.history.createURL(fe);qe=tt.origin!==e.location.origin||Er(tt.pathname,d)==null}if(qe){Re?e.location.replace(fe):e.location.assign(fe);return}}T=null;let ae=Re===!0||z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Ue,formEncType:it}=U.navigation;!J&&!de&&ke&&Ue&&it&&(J=jg(U.navigation));let St=J||de;if(wE.has(z.response.status)&&St&&vr(St.formMethod))await nn(ae,ve,{submission:{...St,formAction:fe},preventScrollReset:ge||k,enableViewTransition:K?R:void 0});else{let qe=_d(ve,J);await nn(ae,ve,{overrideNavigation:qe,fetcherSubmission:de,preventScrollReset:ge||k,enableViewTransition:K?R:void 0})}}async function er(N,z,K,J,de,ge){let Re,fe={};try{Re=await kE(p,N,z,K,J,de,ge,o,i)}catch(ve){return J.forEach(ae=>{fe[ae.route.id]={type:"error",error:ve}}),fe}for(let[ve,ae]of Object.entries(Re))if(VE(ae)){let ke=ae.result;fe[ve]={type:"redirect",response:NE(ke,K,ve,de,d)}}else fe[ve]=await DE(ae);return fe}async function $r(N,z,K,J,de){let ge=er("loader",N,de,K,z,null),Re=Promise.all(J.map(async ae=>{if(ae.matches&&ae.match&&ae.controller){let Ue=(await er("loader",N,Mo(n.history,ae.path,ae.controller.signal),[ae.match],ae.matches,ae.key))[ae.match.route.id];return{[ae.key]:Ue}}else return Promise.resolve({[ae.key]:{type:"error",error:Qn(404,{pathname:ae.path})}})})),fe=await ge,ve=(await Re).reduce((ae,ke)=>Object.assign(ae,ke),{});return{loaderResults:fe,fetcherResults:ve}}function Ir(){P=!0,he.forEach((N,z)=>{Ge.has(z)&&ht.add(z),$t(z)})}function _n(N,z,K={}){U.fetchers.set(N,z),Fe({fetchers:new Map(U.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function lt(N,z,K,J={}){let de=Us(U.matches,z);Dn(N),Fe({errors:{[de.route.id]:K},fetchers:new Map(U.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function At(N){return F.set(N,(F.get(N)||0)+1),Y.has(N)&&Y.delete(N),U.fetchers.get(N)||EE}function Dn(N){let z=U.fetchers.get(N);Ge.has(N)&&!(z&&z.state==="loading"&&oe.has(N))&&$t(N),he.delete(N),oe.delete(N),Ee.delete(N),Y.delete(N),ht.delete(N),U.fetchers.delete(N)}function ys(N){let z=(F.get(N)||0)-1;z<=0?(F.delete(N),Y.add(N)):F.set(N,z),Fe({fetchers:new Map(U.fetchers)})}function $t(N){let z=Ge.get(N);z&&(z.abort(),Ge.delete(N))}function Ar(N){for(let z of N){let K=At(z),J=Ji(K.data);U.fetchers.set(z,J)}}function Sr(){let N=[],z=!1;for(let K of Ee){let J=U.fetchers.get(K);Ke(J,`Expected fetcher: ${K}`),J.state==="loading"&&(Ee.delete(K),N.push(K),z=!0)}return Ar(N),z}function Si(N){let z=[];for(let[K,J]of oe)if(J<N){let de=U.fetchers.get(K);Ke(de,`Expected fetcher: ${K}`),de.state==="loading"&&($t(K),oe.delete(K),z.push(K))}return Ar(z),z.length>0}function vs(N,z){let K=U.blockers.get(N)||za;return _e.get(N)!==z&&_e.set(N,z),K}function Ri(N){U.blockers.delete(N),_e.delete(N)}function Rr(N,z){let K=U.blockers.get(N)||za;Ke(K.state==="unblocked"&&z.state==="blocked"||K.state==="blocked"&&z.state==="blocked"||K.state==="blocked"&&z.state==="proceeding"||K.state==="blocked"&&z.state==="unblocked"||K.state==="proceeding"&&z.state==="unblocked",`Invalid blocker state transition: ${K.state} -> ${z.state}`);let J=new Map(U.blockers);J.set(N,z),Fe({blockers:J})}function Ci({currentLocation:N,nextLocation:z,historyAction:K}){if(_e.size===0)return;_e.size>1&&en(!1,"A router only supports one blocker at a time");let J=Array.from(_e.entries()),[de,ge]=J[J.length-1],Re=U.blockers.get(de);if(!(Re&&Re.state==="proceeding")&&ge({currentLocation:N,nextLocation:z,historyAction:K}))return de}function tr(N){let z=Qn(404,{pathname:N}),K=h||l,{matches:J,route:de}=Ug(K);return{notFoundMatches:J,route:de,error:z}}function Pi(N,z,K){if(S=N,M=z,L=K||null,!b&&U.navigation===vd){b=!0;let J=Nn(U.location,U.matches);J!=null&&Fe({restoreScrollPosition:J})}return()=>{S=null,M=null,L=null}}function Wr(N,z){return L&&L(N,z.map(J=>Jw(J,U.loaderData)))||N.key}function wn(N,z){if(S&&M){let K=Wr(N,z);S[K]=M()}}function Nn(N,z){if(S){let K=Wr(N,z),J=S[K];if(typeof J=="number")return J}return null}function nr(N,z,K){if(y)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:zu(z,K,d,!0)}}else return{active:!0,matches:zu(z,K,d,!0)||[]};return{active:!1,matches:null}}async function pn(N,z,K){if(!y)return{type:"success",matches:N};let J=N;for(;;){let de=h==null,ge=h||l,Re=o;try{await y({path:z,matches:J,patch:(ae,ke)=>{K.aborted||Lg(ae,ke,ge,Re,i)}})}catch(ae){return{type:"error",error:ae,partialMatches:J}}finally{de&&!K.aborted&&(l=[...l])}if(K.aborted)return{type:"aborted"};let fe=Zi(ge,z,d);if(fe)return{type:"success",matches:fe};let ve=zu(ge,z,d,!0);if(!ve||J.length===ve.length&&J.every((ae,ke)=>ae.route.id===ve[ke].route.id))return{type:"success",matches:null};J=ve}}function _s(N){o={},h=ec(N,i,void 0,o)}function Kr(N,z){let K=h==null;Lg(N,z,h||l,o,i),K&&(l=[...l],Fe({}))}return le={get basename(){return d},get future(){return w},get state(){return U},get routes(){return l},get window(){return e},initialize:je,subscribe:et,enableScrollRestoration:Pi,navigate:zn,fetch:eo,revalidate:Ei,createHref:N=>n.history.createHref(N),encodeLocation:N=>n.history.encodeLocation(N),getFetcher:At,deleteFetcher:ys,dispose:Ze,getBlocker:vs,deleteBlocker:Ri,patchRoutes:Kr,_internalFetchControllers:Ge,_internalSetRoutes:_s},le}function AE(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Ld(n,e,t,i,o,l){let h,d;if(o){h=[];for(let y of e)if(h.push(y),y.route.id===o){d=y;break}}else h=e,d=e[e.length-1];let p=lf(i||".",af(h),Er(n.pathname,t)||n.pathname,l==="path");if(i==null&&(p.search=n.search,p.hash=n.hash),(i==null||i===""||i===".")&&d){let y=cf(p.search);if(d.route.index&&!y)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&y){let w=new URLSearchParams(p.search),I=w.getAll("index");w.delete("index"),I.filter(S=>S).forEach(S=>w.append("index",S));let A=w.toString();p.search=A?`?${A}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:br([t,p.pathname])),us(p)}function kg(n,e,t){if(!t||!AE(t))return{path:e};if(t.formMethod&&!ME(t.formMethod))return{path:e,error:Qn(405,{method:t.formMethod})};let i=()=>({path:e,error:Qn(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),h=gv(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!vr(l))return i();let I=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((A,[S,L])=>`${A}${S}=${L}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:h,formEncType:t.formEncType,formData:void 0,json:void 0,text:I}}}else if(t.formEncType==="application/json"){if(!vr(l))return i();try{let I=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:h,formEncType:t.formEncType,formData:void 0,json:I,text:void 0}}}catch{return i()}}}Ke(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=Vd(t.formData),p=t.formData;else if(t.body instanceof FormData)d=Vd(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=Vg(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=Vg(d)}catch{return i()}let y={formMethod:l,formAction:h,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(vr(y.formMethod))return{path:e,submission:y};let w=ms(e);return n&&w.search&&cf(w.search)&&d.append("index",""),w.search=`?${d}`,{path:us(w),submission:y}}function xg(n,e,t=!1){let i=n.findIndex(o=>o.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function Dg(n,e,t,i,o,l,h,d,p,y,w,I,A,S){let L=S?Un(S[1])?S[1].error:S[1].data:void 0,M=n.createURL(e.location),b=n.createURL(o),$=t;l&&e.errors?$=xg(t,Object.keys(e.errors)[0],!0):S&&Un(S[1])&&($=xg(t,S[0]));let X=S?S[1].statusCode:void 0,ee=X&&X>=400,le=$.filter((ce,k)=>{let{route:T}=ce;if(T.lazy)return!0;if(T.loader==null)return!1;if(l)return Od(T,e.loaderData,e.errors);if(SE(e.loaderData,e.matches[k],ce))return!0;let R=e.matches[k],x=ce;return Ng(ce,{currentUrl:M,currentParams:R.params,nextUrl:b,nextParams:x.params,...i,actionResult:L,actionStatus:X,defaultShouldRevalidate:ee?!1:h||M.pathname+M.search===b.pathname+b.search||M.search!==b.search||RE(R,x)})}),U=[];return y.forEach((ce,k)=>{if(l||!t.some(j=>j.route.id===ce.routeId)||p.has(k))return;let T=Zi(I,ce.path,A);if(!T){U.push({key:k,routeId:ce.routeId,path:ce.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(k),x=Ha(T,ce.path),O=!1;w.has(k)?O=!1:d.has(k)?(d.delete(k),O=!0):R&&R.state!=="idle"&&R.data===void 0?O=h:O=Ng(x,{currentUrl:M,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:t[t.length-1].params,...i,actionResult:L,actionStatus:X,defaultShouldRevalidate:ee?!1:h}),O&&U.push({key:k,routeId:ce.routeId,path:ce.path,matches:T,match:x,controller:new AbortController})}),[le,U]}function Od(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function SE(n,e,t){let i=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return i||o}function RE(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Ng(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Lg(n,e,t,i,o){let l;if(n){let p=i[n];Ke(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let h=e.filter(p=>!l.some(y=>mv(p,y))),d=ec(h,o,[n||"_","patch",String((l==null?void 0:l.length)||"0")],i);l.push(...d)}function mv(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(l=>mv(t,l))}):!1}async function CE(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];Ke(o,"No route found in manifest");let l={};for(let h in i){let p=o[h]!==void 0&&h!=="hasErrorBoundary";en(!p,`Route "${o.id}" has a static property "${h}" defined but its lazy function is also returning a value for this property. The lazy route property "${h}" will be ignored.`),!p&&!Yw.has(h)&&(l[h]=i[h])}Object.assign(o,l),Object.assign(o,{...e(o),lazy:void 0})}async function PE({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,o,l)=>Object.assign(i,{[e[l].route.id]:o}),{})}async function kE(n,e,t,i,o,l,h,d,p,y){let w=l.map(S=>S.route.lazy?CE(S.route,p,d):void 0),I=l.map((S,L)=>{let M=w[L],b=o.some(X=>X.route.id===S.route.id);return{...S,shouldLoad:b,resolve:async X=>(X&&i.method==="GET"&&(S.route.lazy||S.route.loader)&&(b=!0),b?xE(e,i,S,M,X,y):Promise.resolve({type:"data",result:void 0}))}}),A=await n({matches:I,request:i,params:l[0].params,fetcherKey:h,context:y});try{await Promise.all(w)}catch{}return A}async function xE(n,e,t,i,o,l){let h,d,p=y=>{let w,I=new Promise((L,M)=>w=M);d=()=>w(),e.signal.addEventListener("abort",d);let A=L=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):y({request:e,params:t.params,context:l},...L!==void 0?[L]:[]),S=(async()=>{try{return{type:"data",result:await(o?o(M=>A(M)):A())}}catch(L){return{type:"error",result:L}}})();return Promise.race([S,I])};try{let y=t.route[n];if(i)if(y){let w,[I]=await Promise.all([p(y).catch(A=>{w=A}),i]);if(w!==void 0)throw w;h=I}else if(await i,y=t.route[n],y)h=await p(y);else if(n==="action"){let w=new URL(e.url),I=w.pathname+w.search;throw Qn(405,{method:e.method,pathname:I,routeId:t.route.id})}else return{type:"data",result:void 0};else if(y)h=await p(y);else{let w=new URL(e.url),I=w.pathname+w.search;throw Qn(404,{pathname:I})}}catch(y){return{type:"error",result:y}}finally{d&&e.signal.removeEventListener("abort",d)}return h}async function DE(n){var i,o,l,h;let{result:e,type:t}=n;if(yv(e)){let d;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new nc(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(t==="error"){if(zg(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new nc(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Ec(e)?e.status:void 0}}return zg(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function NE(n,e,t,i,o){let l=n.headers.get("Location");if(Ke(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!uf.test(l)){let h=i.slice(0,i.findIndex(d=>d.route.id===t)+1);l=Ld(new URL(e.url),h,o,l),n.headers.set("Location",l)}return n}function Og(n,e,t){if(uf.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=Er(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return n}function Mo(n,e,t,i){let o=n.createURL(gv(e)).toString(),l={signal:t};if(i&&vr(i.formMethod)){let{formMethod:h,formEncType:d}=i;l.method=h.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(i.json)):d==="text/plain"?l.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?l.body=Vd(i.formData):l.body=i.formData}return new Request(o,l)}function Vd(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function Vg(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function LE(n,e,t,i=!1,o=!1){let l={},h=null,d,p=!1,y={},w=t&&Un(t[1])?t[1].error:void 0;return n.forEach(I=>{if(!(I.route.id in e))return;let A=I.route.id,S=e[A];if(Ke(!zs(S),"Cannot handle redirect results in processLoaderData"),Un(S)){let L=S.error;if(w!==void 0&&(L=w,w=void 0),h=h||{},o)h[A]=L;else{let M=Us(n,A);h[M.route.id]==null&&(h[M.route.id]=L)}i||(l[A]=pv),p||(p=!0,d=Ec(S.error)?S.error.status:500),S.headers&&(y[A]=S.headers)}else l[A]=S.data,S.statusCode&&S.statusCode!==200&&!p&&(d=S.statusCode),S.headers&&(y[A]=S.headers)}),w!==void 0&&t&&(h={[t[0]]:w},l[t[0]]=void 0),{loaderData:l,errors:h,statusCode:d||200,loaderHeaders:y}}function Mg(n,e,t,i,o,l){let{loaderData:h,errors:d}=LE(e,t,i);return o.forEach(p=>{let{key:y,match:w,controller:I}=p,A=l[y];if(Ke(A,"Did not find corresponding fetcher result"),!(I&&I.signal.aborted))if(Un(A)){let S=Us(n.matches,w==null?void 0:w.route.id);d&&d[S.route.id]||(d={...d,[S.route.id]:A.error}),n.fetchers.delete(y)}else if(zs(A))Ke(!1,"Unhandled fetcher revalidation redirect");else{let S=Ji(A.data);n.fetchers.set(y,S)}}),{loaderData:h,errors:d}}function bg(n,e,t,i){let o=Object.entries(e).filter(([,l])=>l!==pv).reduce((l,[h,d])=>(l[h]=d,l),{});for(let l of t){let h=l.route.id;if(!e.hasOwnProperty(h)&&n.hasOwnProperty(h)&&l.route.loader&&(o[h]=n[h]),i&&i.hasOwnProperty(h))break}return o}function Fg(n){return n?Un(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Us(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function Ug(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Qn(n,{pathname:e,routeId:t,method:i,type:o,message:l}={}){let h="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(h="Bad Request",i&&e&&t?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):n===403?(h="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(h="Not Found",d=`No route matches URL "${e}"`):n===405&&(h="Method Not Allowed",i&&e&&t?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new nc(n||500,h,new Error(d),!0)}function xu(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(zs(o))return{key:i,result:o}}}function gv(n){let e=typeof n=="string"?ms(n):n;return us({...e,hash:""})}function OE(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function VE(n){return yv(n.result)&&_E.has(n.result.status)}function Un(n){return n.type==="error"}function zs(n){return(n&&n.type)==="redirect"}function zg(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function yv(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function ME(n){return vE.has(n.toUpperCase())}function vr(n){return gE.has(n.toUpperCase())}function cf(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Ha(n,e){let t=typeof e=="string"?ms(e).search:e.search;if(n[n.length-1].route.index&&cf(t||""))return n[n.length-1];let i=hv(n);return i[i.length-1]}function jg(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:l,json:h}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:h,text:void 0}}}function _d(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function bE(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ja(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function FE(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ji(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function UE(n,e){try{let t=n.sessionStorage.getItem(fv);if(t){let i=JSON.parse(t);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function zE(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(fv,JSON.stringify(t))}catch(i){en(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function jE(){let n,e,t=new Promise((i,o)=>{n=async l=>{i(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Gs=Q.createContext(null);Gs.displayName="DataRouter";var ll=Q.createContext(null);ll.displayName="DataRouterState";var hf=Q.createContext({isTransitioning:!1});hf.displayName="ViewTransition";var vv=Q.createContext(new Map);vv.displayName="Fetchers";var BE=Q.createContext(null);BE.displayName="Await";var Hr=Q.createContext(null);Hr.displayName="Navigation";var Tc=Q.createContext(null);Tc.displayName="Location";var _i=Q.createContext({outlet:null,matches:[],isDataRoute:!1});_i.displayName="Route";var df=Q.createContext(null);df.displayName="RouteError";function HE(n,{relative:e}={}){Ke(ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=Q.useContext(Hr),{hash:o,pathname:l,search:h}=cl(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:br([t,l])),i.createHref({pathname:d,search:h,hash:o})}function ul(){return Q.useContext(Tc)!=null}function Qs(){return Ke(ul(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Tc).location}var _v="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wv(n){Q.useContext(Hr).static||Q.useLayoutEffect(n)}function qE(){let{isDataRoute:n}=Q.useContext(_i);return n?rT():$E()}function $E(){Ke(ul(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(Gs),{basename:e,navigator:t}=Q.useContext(Hr),{matches:i}=Q.useContext(_i),{pathname:o}=Qs(),l=JSON.stringify(af(i)),h=Q.useRef(!1);return wv(()=>{h.current=!0}),Q.useCallback((p,y={})=>{if(en(h.current,_v),!h.current)return;if(typeof p=="number"){t.go(p);return}let w=lf(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:br([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,l,o,n])}Q.createContext(null);function cl(n,{relative:e}={}){let{matches:t}=Q.useContext(_i),{pathname:i}=Qs(),o=JSON.stringify(af(t));return Q.useMemo(()=>lf(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function WE(n,e,t,i){Ke(ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(Hr),{matches:l}=Q.useContext(_i),h=l[l.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",w=h&&h.route;{let $=w&&w.path||"";Ev(p,!w||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let I=Qs(),A;A=I;let S=A.pathname||"/",L=S;if(y!=="/"){let $=y.replace(/^\//,"").split("/");L="/"+S.replace(/^\//,"").split("/").slice($.length).join("/")}let M=Zi(n,{pathname:L});return en(w||M!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),en(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),XE(M&&M.map($=>Object.assign({},$,{params:Object.assign({},d,$.params),pathname:br([y,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:br([y,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),l,t,i)}function KE(){let n=nT(),e=Ec(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:l},"ErrorBoundary")," or"," ",Q.createElement("code",{style:l},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:o},t):null,h)}var GE=Q.createElement(KE,null),QE=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Q.createElement(_i.Provider,{value:this.props.routeContext},Q.createElement(df.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YE({routeContext:n,match:e,children:t}){let i=Q.useContext(Gs);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(_i.Provider,{value:n},t)}function XE(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);Ke(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:w,errors:I}=t,A=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!I||I[y.route.id]===void 0);if(y.route.lazy||A){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,y,w)=>{let I,A=!1,S=null,L=null;t&&(I=l&&y.route.id?l[y.route.id]:void 0,S=y.route.errorElement||GE,h&&(d<0&&w===0?(Ev("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,L=null):d===w&&(A=!0,L=y.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,w+1)),b=()=>{let $;return I?$=S:A?$=L:y.route.Component?$=Q.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=p,Q.createElement(YE,{match:y,routeContext:{outlet:p,matches:M,isDataRoute:t!=null},children:$})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?Q.createElement(QE,{location:t.location,revalidation:t.revalidation,component:S,error:I,children:b(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):b()},null)}function ff(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JE(n){let e=Q.useContext(Gs);return Ke(e,ff(n)),e}function ZE(n){let e=Q.useContext(ll);return Ke(e,ff(n)),e}function eT(n){let e=Q.useContext(_i);return Ke(e,ff(n)),e}function pf(n){let e=eT(n),t=e.matches[e.matches.length-1];return Ke(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function tT(){return pf("useRouteId")}function nT(){var i;let n=Q.useContext(df),e=ZE("useRouteError"),t=pf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function rT(){let{router:n}=JE("useNavigate"),e=pf("useNavigate"),t=Q.useRef(!1);return wv(()=>{t.current=!0}),Q.useCallback(async(o,l={})=>{en(t.current,_v),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var Bg={};function Ev(n,e,t){!e&&!Bg[n]&&(Bg[n]=!0,en(!1,t))}var Hg={};function qg(n,e){!n&&!Hg[e]&&(Hg[e]=!0,console.warn(e))}function iT(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&en(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:Q.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&en(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:Q.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&en(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:Q.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var sT=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function oT({router:n,flushSync:e}){let[t,i]=Q.useState(n.state),[o,l]=Q.useState(),[h,d]=Q.useState({isTransitioning:!1}),[p,y]=Q.useState(),[w,I]=Q.useState(),[A,S]=Q.useState(),L=Q.useRef(new Map),M=Q.useCallback((ee,{deletedFetchers:le,flushSync:U,viewTransitionOpts:ce})=>{le.forEach(T=>L.current.delete(T)),ee.fetchers.forEach((T,R)=>{T.data!==void 0&&L.current.set(R,T.data)}),qg(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(qg(ce==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ce||!k){e&&U?e(()=>i(ee)):Q.startTransition(()=>i(ee));return}if(e&&U){e(()=>{w&&(p&&p.resolve(),w.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let T=n.window.document.startViewTransition(()=>{e(()=>i(ee))});T.finished.finally(()=>{e(()=>{y(void 0),I(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>I(T));return}w?(p&&p.resolve(),w.skipTransition(),S({state:ee,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(l(ee),d({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[n.window,e,w,p]);Q.useLayoutEffect(()=>n.subscribe(M),[n,M]),Q.useEffect(()=>{h.isTransitioning&&!h.flushSync&&y(new sT)},[h]),Q.useEffect(()=>{if(p&&o&&n.window){let ee=o,le=p.promise,U=n.window.document.startViewTransition(async()=>{Q.startTransition(()=>i(ee)),await le});U.finished.finally(()=>{y(void 0),I(void 0),l(void 0),d({isTransitioning:!1})}),I(U)}},[o,p,n.window]),Q.useEffect(()=>{p&&o&&t.location.key===o.location.key&&p.resolve()},[p,w,t.location,o]),Q.useEffect(()=>{!h.isTransitioning&&A&&(l(A.state),d({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),S(void 0))},[h.isTransitioning,A]);let b=Q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:ee=>n.navigate(ee),push:(ee,le,U)=>n.navigate(ee,{state:le,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(ee,le,U)=>n.navigate(ee,{replace:!0,state:le,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[n]),$=n.basename||"/",X=Q.useMemo(()=>({router:n,navigator:b,static:!1,basename:$}),[n,b,$]);return Q.createElement(Q.Fragment,null,Q.createElement(Gs.Provider,{value:X},Q.createElement(ll.Provider,{value:t},Q.createElement(vv.Provider,{value:L.current},Q.createElement(hf.Provider,{value:h},Q.createElement(uT,{basename:$,location:t.location,navigationType:t.historyAction,navigator:b},Q.createElement(aT,{routes:n.routes,future:n.future,state:t})))))),null)}var aT=Q.memo(lT);function lT({routes:n,future:e,state:t}){return WE(n,void 0,t,e)}function uT({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){Ke(!ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=Q.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=ms(t));let{pathname:p="/",search:y="",hash:w="",state:I=null,key:A="default"}=t,S=Q.useMemo(()=>{let L=Er(p,h);return L==null?null:{location:{pathname:L,search:y,hash:w,state:I,key:A},navigationType:i}},[h,p,y,w,I,A,i]);return en(S!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:Q.createElement(Hr.Provider,{value:d},Q.createElement(Tc.Provider,{children:e,value:S}))}var ju="get",Bu="application/x-www-form-urlencoded";function Ic(n){return n!=null&&typeof n.tagName=="string"}function cT(n){return Ic(n)&&n.tagName.toLowerCase()==="button"}function hT(n){return Ic(n)&&n.tagName.toLowerCase()==="form"}function dT(n){return Ic(n)&&n.tagName.toLowerCase()==="input"}function fT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function pT(n,e){return n.button===0&&(!e||e==="_self")&&!fT(n)}var Du=null;function mT(){if(Du===null)try{new FormData(document.createElement("form"),0),Du=!1}catch{Du=!0}return Du}var gT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wd(n){return n!=null&&!gT.has(n)?(en(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bu}"`),null):n}function yT(n,e){let t,i,o,l,h;if(hT(n)){let d=n.getAttribute("action");i=d?Er(d,e):null,t=n.getAttribute("method")||ju,o=wd(n.getAttribute("enctype"))||Bu,l=new FormData(n)}else if(cT(n)||dT(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Er(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||ju,o=wd(n.getAttribute("formenctype"))||wd(d.getAttribute("enctype"))||Bu,l=new FormData(d,n),!mT()){let{name:y,type:w,value:I}=n;if(w==="image"){let A=y?`${y}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else y&&l.append(y,I)}}else{if(Ic(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ju,i=null,o=Bu,h=n}return l&&o==="text/plain"&&(h=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:h}}function mf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function vT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _T(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function wT(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await vT(l,t);return h.links?h.links():[]}return[]}));return AT(i.flat(1).filter(_T).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $g(n,e,t,i,o,l){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,d=(p,y)=>{var w;return t[y].pathname!==p.pathname||((w=t[y].route.path)==null?void 0:w.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>h(p,y)||d(p,y)):l==="data"?e.filter((p,y)=>{var I;let w=i.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(h(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function ET(n,e){return TT(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function TT(n){return[...new Set(n)]}function IT(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function AT(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(IT(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function ST(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function RT(){let n=Q.useContext(Gs);return mf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function CT(){let n=Q.useContext(ll);return mf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var gf=Q.createContext(void 0);gf.displayName="FrameworkContext";function Tv(){let n=Q.useContext(gf);return mf(n,"You must render this element inside a <HydratedRouter> element"),n}function PT(n,e){let t=Q.useContext(gf),[i,o]=Q.useState(!1),[l,h]=Q.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:w,onTouchStart:I}=e,A=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let M=$=>{$.forEach(X=>{h(X.isIntersecting)})},b=new IntersectionObserver(M,{threshold:.5});return A.current&&b.observe(A.current),()=>{b.disconnect()}}},[n]),Q.useEffect(()=>{if(i){let M=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(M)}}},[i]);let S=()=>{o(!0)},L=()=>{o(!1),h(!1)};return t?n!=="intent"?[l,A,{}]:[l,A,{onFocus:Ba(d,S),onBlur:Ba(p,L),onMouseEnter:Ba(y,S),onMouseLeave:Ba(w,L),onTouchStart:Ba(I,S)}]:[!1,A,{}]}function Ba(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function kT({page:n,...e}){let{router:t}=RT(),i=Q.useMemo(()=>Zi(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?Q.createElement(DT,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function xT(n){let{manifest:e,routeModules:t}=Tv(),[i,o]=Q.useState([]);return Q.useEffect(()=>{let l=!1;return wT(n,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[n,e,t]),i}function DT({page:n,matches:e,...t}){let i=Qs(),{manifest:o,routeModules:l}=Tv(),{loaderData:h,matches:d}=CT(),p=Q.useMemo(()=>$g(n,e,d,o,i,"data"),[n,e,d,o,i]),y=Q.useMemo(()=>$g(n,e,d,o,i,"assets"),[n,e,d,o,i]),w=Q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let S=new Set,L=!1;if(e.forEach(b=>{var X;let $=o.routes[b.route.id];!$||!$.hasLoader||(!p.some(ee=>ee.route.id===b.route.id)&&b.route.id in h&&((X=l[b.route.id])!=null&&X.shouldRevalidate)||$.hasClientLoader?L=!0:S.add(b.route.id))}),S.size===0)return[];let M=ST(n);return L&&S.size>0&&M.searchParams.set("_routes",e.filter(b=>S.has(b.route.id)).map(b=>b.route.id).join(",")),[M.pathname+M.search]},[h,i,o,p,e,n,l]),I=Q.useMemo(()=>ET(y,o),[y,o]),A=xT(y);return Q.createElement(Q.Fragment,null,w.map(S=>Q.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),I.map(S=>Q.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),A.map(({key:S,link:L})=>Q.createElement("link",{key:S,...L})))}function NT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Iv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Iv&&(window.__reactRouterVersion="7.0.2")}catch{}function LT(n,e){return IE({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:Kw({window:e==null?void 0:e.window}),hydrationData:OT(),routes:n,mapRouteProperties:iT,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function OT(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:VT(n.errors)}),n}function VT(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new nc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let h=new l(o.message);h.stack="",t[i]=h}catch{}}if(t[i]==null){let l=new Error(o.message);l.stack="",t[i]=l}}else t[i]=o;return t}var Av=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yf=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:h,state:d,target:p,to:y,preventScrollReset:w,viewTransition:I,...A},S){let{basename:L}=Q.useContext(Hr),M=typeof y=="string"&&Av.test(y),b,$=!1;if(typeof y=="string"&&M&&(b=y,Iv))try{let R=new URL(window.location.href),x=y.startsWith("//")?new URL(R.protocol+y):new URL(y),O=Er(x.pathname,L);x.origin===R.origin&&O!=null?y=O+x.search+x.hash:$=!0}catch{en(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=HE(y,{relative:o}),[ee,le,U]=PT(i,A),ce=UT(y,{replace:h,state:d,target:p,preventScrollReset:w,relative:o,viewTransition:I});function k(R){e&&e(R),R.defaultPrevented||ce(R)}let T=Q.createElement("a",{...A,...U,href:b||X,onClick:$||l?e:k,ref:NT(S,le),target:p,"data-discover":!M&&t==="render"?"true":void 0});return ee&&!M?Q.createElement(Q.Fragment,null,T,Q.createElement(kT,{page:X})):T});yf.displayName="Link";var MT=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:h,viewTransition:d,children:p,...y},w){let I=cl(h,{relative:y.relative}),A=Qs(),S=Q.useContext(ll),{navigator:L,basename:M}=Q.useContext(Hr),b=S!=null&&qT(I)&&d===!0,$=L.encodeLocation?L.encodeLocation(I).pathname:I.pathname,X=A.pathname,ee=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(X=X.toLowerCase(),ee=ee?ee.toLowerCase():null,$=$.toLowerCase()),ee&&M&&(ee=Er(ee,M)||ee);const le=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let U=X===$||!o&&X.startsWith($)&&X.charAt(le)==="/",ce=ee!=null&&(ee===$||!o&&ee.startsWith($)&&ee.charAt($.length)==="/"),k={isActive:U,isPending:ce,isTransitioning:b},T=U?e:void 0,R;typeof i=="function"?R=i(k):R=[i,U?"active":null,ce?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(k):l;return Q.createElement(yf,{...y,"aria-current":T,className:R,ref:w,style:x,to:h,viewTransition:d},typeof p=="function"?p(k):p)});MT.displayName="NavLink";var bT=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:h=ju,action:d,onSubmit:p,relative:y,preventScrollReset:w,viewTransition:I,...A},S)=>{let L=BT(),M=HT(d,{relative:y}),b=h.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&Av.test(d),X=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let le=ee.nativeEvent.submitter,U=(le==null?void 0:le.getAttribute("formmethod"))||h;L(le||ee.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:o,state:l,relative:y,preventScrollReset:w,viewTransition:I})};return Q.createElement("form",{ref:S,method:b,action:M,onSubmit:i?p:X,...A,"data-discover":!$&&n==="render"?"true":void 0})});bT.displayName="Form";function FT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sv(n){let e=Q.useContext(Gs);return Ke(e,FT(n)),e}function UT(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=qE(),p=Qs(),y=cl(n,{relative:l});return Q.useCallback(w=>{if(pT(w,e)){w.preventDefault();let I=t!==void 0?t:us(p)===us(y);d(n,{replace:I,state:i,preventScrollReset:o,relative:l,viewTransition:h})}},[p,d,y,t,i,e,n,o,l,h])}var zT=0,jT=()=>`__${String(++zT)}__`;function BT(){let{router:n}=Sv("useSubmit"),{basename:e}=Q.useContext(Hr),t=tT();return Q.useCallback(async(i,o={})=>{let{action:l,method:h,encType:d,formData:p,body:y}=yT(i,e);if(o.navigate===!1){let w=o.fetcherKey||jT();await n.fetch(w,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function HT(n,{relative:e}={}){let{basename:t}=Q.useContext(Hr),i=Q.useContext(_i);Ke(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...cl(n||".",{relative:e})},h=Qs();if(n==null){l.search=h.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(w=>w==="")){d.delete("index"),p.filter(I=>I).forEach(I=>d.append("index",I));let w=d.toString();l.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:br([t,l.pathname])),us(l)}function qT(n,e={}){let t=Q.useContext(hf);Ke(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Sv("useViewTransitionState"),o=cl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Er(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Er(t.nextLocation.pathname,i)||t.nextLocation.pathname;return tc(o.pathname,h)!=null||tc(o.pathname,l)!=null}new TextEncoder;var $T=lv();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function WT(n){return Q.createElement(oT,{flushSync:$T.flushSync,...n})}function KT(){return De.jsx("div",{className:"pageNotFound h-[100vh] w-[100vw] flex items-center justify-center",children:De.jsxs("div",{className:"backdrop-blur relative bg-[#212121] bg-opacity-70 min-h-[400px] h-[50%] aspect-square flex items-center justify-start flex-col rounded-[50px] ",children:[De.jsx("h1",{className:"mt-[15%] text-white font-bold text-5xl font-inria",children:"Page Not Found"}),De.jsx(yf,{to:"/",children:De.jsx("button",{className:"absolute left-1/2 top-3/4 transform -translate-x-1/2 -translate-y-[70%] bg-[#915472] min-w-[250px] px-3 py-5 rounded-[20px] text-2xl font-inria text-white",children:"Go to Home Page"})})]})})}var Wg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},GT=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],h=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Cv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],h=o+1<n.length,d=h?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,w=l>>2,I=(l&3)<<4|d>>4;let A=(d&15)<<2|y>>6,S=y&63;p||(S=64,h||(A=64)),i.push(t[w],t[I],t[A],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Rv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):GT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const I=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||y==null||I==null)throw new QT;const A=l<<2|d>>4;if(i.push(A),y!==64){const S=d<<4&240|y>>2;if(i.push(S),I!==64){const L=y<<6&192|I;i.push(L)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YT=function(n){const e=Rv(n);return Cv.encodeByteArray(e,!0)},rc=function(n){return YT(n).replace(/\./g,"")},Pv=function(n){try{return Cv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=()=>XT().__FIREBASE_DEFAULTS__,ZT=()=>{if(typeof process>"u"||typeof Wg>"u")return;const n=Wg.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},eI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Pv(n[1]);return e&&JSON.parse(e)},Ac=()=>{try{return JT()||ZT()||eI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kv=n=>{var e,t;return(t=(e=Ac())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},tI=n=>{const e=kv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},xv=()=>{var n;return(n=Ac())===null||n===void 0?void 0:n.config},Dv=n=>{var e;return(e=Ac())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rc(JSON.stringify(t)),rc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function sI(){var n;const e=(n=Ac())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uI(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function cI(){return!sI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hI(){try{return typeof indexedDB=="object"}catch{return!1}}function dI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="FirebaseError";class wi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=fI,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hl.prototype.create)}}class hl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?pI(l,i):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new wi(o,d,i)}}function pI(n,e){return n.replace(mI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const mI=/\{\$([^}]+)}/g;function gI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ic(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],h=e[o];if(Kg(l)&&Kg(h)){if(!ic(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Kg(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function yI(n,e){const t=new vI(n,e);return t.subscribe.bind(t)}class vI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");_I(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Ed),o.error===void 0&&(o.error=Ed),o.complete===void 0&&(o.complete=Ed);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _I(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ed(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(n){return n&&n._delegate?n._delegate:n}class $s{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new nI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TI(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:EI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EI(n){return n===Fs?void 0:n}function TI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const AI={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},SI=Be.INFO,RI={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},CI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=RI[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vf{constructor(e){this.name=e,this._logLevel=SI,this._logHandler=CI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const PI=(n,e)=>e.some(t=>n instanceof t);let Gg,Qg;function kI(){return Gg||(Gg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xI(){return Qg||(Qg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nv=new WeakMap,Md=new WeakMap,Lv=new WeakMap,Td=new WeakMap,_f=new WeakMap;function DI(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(is(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Nv.set(t,n)}).catch(()=>{}),_f.set(e,n),e}function NI(n){if(Md.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});Md.set(n,e)}let bd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Md.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Lv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return is(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LI(n){bd=n(bd)}function OI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Id(this),e,...t);return Lv.set(i,e.sort?e.sort():[e]),is(i)}:xI().includes(n)?function(...e){return n.apply(Id(this),e),is(Nv.get(this))}:function(...e){return is(n.apply(Id(this),e))}}function VI(n){return typeof n=="function"?OI(n):(n instanceof IDBTransaction&&NI(n),PI(n,kI())?new Proxy(n,bd):n)}function is(n){if(n instanceof IDBRequest)return DI(n);if(Td.has(n))return Td.get(n);const e=VI(n);return e!==n&&(Td.set(n,e),_f.set(e,n)),e}const Id=n=>_f.get(n);function MI(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(n,e),d=is(h);return i&&h.addEventListener("upgradeneeded",p=>{i(is(h.result),p.oldVersion,p.newVersion,is(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const bI=["get","getKey","getAll","getAllKeys","count"],FI=["put","add","delete","clear"],Ad=new Map;function Yg(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ad.get(e))return Ad.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=FI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||bI.includes(t)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return Ad.set(e,l),l}LI(n=>({...n,get:(e,t,i)=>Yg(e,t)||n.get(e,t,i),has:(e,t)=>!!Yg(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function zI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fd="@firebase/app",Xg="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new vf("@firebase/app"),jI="@firebase/app-compat",BI="@firebase/analytics-compat",HI="@firebase/analytics",qI="@firebase/app-check-compat",$I="@firebase/app-check",WI="@firebase/auth",KI="@firebase/auth-compat",GI="@firebase/database",QI="@firebase/data-connect",YI="@firebase/database-compat",XI="@firebase/functions",JI="@firebase/functions-compat",ZI="@firebase/installations",eA="@firebase/installations-compat",tA="@firebase/messaging",nA="@firebase/messaging-compat",rA="@firebase/performance",iA="@firebase/performance-compat",sA="@firebase/remote-config",oA="@firebase/remote-config-compat",aA="@firebase/storage",lA="@firebase/storage-compat",uA="@firebase/firestore",cA="@firebase/vertexai",hA="@firebase/firestore-compat",dA="firebase",fA="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="[DEFAULT]",pA={[Fd]:"fire-core",[jI]:"fire-core-compat",[HI]:"fire-analytics",[BI]:"fire-analytics-compat",[$I]:"fire-app-check",[qI]:"fire-app-check-compat",[WI]:"fire-auth",[KI]:"fire-auth-compat",[GI]:"fire-rtdb",[QI]:"fire-data-connect",[YI]:"fire-rtdb-compat",[XI]:"fire-fn",[JI]:"fire-fn-compat",[ZI]:"fire-iid",[eA]:"fire-iid-compat",[tA]:"fire-fcm",[nA]:"fire-fcm-compat",[rA]:"fire-perf",[iA]:"fire-perf-compat",[sA]:"fire-rc",[oA]:"fire-rc-compat",[aA]:"fire-gcs",[lA]:"fire-gcs-compat",[uA]:"fire-fst",[hA]:"fire-fst-compat",[cA]:"fire-vertex","fire-js":"fire-js",[dA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,mA=new Map,zd=new Map;function Jg(n,e){try{n.container.addComponent(e)}catch(t){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $o(n){const e=n.name;if(zd.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;zd.set(e,n);for(const t of sc.values())Jg(t,n);for(const t of mA.values())Jg(t,n);return!0}function wf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ci(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new hl("app","Firebase",gA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=fA;function Ov(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ud,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw ss.create("bad-app-name",{appName:String(o)});if(t||(t=xv()),!t)throw ss.create("no-options");const l=sc.get(o);if(l){if(ic(t,l.options)&&ic(i,l.config))return l;throw ss.create("duplicate-app",{appName:o})}const h=new II(o);for(const p of zd.values())h.addComponent(p);const d=new yA(t,i,h);return sc.set(o,d),d}function Vv(n=Ud){const e=sc.get(n);if(!e&&n===Ud&&xv())return Ov();if(!e)throw ss.create("no-app",{appName:n});return e}function os(n,e,t){var i;let o=(i=pA[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(d.join(" "));return}$o(new $s(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="firebase-heartbeat-database",_A=1,Za="firebase-heartbeat-store";let Sd=null;function Mv(){return Sd||(Sd=MI(vA,_A,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Za)}catch(t){console.warn(t)}}}}).catch(n=>{throw ss.create("idb-open",{originalErrorMessage:n.message})})),Sd}async function wA(n){try{const t=(await Mv()).transaction(Za),i=await t.objectStore(Za).get(bv(n));return await t.done,i}catch(e){if(e instanceof wi)mi.warn(e.message);else{const t=ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mi.warn(t.message)}}}async function Zg(n,e){try{const i=(await Mv()).transaction(Za,"readwrite");await i.objectStore(Za).put(e,bv(n)),await i.done}catch(t){if(t instanceof wi)mi.warn(t.message);else{const i=ss.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});mi.warn(i.message)}}}function bv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=1024,TA=30*24*60*60*1e3;class IA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new SA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ey();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=TA}),this._storage.overwrite(this._heartbeatsCache))}catch(i){mi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ey(),{heartbeatsToSend:i,unsentEntries:o}=AA(this._heartbeatsCache.heartbeats),l=rc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return mi.warn(t),""}}}function ey(){return new Date().toISOString().substring(0,10)}function AA(n,e=EA){const t=[];let i=n.slice();for(const o of n){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),ty(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),ty(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class SA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hI()?dI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await wA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ty(n){return rc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(n){$o(new $s("platform-logger",e=>new UI(e),"PRIVATE")),$o(new $s("heartbeat",e=>new IA(e),"PRIVATE")),os(Fd,Xg,n),os(Fd,Xg,"esm2017"),os("fire-js","")}RA("");var ny=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,Fv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function R(){}R.prototype=T.prototype,k.D=T.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(x,O,j){for(var P=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)P[ht-2]=arguments[ht];return T.prototype[O].apply(x,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,T,R){R||(R=0);var x=Array(16);if(typeof T=="string")for(var O=0;16>O;++O)x[O]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(O=0;16>O;++O)x[O]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=k.g[0],R=k.g[1],O=k.g[2];var j=k.g[3],P=T+(j^R&(O^j))+x[0]+3614090360&4294967295;T=R+(P<<7&4294967295|P>>>25),P=j+(O^T&(R^O))+x[1]+3905402710&4294967295,j=T+(P<<12&4294967295|P>>>20),P=O+(R^j&(T^R))+x[2]+606105819&4294967295,O=j+(P<<17&4294967295|P>>>15),P=R+(T^O&(j^T))+x[3]+3250441966&4294967295,R=O+(P<<22&4294967295|P>>>10),P=T+(j^R&(O^j))+x[4]+4118548399&4294967295,T=R+(P<<7&4294967295|P>>>25),P=j+(O^T&(R^O))+x[5]+1200080426&4294967295,j=T+(P<<12&4294967295|P>>>20),P=O+(R^j&(T^R))+x[6]+2821735955&4294967295,O=j+(P<<17&4294967295|P>>>15),P=R+(T^O&(j^T))+x[7]+4249261313&4294967295,R=O+(P<<22&4294967295|P>>>10),P=T+(j^R&(O^j))+x[8]+1770035416&4294967295,T=R+(P<<7&4294967295|P>>>25),P=j+(O^T&(R^O))+x[9]+2336552879&4294967295,j=T+(P<<12&4294967295|P>>>20),P=O+(R^j&(T^R))+x[10]+4294925233&4294967295,O=j+(P<<17&4294967295|P>>>15),P=R+(T^O&(j^T))+x[11]+2304563134&4294967295,R=O+(P<<22&4294967295|P>>>10),P=T+(j^R&(O^j))+x[12]+1804603682&4294967295,T=R+(P<<7&4294967295|P>>>25),P=j+(O^T&(R^O))+x[13]+4254626195&4294967295,j=T+(P<<12&4294967295|P>>>20),P=O+(R^j&(T^R))+x[14]+2792965006&4294967295,O=j+(P<<17&4294967295|P>>>15),P=R+(T^O&(j^T))+x[15]+1236535329&4294967295,R=O+(P<<22&4294967295|P>>>10),P=T+(O^j&(R^O))+x[1]+4129170786&4294967295,T=R+(P<<5&4294967295|P>>>27),P=j+(R^O&(T^R))+x[6]+3225465664&4294967295,j=T+(P<<9&4294967295|P>>>23),P=O+(T^R&(j^T))+x[11]+643717713&4294967295,O=j+(P<<14&4294967295|P>>>18),P=R+(j^T&(O^j))+x[0]+3921069994&4294967295,R=O+(P<<20&4294967295|P>>>12),P=T+(O^j&(R^O))+x[5]+3593408605&4294967295,T=R+(P<<5&4294967295|P>>>27),P=j+(R^O&(T^R))+x[10]+38016083&4294967295,j=T+(P<<9&4294967295|P>>>23),P=O+(T^R&(j^T))+x[15]+3634488961&4294967295,O=j+(P<<14&4294967295|P>>>18),P=R+(j^T&(O^j))+x[4]+3889429448&4294967295,R=O+(P<<20&4294967295|P>>>12),P=T+(O^j&(R^O))+x[9]+568446438&4294967295,T=R+(P<<5&4294967295|P>>>27),P=j+(R^O&(T^R))+x[14]+3275163606&4294967295,j=T+(P<<9&4294967295|P>>>23),P=O+(T^R&(j^T))+x[3]+4107603335&4294967295,O=j+(P<<14&4294967295|P>>>18),P=R+(j^T&(O^j))+x[8]+1163531501&4294967295,R=O+(P<<20&4294967295|P>>>12),P=T+(O^j&(R^O))+x[13]+2850285829&4294967295,T=R+(P<<5&4294967295|P>>>27),P=j+(R^O&(T^R))+x[2]+4243563512&4294967295,j=T+(P<<9&4294967295|P>>>23),P=O+(T^R&(j^T))+x[7]+1735328473&4294967295,O=j+(P<<14&4294967295|P>>>18),P=R+(j^T&(O^j))+x[12]+2368359562&4294967295,R=O+(P<<20&4294967295|P>>>12),P=T+(R^O^j)+x[5]+4294588738&4294967295,T=R+(P<<4&4294967295|P>>>28),P=j+(T^R^O)+x[8]+2272392833&4294967295,j=T+(P<<11&4294967295|P>>>21),P=O+(j^T^R)+x[11]+1839030562&4294967295,O=j+(P<<16&4294967295|P>>>16),P=R+(O^j^T)+x[14]+4259657740&4294967295,R=O+(P<<23&4294967295|P>>>9),P=T+(R^O^j)+x[1]+2763975236&4294967295,T=R+(P<<4&4294967295|P>>>28),P=j+(T^R^O)+x[4]+1272893353&4294967295,j=T+(P<<11&4294967295|P>>>21),P=O+(j^T^R)+x[7]+4139469664&4294967295,O=j+(P<<16&4294967295|P>>>16),P=R+(O^j^T)+x[10]+3200236656&4294967295,R=O+(P<<23&4294967295|P>>>9),P=T+(R^O^j)+x[13]+681279174&4294967295,T=R+(P<<4&4294967295|P>>>28),P=j+(T^R^O)+x[0]+3936430074&4294967295,j=T+(P<<11&4294967295|P>>>21),P=O+(j^T^R)+x[3]+3572445317&4294967295,O=j+(P<<16&4294967295|P>>>16),P=R+(O^j^T)+x[6]+76029189&4294967295,R=O+(P<<23&4294967295|P>>>9),P=T+(R^O^j)+x[9]+3654602809&4294967295,T=R+(P<<4&4294967295|P>>>28),P=j+(T^R^O)+x[12]+3873151461&4294967295,j=T+(P<<11&4294967295|P>>>21),P=O+(j^T^R)+x[15]+530742520&4294967295,O=j+(P<<16&4294967295|P>>>16),P=R+(O^j^T)+x[2]+3299628645&4294967295,R=O+(P<<23&4294967295|P>>>9),P=T+(O^(R|~j))+x[0]+4096336452&4294967295,T=R+(P<<6&4294967295|P>>>26),P=j+(R^(T|~O))+x[7]+1126891415&4294967295,j=T+(P<<10&4294967295|P>>>22),P=O+(T^(j|~R))+x[14]+2878612391&4294967295,O=j+(P<<15&4294967295|P>>>17),P=R+(j^(O|~T))+x[5]+4237533241&4294967295,R=O+(P<<21&4294967295|P>>>11),P=T+(O^(R|~j))+x[12]+1700485571&4294967295,T=R+(P<<6&4294967295|P>>>26),P=j+(R^(T|~O))+x[3]+2399980690&4294967295,j=T+(P<<10&4294967295|P>>>22),P=O+(T^(j|~R))+x[10]+4293915773&4294967295,O=j+(P<<15&4294967295|P>>>17),P=R+(j^(O|~T))+x[1]+2240044497&4294967295,R=O+(P<<21&4294967295|P>>>11),P=T+(O^(R|~j))+x[8]+1873313359&4294967295,T=R+(P<<6&4294967295|P>>>26),P=j+(R^(T|~O))+x[15]+4264355552&4294967295,j=T+(P<<10&4294967295|P>>>22),P=O+(T^(j|~R))+x[6]+2734768916&4294967295,O=j+(P<<15&4294967295|P>>>17),P=R+(j^(O|~T))+x[13]+1309151649&4294967295,R=O+(P<<21&4294967295|P>>>11),P=T+(O^(R|~j))+x[4]+4149444226&4294967295,T=R+(P<<6&4294967295|P>>>26),P=j+(R^(T|~O))+x[11]+3174756917&4294967295,j=T+(P<<10&4294967295|P>>>22),P=O+(T^(j|~R))+x[2]+718787259&4294967295,O=j+(P<<15&4294967295|P>>>17),P=R+(j^(O|~T))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+O&4294967295,k.g[3]=k.g[3]+j&4294967295}i.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var R=T-this.blockSize,x=this.B,O=this.h,j=0;j<T;){if(O==0)for(;j<=R;)o(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<T;)if(x[O++]=k.charCodeAt(j++),O==this.blockSize){o(this,x),O=0;break}}else for(;j<T;)if(x[O++]=k[j++],O==this.blockSize){o(this,x),O=0;break}}this.h=O,this.o+=T},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var R=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=R&255,R/=256;for(this.u(k),k=Array(16),T=R=0;4>T;++T)for(var x=0;32>x;x+=8)k[R++]=this.g[T]>>>x&255;return k};function l(k,T){var R=d;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=T(k)}function h(k,T){this.h=T;for(var R=[],x=!0,O=k.length-1;0<=O;O--){var j=k[O]|0;x&&j==T||(R[O]=j,x=!1)}this.g=R}var d={};function p(k){return-128<=k&&128>k?l(k,function(T){return new h([T|0],0>T?-1:0)}):new h([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return I;if(0>k)return b(y(-k));for(var T=[],R=1,x=0;k>=R;x++)T[x]=k/R|0,R*=4294967296;return new h(T,0)}function w(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return b(w(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(T,8)),x=I,O=0;O<k.length;O+=8){var j=Math.min(8,k.length-O),P=parseInt(k.substring(O,O+j),T);8>j?(j=y(Math.pow(T,j)),x=x.j(j).add(y(P))):(x=x.j(R),x=x.add(y(P)))}return x}var I=p(0),A=p(1),S=p(16777216);n=h.prototype,n.m=function(){if(M(this))return-b(this).m();for(var k=0,T=1,R=0;R<this.g.length;R++){var x=this.i(R);k+=(0<=x?x:4294967296+x)*T,T*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(L(this))return"0";if(M(this))return"-"+b(this).toString(k);for(var T=y(Math.pow(k,6)),R=this,x="";;){var O=le(R,T).g;R=$(R,O.j(T));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=O,L(R))return j+x;for(;6>j.length;)j="0"+j;x=j+x}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function L(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function M(k){return k.h==-1}n.l=function(k){return k=$(this,k),M(k)?-1:L(k)?0:1};function b(k){for(var T=k.g.length,R=[],x=0;x<T;x++)R[x]=~k.g[x];return new h(R,~k.h).add(A)}n.abs=function(){return M(this)?b(this):this},n.add=function(k){for(var T=Math.max(this.g.length,k.g.length),R=[],x=0,O=0;O<=T;O++){var j=x+(this.i(O)&65535)+(k.i(O)&65535),P=(j>>>16)+(this.i(O)>>>16)+(k.i(O)>>>16);x=P>>>16,j&=65535,P&=65535,R[O]=P<<16|j}return new h(R,R[R.length-1]&-2147483648?-1:0)};function $(k,T){return k.add(b(T))}n.j=function(k){if(L(this)||L(k))return I;if(M(this))return M(k)?b(this).j(b(k)):b(b(this).j(k));if(M(k))return b(this.j(b(k)));if(0>this.l(S)&&0>k.l(S))return y(this.m()*k.m());for(var T=this.g.length+k.g.length,R=[],x=0;x<2*T;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var O=0;O<k.g.length;O++){var j=this.i(x)>>>16,P=this.i(x)&65535,ht=k.i(O)>>>16,Ge=k.i(O)&65535;R[2*x+2*O]+=P*Ge,X(R,2*x+2*O),R[2*x+2*O+1]+=j*Ge,X(R,2*x+2*O+1),R[2*x+2*O+1]+=P*ht,X(R,2*x+2*O+1),R[2*x+2*O+2]+=j*ht,X(R,2*x+2*O+2)}for(x=0;x<T;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=T;x<2*T;x++)R[x]=0;return new h(R,0)};function X(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function ee(k,T){this.g=k,this.h=T}function le(k,T){if(L(T))throw Error("division by zero");if(L(k))return new ee(I,I);if(M(k))return T=le(b(k),T),new ee(b(T.g),b(T.h));if(M(T))return T=le(k,b(T)),new ee(b(T.g),T.h);if(30<k.g.length){if(M(k)||M(T))throw Error("slowDivide_ only works with positive integers.");for(var R=A,x=T;0>=x.l(k);)R=U(R),x=U(x);var O=ce(R,1),j=ce(x,1);for(x=ce(x,2),R=ce(R,2);!L(x);){var P=j.add(x);0>=P.l(k)&&(O=O.add(R),j=P),x=ce(x,1),R=ce(R,1)}return T=$(k,O.j(T)),new ee(O,T)}for(O=I;0<=k.l(T);){for(R=Math.max(1,Math.floor(k.m()/T.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),j=y(R),P=j.j(T);M(P)||0<P.l(k);)R-=x,j=y(R),P=j.j(T);L(j)&&(j=A),O=O.add(j),k=$(k,P)}return new ee(O,k)}n.A=function(k){return le(this,k).h},n.and=function(k){for(var T=Math.max(this.g.length,k.g.length),R=[],x=0;x<T;x++)R[x]=this.i(x)&k.i(x);return new h(R,this.h&k.h)},n.or=function(k){for(var T=Math.max(this.g.length,k.g.length),R=[],x=0;x<T;x++)R[x]=this.i(x)|k.i(x);return new h(R,this.h|k.h)},n.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),R=[],x=0;x<T;x++)R[x]=this.i(x)^k.i(x);return new h(R,this.h^k.h)};function U(k){for(var T=k.g.length+1,R=[],x=0;x<T;x++)R[x]=k.i(x)<<1|k.i(x-1)>>>31;return new h(R,k.h)}function ce(k,T){var R=T>>5;T%=32;for(var x=k.g.length-R,O=[],j=0;j<x;j++)O[j]=0<T?k.i(j+R)>>>T|k.i(j+R+1)<<32-T:k.i(j+R);return new h(O,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Fv=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,Hs=h}).apply(typeof ny<"u"?ny:typeof self<"u"?self:typeof window<"u"?window:{});var Nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uv,qa,zv,Hu,jd,jv,Bv,Hv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nu=="object"&&Nu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var B=u[E];if(!(B in v))break e;v=v[B]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,E=!1,B={next:function(){if(!E&&v<u.length){var G=v++;return{value:m(G,u[G]),done:!1}}return E=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,v){return u.call.apply(u.bind,arguments)}function I(u,m,v){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,E),u.apply(m,B)}}return function(){return u.apply(m,arguments)}}function A(u,m,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:I,A.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function L(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(E,B,G){for(var ue=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)ue[ut-2]=arguments[ut];return m.prototype[B].apply(E,ue)}}function M(u){const m=u.length;if(0<m){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function b(u,m){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(p(E)){const B=u.length||0,G=E.length||0;u.length=B+G;for(let ue=0;ue<G;ue++)u[B+ue]=E[ue]}else u.push(E)}}class ${constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(u){return/^[\s\xa0]*$/.test(u)}function ee(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function le(u){return le[" "](u),u}le[" "]=function(){};var U=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function ce(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function k(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function T(u){const m={};for(const v in u)m[v]=u[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let v,E;for(let B=1;B<arguments.length;B++){E=arguments[B];for(v in E)u[v]=E[v];for(let G=0;G<R.length;G++)v=R[G],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function O(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function j(u){d.setTimeout(()=>{throw u},0)}function P(){var u=Ee;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,v){const E=Ge.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var Ge=new $(()=>new Ct,u=>u.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Qe,oe=!1,Ee=new ht,he=()=>{const u=d.Promise.resolve(void 0);Qe=()=>{u.then(F)}};var F=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(v){j(v)}var m=Ge;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}oe=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Me=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function Le(u,m){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(U){e:{try{le(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:je[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Le.aa.h.call(this)}}L(Le,_e);var je={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),et=0;function Fe(u,m,v,E,B){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=B,this.key=++et,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zn(u){this.src=u,this.g={},this.h=0}zn.prototype.add=function(u,m,v,E,B){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var ue=nn(u,m,E,B);return-1<ue?(m=u[ue],v||(m.fa=!1)):(m=new Fe(m,this.src,G,!!E,B),m.fa=v,u.push(m)),m};function Ei(u,m){var v=m.type;if(v in u.g){var E=u.g[v],B=Array.prototype.indexOf.call(E,m,void 0),G;(G=0<=B)&&Array.prototype.splice.call(E,B,1),G&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function nn(u,m,v,E){for(var B=0;B<u.length;++B){var G=u[B];if(!G.da&&G.listener==m&&G.capture==!!v&&G.ha==E)return B}return-1}var qr="closure_lm_"+(1e6*Math.random()|0),Ti={};function Ii(u,m,v,E,B){if(Array.isArray(m)){for(var G=0;G<m.length;G++)Ii(u,m[G],v,E,B);return null}return v=_n(v),u&&u[Ze]?u.K(m,v,y(E)?!!E.capture:!!E,B):gs(u,m,v,!1,E,B)}function gs(u,m,v,E,B,G){if(!m)throw Error("Invalid event type");var ue=y(B)?!!B.capture:!!B,ut=$r(u);if(ut||(u[qr]=ut=new zn(u)),v=ut.add(m,v,E,ue,G),v.proxy)return v;if(E=eo(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)Me||(B=ue),B===void 0&&(B=!1),u.addEventListener(m.toString(),E,B);else if(u.attachEvent)u.attachEvent(qt(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function eo(){function u(v){return m.call(u.src,u.listener,v)}const m=er;return u}function Ai(u,m,v,E,B){if(Array.isArray(m))for(var G=0;G<m.length;G++)Ai(u,m[G],v,E,B);else E=y(E)?!!E.capture:!!E,v=_n(v),u&&u[Ze]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],v=nn(G,v,E,B),-1<v&&(ft(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=$r(u))&&(m=u.g[m.toString()],u=-1,m&&(u=nn(m,v,E,B)),(v=-1<u?m[u]:null)&&Zn(v))}function Zn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ze])Ei(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(qt(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=$r(m))?(Ei(v,u),v.h==0&&(v.src=null,m[qr]=null)):ft(u)}}}function qt(u){return u in Ti?Ti[u]:Ti[u]="on"+u}function er(u,m){if(u.da)u=!0;else{m=new Le(m,this);var v=u.listener,E=u.ha||u.src;u.fa&&Zn(u),u=v.call(E,m)}return u}function $r(u){return u=u[qr],u instanceof zn?u:null}var Ir="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(u){return typeof u=="function"?u:(u[Ir]||(u[Ir]=function(m){return u.handleEvent(m)}),u[Ir])}function lt(){Y.call(this),this.i=new zn(this),this.M=this,this.F=null}L(lt,Y),lt.prototype[Ze]=!0,lt.prototype.removeEventListener=function(u,m,v,E){Ai(this,u,m,v,E)};function At(u,m){var v,E=u.F;if(E)for(v=[];E;E=E.F)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new _e(m,u);else if(m instanceof _e)m.target=m.target||u;else{var B=m;m=new _e(E,u),x(m,B)}if(B=!0,v)for(var G=v.length-1;0<=G;G--){var ue=m.g=v[G];B=Dn(ue,E,!0,m)&&B}if(ue=m.g=u,B=Dn(ue,E,!0,m)&&B,B=Dn(ue,E,!1,m)&&B,v)for(G=0;G<v.length;G++)ue=m.g=v[G],B=Dn(ue,E,!1,m)&&B}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],E=0;E<v.length;E++)ft(v[E]);delete u.g[m],u.h--}}this.F=null},lt.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},lt.prototype.L=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function Dn(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,G=0;G<m.length;++G){var ue=m[G];if(ue&&!ue.da&&ue.capture==v){var ut=ue.listener,Ot=ue.ha||ue.src;ue.fa&&Ei(u.i,ue),B=ut.call(Ot,E)!==!1&&B}}return B&&!E.defaultPrevented}function ys(u,m,v){if(typeof u=="function")v&&(u=A(u,v));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function $t(u){u.g=ys(()=>{u.g=null,u.i&&(u.i=!1,$t(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ar extends Y{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$t(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(u){Y.call(this),this.h=u,this.g={}}L(Sr,Y);var Si=[];function vs(u){ce(u.g,function(m,v){this.g.hasOwnProperty(v)&&Zn(m)},u),u.g={}}Sr.prototype.N=function(){Sr.aa.N.call(this),vs(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ri=d.JSON.stringify,Rr=d.JSON.parse,Ci=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tr(){}tr.prototype.h=null;function Pi(u){return u.h||(u.h=u.i())}function Wr(){}var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){_e.call(this,"d")}L(Nn,_e);function nr(){_e.call(this,"c")}L(nr,_e);var pn={},_s=null;function Kr(){return _s=_s||new lt}pn.La="serverreachability";function N(u){_e.call(this,pn.La,u)}L(N,_e);function z(u){const m=Kr();At(m,new N(m))}pn.STAT_EVENT="statevent";function K(u,m){_e.call(this,pn.STAT_EVENT,u),this.stat=m}L(K,_e);function J(u){const m=Kr();At(m,new K(m,u))}pn.Ma="timingevent";function de(u,m){_e.call(this,pn.Ma,u),this.size=m}L(de,_e);function ge(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Re(){this.g=!0}Re.prototype.xa=function(){this.g=!1};function fe(u,m,v,E,B,G){u.info(function(){if(u.g)if(G)for(var ue="",ut=G.split("&"),Ot=0;Ot<ut.length;Ot++){var Xe=ut[Ot].split("=");if(1<Xe.length){var Ut=Xe[0];Xe=Xe[1];var xt=Ut.split("_");ue=2<=xt.length&&xt[1]=="type"?ue+(Ut+"="+Xe+"&"):ue+(Ut+"=redacted&")}}else ue=null;else ue=G;return"XMLHTTP REQ ("+E+") [attempt "+B+"]: "+m+`
`+v+`
`+ue})}function ve(u,m,v,E,B,G,ue){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+B+"]: "+m+`
`+v+`
`+G+" "+ue})}function ae(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ue(u,v)+(E?" "+E:"")})}function ke(u,m){u.info(function(){return"TIMEOUT: "+m})}Re.prototype.info=function(){};function Ue(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var E=v[u];if(!(2>E.length)){var B=E[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ue=1;ue<B.length;ue++)B[ue]=""}}}}return Ri(v)}catch{return m}}var it={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},St={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qe;function tt(){}L(tt,tr),tt.prototype.g=function(){return new XMLHttpRequest},tt.prototype.i=function(){return{}},qe=new tt;function st(u,m,v,E){this.j=u,this.i=m,this.l=v,this.R=E||1,this.U=new Sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rr}function rr(){this.i=null,this.g="",this.h=!1}var ir={},rn={};function Wt(u,m,v){u.L=1,u.v=Ni(Ln(m)),u.m=v,u.P=!0,Gr(u,null)}function Gr(u,m){u.F=Date.now(),ot(u),u.A=Ln(u.v);var v=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Oi(v.i,"t",E),u.C=0,v=u.j.J,u.h=new rr,u.g=Ol(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Ar(A(u.Y,u,u.g),u.O)),m=u.U,v=u.g,E=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(Si[0]=B.toString()),B=Si);for(var G=0;G<B.length;G++){var ue=Ii(v,B[G],E||m.handleEvent,!1,m.h||m);if(!ue)break;m.g[ue.key]=ue}m=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),z(),fe(u.i,u.u,u.A,u.l,u.R,u.m)}st.prototype.ca=function(u){u=u.target;const m=this.M;m&&In(u)==3?m.j():this.Y(u)},st.prototype.Y=function(u){try{if(u==this.g)e:{const xt=In(this.g);var m=this.g.Ba();const Bn=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||ha(this.g)))){this.J||xt!=4||m==7||(m==8||0>=Bn?z(3):z(2)),Ye(this);var v=this.g.Z();this.X=v;t:if(Cr(this)){var E=ha(this.g);u="";var B=E.length,G=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),pt(this);var ue="";break t}this.h.i=new d.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(G&&m==B-1)});E.length=0,this.h.g+=u,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,ve(this.i,this.u,this.A,this.l,this.R,xt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,Ot=this.g;if((ut=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(ut)){var Xe=ut;break t}}Xe=null}if(v=Xe)ae(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,or(this,v);else{this.o=!1,this.s=3,J(12),Kt(this),pt(this);break e}}if(this.P){v=!0;let Vn;for(;!this.J&&this.C<ue.length;)if(Vn=sr(this,ue),Vn==rn){xt==4&&(this.s=4,J(14),v=!1),ae(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==ir){this.s=4,J(15),ae(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else ae(this.i,this.l,Vn,null),or(this,Vn);if(Cr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||ue.length!=0||this.h.h||(this.s=1,J(16),v=!1),this.o=this.o&&v,!v)ae(this.i,this.l,ue,"[Invalid Chunked Response]"),Kt(this),pt(this);else if(0<ue.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),fa(Ut),Ut.M=!0,J(11))}}else ae(this.i,this.l,ue,null),or(this,ue);xt==4&&Kt(this),this.o&&!this.J&&(xt==4?fo(this.j,this):(this.o=!1,ot(this)))}else ao(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),Kt(this),pt(this)}}}catch{}finally{}};function Cr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function sr(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?rn:(v=Number(m.substring(v,E)),isNaN(v)?ir:(E+=1,E+v>m.length?rn:(m=m.slice(E,E+v),u.C=E+v,m)))}st.prototype.cancel=function(){this.J=!0,Kt(this)};function ot(u){u.S=Date.now()+u.I,Qr(u,u.I)}function Qr(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ge(A(u.ba,u),m)}function Ye(u){u.B&&(d.clearTimeout(u.B),u.B=null)}st.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ke(this.i,this.A),this.L!=2&&(z(),J(17)),Kt(this),this.s=2,pt(this)):Qr(this,this.S-u)};function pt(u){u.j.G==0||u.J||fo(u.j,u)}function Kt(u){Ye(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,vs(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function or(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||mn(v.h,u))){if(!u.K&&mn(v.h,u)&&v.G==3){try{var E=v.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var B=E;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)ho(v),hr(v);else break e;co(v),J(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=ge(A(v.Za,v),6e3));if(1>=to(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ei(v,11)}else if((u.K||v.g==u)&&ho(v),!X(m))for(B=v.Da.g.parse(m),m=0;m<B.length;m++){let Xe=B[m];if(v.T=Xe[0],Xe=Xe[1],v.G==2)if(Xe[0]=="c"){v.K=Xe[1],v.ia=Xe[2];const Ut=Xe[3];Ut!=null&&(v.la=Ut,v.j.info("VER="+v.la));const xt=Xe[4];xt!=null&&(v.Aa=xt,v.j.info("SVER="+v.Aa));const Bn=Xe[5];Bn!=null&&typeof Bn=="number"&&0<Bn&&(E=1.5*Bn,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const Vn=u.g;if(Vn){const Ss=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var G=E.h;G.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(aa(G,G.h),G.h=null))}if(E.D){const mo=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;mo&&(E.ya=mo,ct(E.I,E.D,mo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var ue=u;if(E.qa=Ll(E,E.J?E.ia:null,E.W),ue.K){El(E.h,ue);var ut=ue,Ot=E.L;Ot&&(ut.I=Ot),ut.B&&(Ye(ut),ot(ut)),E.g=ue}else As(E);0<v.i.length&&Dr(v)}else Xe[0]!="stop"&&Xe[0]!="close"||ei(v,7);else v.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?ei(v,7):Qt(v):Xe[0]!="noop"&&v.l&&v.l.ta(Xe),v.v=0)}}z(4)}catch{}}var mt=class{constructor(u,m){this.g=u,this.map=m}};function En(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function to(u){return u.h?1:u.g?u.g.size:0}function mn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function aa(u,m){u.g?u.g.add(m):u.h=m}function El(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}En.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return M(u.i)}function no(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,E=0;E<v;E++)m.push(u[E]);return m}m=[],v=0;for(E in u)m[v++]=u[E];return m}function ro(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const E in u)m[v++]=E;return m}}}function ki(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=ro(u),E=no(u),B=E.length,G=0;G<B;G++)m.call(void 0,E[G],v&&v[G],u)}var ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bc(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var E=u[v].indexOf("="),B=null;if(0<=E){var G=u[v].substring(0,E);B=u[v].substring(E+1)}else G=u[v];m(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Yr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Yr){this.h=u.h,Es(this,u.j),this.o=u.o,this.g=u.g,xi(this,u.s),this.l=u.l;var m=u.i,v=new Pr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Di(this,v),this.m=u.m}else u&&(m=String(u).match(ws))?(this.h=!1,Es(this,m[1]||"",!0),this.o=$e(m[2]||""),this.g=$e(m[3]||"",!0),xi(this,m[4]),this.l=$e(m[5]||"",!0),Di(this,m[6]||"",!0),this.m=$e(m[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}Yr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Li(m,io,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Li(m,io,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Li(v,v.charAt(0)=="/"?Sl:Al,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Li(v,la)),u.join("")};function Ln(u){return new Yr(u)}function Es(u,m,v){u.j=v?$e(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function xi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Di(u,m,v){m instanceof Pr?(u.i=m,kr(u.i,u.h)):(v||(m=Li(m,Rl)),u.i=new Pr(m,u.h))}function ct(u,m,v){u.i.set(m,v)}function Ni(u){return ct(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function $e(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Li(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Il),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Il(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var io=/[#\/\?@]/g,Al=/[#\?:]/g,Sl=/[#\?]/g,Rl=/[#\?@]/g,la=/#/g;function Pr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Gt(u){u.g||(u.g=new Map,u.h=0,u.i&&Bc(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Pr.prototype,n.add=function(u,m){Gt(this),this.i=null,u=jn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ar(u,m){Gt(u),m=jn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function lr(u,m){return Gt(u),m=jn(u,m),u.g.has(m)}n.forEach=function(u,m){Gt(this),this.g.forEach(function(v,E){v.forEach(function(B){u.call(m,B,E,this)},this)},this)},n.na=function(){Gt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let E=0;E<m.length;E++){const B=u[E];for(let G=0;G<B.length;G++)v.push(m[E])}return v},n.V=function(u){Gt(this);let m=[];if(typeof u=="string")lr(this,u)&&(m=m.concat(this.g.get(jn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Gt(this),this.i=null,u=jn(this,u),lr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Oi(u,m,v){ar(u,m),0<v.length&&(u.i=null,u.g.set(jn(u,m),M(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var E=m[v];const G=encodeURIComponent(String(E)),ue=this.V(E);for(E=0;E<ue.length;E++){var B=G;ue[E]!==""&&(B+="="+encodeURIComponent(String(ue[E]))),u.push(B)}}return this.i=u.join("&")};function jn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function kr(u,m){m&&!u.j&&(Gt(u),u.i=null,u.g.forEach(function(v,E){var B=E.toLowerCase();E!=B&&(ar(this,E),Oi(this,B,v))},u)),u.j=m}function Hc(u,m){const v=new Re;if(d.Image){const E=new Image;E.onload=S(Tn,v,"TestLoadImage: loaded",!0,m,E),E.onerror=S(Tn,v,"TestLoadImage: error",!1,m,E),E.onabort=S(Tn,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=S(Tn,v,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Cl(u,m){const v=new Re,E=new AbortController,B=setTimeout(()=>{E.abort(),Tn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(G=>{clearTimeout(B),G.ok?Tn(v,"TestPingServer: ok",!0,m):Tn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),Tn(v,"TestPingServer: error",!1,m)})}function Tn(u,m,v,E,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),E(v)}catch{}}function qc(){this.g=new Ci}function Pl(u,m,v){const E=v||"";try{ki(u,function(B,G){let ue=B;y(B)&&(ue=Ri(B)),m.push(E+G+"="+encodeURIComponent(ue))})}catch(B){throw m.push(E+"type="+encodeURIComponent("_badmap")),B}}function Xr(u){this.l=u.Ub||null,this.j=u.eb||!1}L(Xr,tr),Xr.prototype.g=function(){return new Ts(this.l,this.j)},Xr.prototype.i=function(u){return function(){return u}}({});function Ts(u,m){lt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Ts,lt),n=Ts.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,cr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function kl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ur(this):cr(this),this.readyState==3&&kl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,ur(this))},n.Qa=function(u){this.g&&(this.response=u,ur(this))},n.ga=function(){this.g&&ur(this)};function ur(u){u.readyState=4,u.l=null,u.j=null,u.v=null,cr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function cr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jr(u){let m="";return ce(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function Vi(u,m,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=Jr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):ct(u,m,v))}function _t(u){lt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(_t,lt);var $c=/^https?$/i,ua=["POST","PUT"];n=_t.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qe.g(),this.v=this.o?Pi(this.o):Pi(qe),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){Is(this,G);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var B in E)v.set(B,E[B]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const G of E.keys())v.set(G,E.get(G));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),B=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ua,m,void 0))||E||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ue]of v)this.g.setRequestHeader(G,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oo(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){Is(this,G)}};function Is(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,so(u),On(u)}function so(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,At(this,"complete"),At(this,"abort"),On(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),_t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ca(this):this.bb())},n.bb=function(){ca(this)};function ca(u){if(u.h&&typeof h<"u"&&(!u.v[1]||In(u)!=4||u.Z()!=2)){if(u.u&&In(u)==4)ys(u.Ea,0,u);else if(At(u,"readystatechange"),In(u)==4){u.h=!1;try{const ue=u.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var E;if(E=ue===0){var B=String(u.D).match(ws)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),E=!$c.test(B?B.toLowerCase():"")}v=E}if(v)At(u,"complete"),At(u,"success");else{u.m=6;try{var G=2<In(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",so(u)}}finally{On(u)}}}}function On(u,m){if(u.g){oo(u);const v=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||At(u,"ready");try{v.onreadystatechange=E}catch{}}}function oo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function In(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rr(m)}};function ha(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ao(u){const m={};u=(u.g&&2<=In(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(X(u[E]))continue;var v=O(u[E]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=m[B]||[];m[B]=G,G.push(v)}k(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function da(u){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xr("baseRetryDelayMs",5e3,u),this.cb=xr("retryDelaySeedMs",1e4,u),this.Wa=xr("forwardChannelMaxRetries",2,u),this.wa=xr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new En(u&&u.concurrentRequestLimit),this.Da=new qc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=da.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,E){J(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=Ll(this,null,this.W),Dr(this)};function Qt(u){if(lo(u),u.G==3){var m=u.U++,v=Ln(u.I);if(ct(v,"SID",u.K),ct(v,"RID",m),ct(v,"TYPE","terminate"),Zr(u,v),m=new st(u,u.j,m),m.L=2,m.v=Ni(Ln(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=Ol(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ot(m)}Nl(u)}function hr(u){u.g&&(fa(u),u.g.cancel(),u.g=null)}function lo(u){hr(u),u.u&&(d.clearTimeout(u.u),u.u=null),ho(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Dr(u){if(!sn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Qe||he(),oe||(Qe(),oe=!0),Ee.add(m,u),u.B=0}}function Wc(u,m){return to(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ge(A(u.Ga,u,m),Dl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new st(this,this.j,u);let G=this.o;if(this.S&&(G?(G=T(G),x(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Mi(this,B,m),v=Ln(this.I),ct(v,"RID",u),ct(v,"CVER",22),this.D&&ct(v,"X-HTTP-Session-Id",this.D),Zr(this,v),G&&(this.O?m="headers="+encodeURIComponent(String(Jr(G)))+"&"+m:this.m&&Vi(v,this.m,G)),aa(this.h,B),this.Ua&&ct(v,"TYPE","init"),this.P?(ct(v,"$req",m),ct(v,"SID","null"),B.T=!0,Wt(B,v,null)):Wt(B,v,m),this.G=2}}else this.G==3&&(u?uo(this,u):this.i.length==0||sn(this.h)||uo(this))};function uo(u,m){var v;m?v=m.l:v=u.U++;const E=Ln(u.I);ct(E,"SID",u.K),ct(E,"RID",v),ct(E,"AID",u.T),Zr(u,E),u.m&&u.o&&Vi(E,u.m,u.o),v=new st(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Mi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),aa(u.h,v),Wt(v,E,m)}function Zr(u,m){u.H&&ce(u.H,function(v,E){ct(m,E,v)}),u.l&&ki({},function(v,E){ct(m,E,v)})}function Mi(u,m,v){v=Math.min(u.i.length,v);var E=u.l?A(u.l.Na,u.l,u):null;e:{var B=u.i;let G=-1;for(;;){const ue=["count="+v];G==-1?0<v?(G=B[0].g,ue.push("ofs="+G)):G=0:ue.push("ofs="+G);let ut=!0;for(let Ot=0;Ot<v;Ot++){let Xe=B[Ot].g;const Ut=B[Ot].map;if(Xe-=G,0>Xe)G=Math.max(0,B[Ot].g-100),ut=!1;else try{Pl(Ut,ue,"req"+Xe+"_")}catch{E&&E(Ut)}}if(ut){E=ue.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,E}function As(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Qe||he(),oe||(Qe(),oe=!0),Ee.add(m,u),u.v=0}}function co(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ge(A(u.Fa,u),Dl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,xl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ge(A(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),hr(this),xl(this))};function fa(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function xl(u){u.g=new st(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Ln(u.qa);ct(m,"RID","rpc"),ct(m,"SID",u.K),ct(m,"AID",u.T),ct(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ct(m,"TO",u.ja),ct(m,"TYPE","xmlhttp"),Zr(u,m),u.m&&u.o&&Vi(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Ni(Ln(m)),v.m=null,v.P=!0,Gr(v,u)}n.Za=function(){this.C!=null&&(this.C=null,hr(this),co(this),J(19))};function ho(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function fo(u,m){var v=null;if(u.g==m){ho(u),fa(u),u.g=null;var E=2}else if(mn(u.h,m))v=m.D,El(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var B=u.B;E=Kr(),At(E,new de(E,v)),Dr(u)}else As(u);else if(B=m.s,B==3||B==0&&0<m.X||!(E==1&&Wc(u,m)||E==2&&co(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),B){case 1:ei(u,5);break;case 4:ei(u,10);break;case 3:ei(u,6);break;default:ei(u,2)}}}function Dl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function ei(u,m){if(u.j.info("Error code "+m),m==2){var v=A(u.fb,u),E=u.Xa;const B=!E;E=new Yr(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Es(E,"https"),Ni(E),B?Hc(E.toString(),v):Cl(E.toString(),v)}else J(2);u.G=0,u.l&&u.l.sa(m),Nl(u),lo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function Nl(u){if(u.G=0,u.ka=[],u.l){const m=Tl(u.h);(m.length!=0||u.i.length!=0)&&(b(u.ka,m),b(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function Ll(u,m,v){var E=v instanceof Yr?Ln(v):new Yr(v);if(E.g!="")m&&(E.g=m+"."+E.g),xi(E,E.s);else{var B=d.location;E=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var G=new Yr(null);E&&Es(G,E),m&&(G.g=m),B&&xi(G,B),v&&(G.l=v),E=G}return v=u.D,m=u.ya,v&&m&&ct(E,v,m),ct(E,"VER",u.la),Zr(u,E),E}function Ol(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new _t(new Xr({eb:v})):new _t(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pa(){}n=pa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function po(){}po.prototype.g=function(u,m){return new gn(u,m)};function gn(u,m){lt.call(this),this.g=new da(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!X(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!X(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Nr(this)}L(gn,lt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Ri(u),u=v);m.i.push(new mt(m.Ya++,u)),m.G==3&&Dr(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)};function Vl(u){Nn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}L(Vl,Nn);function Ml(){nr.call(this),this.status=1}L(Ml,nr);function Nr(u){this.g=u}L(Nr,pa),Nr.prototype.ua=function(){At(this.g,"a")},Nr.prototype.ta=function(u){At(this.g,new Vl(u))},Nr.prototype.sa=function(u){At(this.g,new Ml)},Nr.prototype.ra=function(){At(this.g,"b")},po.prototype.createWebChannel=po.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Hv=function(){return new po},Bv=function(){return Kr()},jv=pn,jd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},it.NO_ERROR=0,it.TIMEOUT=8,it.HTTP_ERROR=6,Hu=it,St.COMPLETE="complete",zv=St,Wr.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,qa=Wr,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,Uv=_t}).apply(typeof Nu<"u"?Nu:typeof self<"u"?self:typeof window<"u"?window:{});const ry="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new vf("@firebase/firestore");function bo(){return Ws.logLevel}function me(n,...e){if(Ws.logLevel<=Be.DEBUG){const t=e.map(Ef);Ws.debug(`Firestore (${ta}): ${n}`,...t)}}function gi(n,...e){if(Ws.logLevel<=Be.ERROR){const t=e.map(Ef);Ws.error(`Firestore (${ta}): ${n}`,...t)}}function Wo(n,...e){if(Ws.logLevel<=Be.WARN){const t=e.map(Ef);Ws.warn(`Firestore (${ta}): ${n}`,...t)}}function Ef(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n="Unexpected state"){const e=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: `+n;throw gi(e),new Error(e)}function at(n,e){n||Ne()}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends wi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class PA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kA{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new as;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new as,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new as)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at(typeof i.accessToken=="string"),new qv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new hn(e)}}class xA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class DA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new xA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){at(this.o===void 0);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at(typeof t.token=="string"),this.R=t.token,new NA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=OA(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function We(n,e){return n<e?-1:n>e?1:0}function Ko(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new bt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Te(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new bt(0,0))}static max(){return new Ve(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ne(),i===void 0?i=e.length-t:i>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return el.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof el?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vt extends el{construct(e,t,i){return new vt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const VA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends el{construct(e,t,i){return new Zt(e,t,i)}static isValidIdentifier(e){return VA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new Te(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Te(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Te(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(i+=d,o++):(l(),o++)}if(l(),h)throw new Te(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(vt.fromString(e))}static fromName(e){return new Se(vt.fromString(e).popFirst(5))}static empty(){return new Se(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new vt(e.slice()))}}function MA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(i===1e9?new bt(t+1,0):new bt(t,i));return new cs(o,Se.empty(),e)}function bA(n){return new cs(n.readTime,n.key,-1)}class cs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new cs(Ve.min(),Se.empty(),-1)}static max(){return new cs(Ve.max(),Se.empty(),-1)}}function FA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:We(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==UA)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,i)=>{t(e)})}static reject(e){return new Z((t,i)=>{i(e)})}static waitFor(e){return new Z((t,i)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},p=>i(p))}),h=!0,l===o&&t()})}static or(e){let t=Z.resolve(!1);for(const i of e)t=t.next(o=>o?Z.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new Z((i,o)=>{const l=e.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(w=>{h[y]=w,++d,d===l&&i(h)},w=>o(w))}})}static doWhile(e,t){return new Z((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function jA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ra(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sc.oe=-1;function Rc(n){return n==null}function oc(n){return n===0&&1/n==-1/0}function BA(n){return typeof n=="number"&&Number.isInteger(n)&&!oc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iy(e)),e=qA(n.get(t),e);return iy(e)}function qA(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function iy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ys(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Wv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new It(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Jt.RED,this.left=o??Jt.EMPTY,this.right=l??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Jt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oy(this.data.getIterator())}getIteratorFrom(e){return new oy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class oy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new _r([])}unionWith(e){let t=new Ft(Zt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new _r(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Kv("Invalid base64 string: "+l):l}}(e);return new tn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const $A=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(n){if(at(!!n),typeof n=="string"){let e=0;const t=$A.exec(n);if(at(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:kt(n.seconds),nanos:kt(n.nanos)}}function kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ds(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Cc(n){const e=n.mapValue.fields.__previous_value__;return Tf(e)?Cc(e):e}function tl(n){const e=hs(n.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,t,i,o,l,h,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}class nl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tf(n)?4:GA(n)?9007199254740991:KA(n)?10:11:Ne()}function jr(n,e){if(n===e)return!0;const t=fs(n);if(t!==fs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tl(n).isEqual(tl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=hs(o.timestampValue),d=hs(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return ds(o.bytesValue).isEqual(ds(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return kt(o.geoPointValue.latitude)===kt(l.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return kt(o.integerValue)===kt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=kt(o.doubleValue),d=kt(l.doubleValue);return h===d?oc(h)===oc(d):isNaN(h)&&isNaN(d)}return!1}(n,e);case 9:return Ko(n.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(sy(h)!==sy(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!jr(h[p],d[p])))return!1;return!0}(n,e);default:return Ne()}}function rl(n,e){return(n.values||[]).find(t=>jr(t,e))!==void 0}function Go(n,e){if(n===e)return 0;const t=fs(n),i=fs(e);if(t!==i)return We(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(n.booleanValue,e.booleanValue);case 2:return function(l,h){const d=kt(l.integerValue||l.doubleValue),p=kt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return ay(n.timestampValue,e.timestampValue);case 4:return ay(tl(n),tl(e));case 5:return We(n.stringValue,e.stringValue);case 6:return function(l,h){const d=ds(l),p=ds(h);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let y=0;y<d.length&&y<p.length;y++){const w=We(d[y],p[y]);if(w!==0)return w}return We(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,h){const d=We(kt(l.latitude),kt(h.latitude));return d!==0?d:We(kt(l.longitude),kt(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ly(n.arrayValue,e.arrayValue);case 10:return function(l,h){var d,p,y,w;const I=l.fields||{},A=h.fields||{},S=(d=I.value)===null||d===void 0?void 0:d.arrayValue,L=(p=A.value)===null||p===void 0?void 0:p.arrayValue,M=We(((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0,((w=L==null?void 0:L.values)===null||w===void 0?void 0:w.length)||0);return M!==0?M:ly(S,L)}(n.mapValue,e.mapValue);case 11:return function(l,h){if(l===Ou.mapValue&&h===Ou.mapValue)return 0;if(l===Ou.mapValue)return 1;if(h===Ou.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),y=h.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let I=0;I<p.length&&I<w.length;++I){const A=We(p[I],w[I]);if(A!==0)return A;const S=Go(d[p[I]],y[w[I]]);if(S!==0)return S}return We(p.length,w.length)}(n.mapValue,e.mapValue);default:throw Ne()}}function ay(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return We(n,e);const t=hs(n),i=hs(e),o=We(t.seconds,i.seconds);return o!==0?o:We(t.nanos,i.nanos)}function ly(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Go(t[o],i[o]);if(l)return l}return We(t.length,i.length)}function Qo(n){return Bd(n)}function Bd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=hs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ds(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Bd(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${Bd(t.fields[h])}`;return o+"}"}(n.mapValue):Ne()}function qu(n){switch(fs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cc(n);return e?16+qu(e):16;case 5:return 2*n.stringValue.length;case 6:return ds(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+qu(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Ys(i.fields,(l,h)=>{o+=l.length+qu(h)}),o}(n.mapValue);default:throw Ne()}}function uy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Hd(n){return!!n&&"integerValue"in n}function If(n){return!!n&&"arrayValue"in n}function cy(n){return!!n&&"nullValue"in n}function hy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $u(n){return!!n&&"mapValue"in n}function KA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ka(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ys(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ka(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ka(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!$u(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ka(t)}setAll(e){let t=Zt.emptyPath(),i={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}h?i[d.lastSegment()]=Ka(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());$u(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];$u(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ys(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Yn(Ka(this.value))}}function Gv(n){const e=[];return Ys(n.fields,(t,i)=>{const o=new Zt([t]);if($u(i)){const l=Gv(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new _r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,i,o,l,h,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,Ve.min(),Ve.min(),Ve.min(),Yn.empty(),0)}static newFoundDocument(e,t,i,o){return new dn(e,1,t,Ve.min(),i,o,0)}static newNoDocument(e,t){return new dn(e,2,t,Ve.min(),Ve.min(),Yn.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Ve.min(),Ve.min(),Yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.position=e,this.inclusive=t}}function dy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(l.field.isKeyField()?i=Se.comparator(Se.fromName(h.referenceValue),t.key):i=Go(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function fy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!jr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t="asc"){this.field=e,this.dir=t}}function QA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{}class Lt extends Qv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new XA(e,t,i):t==="array-contains"?new eS(e,i):t==="in"?new tS(e,i):t==="not-in"?new nS(e,i):t==="array-contains-any"?new rS(e,i):new Lt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new JA(e,i):new ZA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Go(t,this.value)):t!==null&&fs(this.value)===fs(t)&&this.matchesComparison(Go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends Qv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Tr(e,t)}matches(e){return Yv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Yv(n){return n.op==="and"}function Xv(n){return YA(n)&&Yv(n)}function YA(n){for(const e of n.filters)if(e instanceof Tr)return!1;return!0}function qd(n){if(n instanceof Lt)return n.field.canonicalString()+n.op.toString()+Qo(n.value);if(Xv(n))return n.filters.map(e=>qd(e)).join(",");{const e=n.filters.map(t=>qd(t)).join(",");return`${n.op}(${e})`}}function Jv(n,e){return n instanceof Lt?function(i,o){return o instanceof Lt&&i.op===o.op&&i.field.isEqual(o.field)&&jr(i.value,o.value)}(n,e):n instanceof Tr?function(i,o){return o instanceof Tr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,h,d)=>l&&Jv(h,o.filters[d]),!0):!1}(n,e):void Ne()}function Zv(n){return n instanceof Lt?function(t){return`${t.field.canonicalString()} ${t.op} ${Qo(t.value)}`}(n):n instanceof Tr?function(t){return t.op.toString()+" {"+t.getFilters().map(Zv).join(" ,")+"}"}(n):"Filter"}class XA extends Lt{constructor(e,t,i){super(e,t,i),this.key=Se.fromName(i.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class JA extends Lt{constructor(e,t){super(e,"in",t),this.keys=e_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ZA extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=e_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function e_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Se.fromName(i.referenceValue))}class eS extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return If(t)&&rl(t.arrayValue,this.value)}}class tS extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rl(this.value.arrayValue,t)}}class nS extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!rl(this.value.arrayValue,t)}}class rS extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!If(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>rl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t=null,i=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.ue=null}}function py(n,e=null,t=[],i=[],o=null,l=null,h=null){return new iS(n,e,t,i,o,l,h)}function Af(n){const e=be(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>qd(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Rc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Qo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Qo(i)).join(",")),e.ue=t}return e.ue}function Sf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!QA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Jv(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fy(n.startAt,e.startAt)&&fy(n.endAt,e.endAt)}function $d(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t=null,i=[],o=[],l=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function sS(n,e,t,i,o,l,h,d){return new fl(n,e,t,i,o,l,h,d)}function t_(n){return new fl(n)}function my(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function n_(n){return n.collectionGroup!==null}function Ga(n){const e=be(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ft(Zt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new lc(l,i))}),t.has(Zt.keyField().canonicalString())||e.ce.push(new lc(Zt.keyField(),i))}return e.ce}function Fr(n){const e=be(n);return e.le||(e.le=oS(e,Ga(n))),e.le}function oS(n,e){if(n.limitType==="F")return py(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new lc(o.field,l)});const t=n.endAt?new ac(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ac(n.startAt.position,n.startAt.inclusive):null;return py(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Wd(n,e){const t=n.filters.concat([e]);return new fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Kd(n,e,t){return new fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pc(n,e){return Sf(Fr(n),Fr(e))&&n.limitType===e.limitType}function r_(n){return`${Af(Fr(n))}|lt:${n.limitType}`}function Fo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Zv(o)).join(", ")}]`),Rc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Qo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Qo(o)).join(",")),`Target(${i})`}(Fr(n))}; limitType=${n.limitType})`}function kc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Se.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of Ga(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(h,d,p){const y=dy(h,d,p);return h.inclusive?y<=0:y<0}(i.startAt,Ga(i),o)||i.endAt&&!function(h,d,p){const y=dy(h,d,p);return h.inclusive?y>=0:y>0}(i.endAt,Ga(i),o))}(n,e)}function aS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function i_(n){return(e,t)=>{let i=!1;for(const o of Ga(n)){const l=lS(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function lS(n,e,t){const i=n.field.isKeyField()?Se.comparator(e.key,t.key):function(l,h,d){const p=h.data.field(l),y=d.data.field(l);return p!==null&&y!==null?Go(p,y):Ne()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Wv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=new It(Se.comparator);function yi(){return uS}const s_=new It(Se.comparator);function $a(...n){let e=s_;for(const t of n)e=e.insert(t.key,t);return e}function o_(n){let e=s_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function js(){return Qa()}function a_(){return Qa()}function Qa(){return new Xs(n=>n.toString(),(n,e)=>n.isEqual(e))}const cS=new It(Se.comparator),hS=new Ft(Se.comparator);function He(...n){let e=hS;for(const t of n)e=e.add(t);return e}const dS=new Ft(We);function fS(){return dS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function l_(n){return{integerValue:""+n}}function pS(n,e){return BA(e)?l_(e):Rf(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){this._=void 0}}function mS(n,e,t){return n instanceof il?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Tf(l)&&(l=Cc(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):n instanceof sl?c_(n,e):n instanceof ol?h_(n,e):function(o,l){const h=u_(o,l),d=gy(h)+gy(o.Pe);return Hd(h)&&Hd(o.Pe)?l_(d):Rf(o.serializer,d)}(n,e)}function gS(n,e,t){return n instanceof sl?c_(n,e):n instanceof ol?h_(n,e):t}function u_(n,e){return n instanceof uc?function(i){return Hd(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class il extends xc{}class sl extends xc{constructor(e){super(),this.elements=e}}function c_(n,e){const t=d_(e);for(const i of n.elements)t.some(o=>jr(o,i))||t.push(i);return{arrayValue:{values:t}}}class ol extends xc{constructor(e){super(),this.elements=e}}function h_(n,e){let t=d_(e);for(const i of n.elements)t=t.filter(o=>!jr(o,i));return{arrayValue:{values:t}}}class uc extends xc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function gy(n){return kt(n.integerValue||n.doubleValue)}function d_(n){return If(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,t){this.field=e,this.transform=t}}function vS(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof sl&&o instanceof sl||i instanceof ol&&o instanceof ol?Ko(i.elements,o.elements,jr):i instanceof uc&&o instanceof uc?jr(i.Pe,o.Pe):i instanceof il&&o instanceof il}(n.transform,e.transform)}class _S{constructor(e,t){this.version=e,this.transformResults=t}}class pi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wu(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Dc{}function f_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new m_(n.key,pi.none()):new pl(n.key,n.data,pi.none());{const t=n.data,i=Yn.empty();let o=new Ft(Zt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new Js(n.key,i,new _r(o.toArray()),pi.none())}}function wS(n,e,t){n instanceof pl?function(o,l,h){const d=o.value.clone(),p=vy(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Js?function(o,l,h){if(!Wu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=vy(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(p_(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Ya(n,e,t,i){return n instanceof pl?function(l,h,d,p){if(!Wu(l.precondition,h))return d;const y=l.value.clone(),w=_y(l.fieldTransforms,p,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Js?function(l,h,d,p){if(!Wu(l.precondition,h))return d;const y=_y(l.fieldTransforms,p,h),w=h.data;return w.setAll(p_(l)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(I=>I.field))}(n,e,t,i):function(l,h,d){return Wu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,e,t)}function ES(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=u_(i.transform,o||null);l!=null&&(t===null&&(t=Yn.empty()),t.set(i.field,l))}return t||null}function yy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ko(i,o,(l,h)=>vS(l,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class pl extends Dc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Js extends Dc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function p_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function vy(n,e,t){const i=new Map;at(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,d=e.data.field(l.field);i.set(l.field,gS(h,d,t[o]))}return i}function _y(n,e,t){const i=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);i.set(o.field,mS(l,h,e))}return i}class m_ extends Dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TS extends Dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&wS(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ya(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ya(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=a_();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const p=f_(h,d);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ve.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),He())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(t,i)=>yy(t,i))&&Ko(this.baseMutations,e.baseMutations,(t,i)=>yy(t,i))}}class Cf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){at(e.mutations.length===i.length);let o=function(){return cS}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new Cf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Je;function RS(n){switch(n){default:return Ne();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function g_(n){if(n===void 0)return gi("GRPC error has no .code"),te.UNKNOWN;switch(n){case Nt.OK:return te.OK;case Nt.CANCELLED:return te.CANCELLED;case Nt.UNKNOWN:return te.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return te.INTERNAL;case Nt.UNAVAILABLE:return te.UNAVAILABLE;case Nt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Nt.NOT_FOUND:return te.NOT_FOUND;case Nt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Nt.ABORTED:return te.ABORTED;case Nt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Nt.DATA_LOSS:return te.DATA_LOSS;default:return Ne()}}(Je=Nt||(Nt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=new Hs([4294967295,4294967295],0);function wy(n){const e=CS().encode(n),t=new Fv;return t.update(e),new Uint8Array(t.digest())}function Ey(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Hs([t,i],0),new Hs([o,l],0)]}class Pf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Wa(`Invalid padding: ${t}`);if(i<0)throw new Wa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Wa(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Wa(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Hs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Hs.fromNumber(i)));return o.compare(PS)===1&&(o=new Hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=wy(e),[i,o]=Ey(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);if(!this.de(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Pf(l,o,t);return i.forEach(d=>h.insert(d)),h}insert(e){if(this.Te===0)return;const t=wy(e),[i,o]=Ey(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Wa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,ml.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Nc(Ve.min(),o,new It(We),yi(),He())}}class ml{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ml(i,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class y_{constructor(e,t){this.targetId=e,this.me=t}}class v_{constructor(e,t,i=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Ty{constructor(){this.fe=0,this.ge=Iy(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=He(),t=He(),i=He();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ne()}}),new ml(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Iy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,at(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kS{constructor(e){this.Le=e,this.Be=new Map,this.ke=yi(),this.qe=Vu(),this.Qe=Vu(),this.Ke=new It(We)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if($d(l))if(i===0){const h=new Se(l.path);this.We(t,h,dn.newNoDocument(h,Ve.min()))}else at(i===1);else{const h=this.Ze(t);if(h!==i){const d=this.Xe(e),p=d?this.et(d,e,h):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=ds(i).toUint8Array()}catch(p){if(p instanceof Kv)return Wo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Pf(h,o,l)}catch(p){return Wo(p instanceof Wa?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const h=this.Le.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,h)=>{const d=this.Ye(h);if(d){if(l.current&&$d(d.target)){const p=new Se(d.target.path);this.st(p).has(h)||this.ot(h,p)||this.We(h,p,dn.newNoDocument(p,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let i=He();this.Qe.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const o=new Nc(e,t,this.Ke,this.ke,i);return this.ke=yi(),this.qe=Vu(),this.Qe=Vu(),this.Ke=new It(We),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Ty,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Ft(We),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ft(We),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Ty),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Vu(){return new It(Se.comparator)}function Iy(){return new It(Se.comparator)}const xS={asc:"ASCENDING",desc:"DESCENDING"},DS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NS={and:"AND",or:"OR"};class LS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gd(n,e){return n.useProto3Json||Rc(e)?e:{value:e}}function cc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function __(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function OS(n,e){return cc(n,e.toTimestamp())}function Ur(n){return at(!!n),Ve.fromTimestamp(function(t){const i=hs(t);return new bt(i.seconds,i.nanos)}(n))}function kf(n,e){return Qd(n,e).canonicalString()}function Qd(n,e){const t=function(o){return new vt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function w_(n){const e=vt.fromString(n);return at(S_(e)),e}function Yd(n,e){return kf(n.databaseId,e.path)}function Rd(n,e){const t=w_(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(T_(t))}function E_(n,e){return kf(n.databaseId,e)}function VS(n){const e=w_(n);return e.length===4?vt.emptyPath():T_(e)}function Xd(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function T_(n){return at(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Ay(n,e,t){return{name:Yd(n,e),fields:t.value.mapValue.fields}}function MS(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,w){return y.useProto3Json?(at(w===void 0||typeof w=="string"),tn.fromBase64String(w||"")):(at(w===void 0||w instanceof Buffer||w instanceof Uint8Array),tn.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(y){const w=y.code===void 0?te.UNKNOWN:g_(y.code);return new Te(w,y.message||"")}(h);t=new v_(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Rd(n,i.document.name),l=Ur(i.document.updateTime),h=i.document.createTime?Ur(i.document.createTime):Ve.min(),d=new Yn({mapValue:{fields:i.document.fields}}),p=dn.newFoundDocument(o,l,h,d),y=i.targetIds||[],w=i.removedTargetIds||[];t=new Ku(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Rd(n,i.document),l=i.readTime?Ur(i.readTime):Ve.min(),h=dn.newNoDocument(o,l),d=i.removedTargetIds||[];t=new Ku([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Rd(n,i.document),l=i.removedTargetIds||[];t=new Ku([],l,o,null)}else{if(!("filter"in e))return Ne();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new SS(o,l),d=i.targetId;t=new y_(d,h)}}return t}function bS(n,e){let t;if(e instanceof pl)t={update:Ay(n,e.key,e.value)};else if(e instanceof m_)t={delete:Yd(n,e.key)};else if(e instanceof Js)t={update:Ay(n,e.key,e.data),updateMask:WS(e.fieldMask)};else{if(!(e instanceof TS))return Ne();t={verify:Yd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,h){const d=h.transform;if(d instanceof il)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof sl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ol)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof uc)return{fieldPath:h.field.canonicalString(),increment:d.Pe};throw Ne()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:OS(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne()}(n,e.precondition)),t}function FS(n,e){return n&&n.length>0?(at(e!==void 0),n.map(t=>function(o,l){let h=o.updateTime?Ur(o.updateTime):Ur(l);return h.isEqual(Ve.min())&&(h=Ur(l)),new _S(h,o.transformResults||[])}(t,e))):[]}function US(n,e){return{documents:[E_(n,e.path)]}}function zS(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=E_(n,o);const l=function(y){if(y.length!==0)return A_(Tr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(w=>function(A){return{field:Uo(A.field),direction:HS(A.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Gd(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function jS(n){let e=VS(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){at(i===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=function(I){const A=I_(I);return A instanceof Tr&&Xv(A)?A.getFilters():[A]}(t.where));let h=[];t.orderBy&&(h=function(I){return I.map(A=>function(L){return new lc(zo(L.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(A))}(t.orderBy));let d=null;t.limit&&(d=function(I){let A;return A=typeof I=="object"?I.value:I,Rc(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(I){const A=!!I.before,S=I.values||[];return new ac(S,A)}(t.startAt));let y=null;return t.endAt&&(y=function(I){const A=!I.before,S=I.values||[];return new ac(S,A)}(t.endAt)),sS(e,o,h,l,d,"F",p,y)}function BS(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function I_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=zo(t.unaryFilter.field);return Lt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=zo(t.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=zo(t.unaryFilter.field);return Lt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=zo(t.unaryFilter.field);return Lt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(n):n.fieldFilter!==void 0?function(t){return Lt.create(zo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Tr.create(t.compositeFilter.filters.map(i=>I_(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne()}}(t.compositeFilter.op))}(n):Ne()}function HS(n){return xS[n]}function qS(n){return DS[n]}function $S(n){return NS[n]}function Uo(n){return{fieldPath:n.canonicalString()}}function zo(n){return Zt.fromServerFormat(n.fieldPath)}function A_(n){return n instanceof Lt?function(t){if(t.op==="=="){if(hy(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NAN"}};if(cy(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hy(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NOT_NAN"}};if(cy(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(t.field),op:qS(t.op),value:t.value}}}(n):n instanceof Tr?function(t){const i=t.getFilters().map(o=>A_(o));return i.length===1?i[0]:{compositeFilter:{op:$S(t.op),filters:i}}}(n):Ne()}function WS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function S_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t,i,o,l=Ve.min(),h=Ve.min(),d=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.ht=e}}function GS(n){const e=jS({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Kd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.ln=new YS}addToCollectionParentIndex(e,t){return this.ln.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(cs.min())}updateCollectionGroup(e,t,i){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class YS{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Ft(vt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ft(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(41943040,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Yo(0)}static Qn(){return new Yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry([n,e],[t,i]){const o=We(n,t);return o===0?We(e,i):o}class XS{constructor(e){this.Gn=e,this.buffer=new Ft(Ry),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ry(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JS{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ra(t)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await na(t)}await this.Yn(3e5)})}}class ZS{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Sc.oe);const i=new XS(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Sy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,h,d,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,h=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(i=I,d=Date.now(),this.removeTargets(e,i,t))).next(I=>(l=I,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(y=Date.now(),bo()<=Be.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${I} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:I})))}}function e1(n,e){return new ZS(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.changes=new Xs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Z.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Ya(i.mutation,o,_r.empty(),bt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,He()).next(()=>i))}getLocalViewOfDocuments(e,t,i=He()){const o=js();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let h=$a();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=js();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,He()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,i,o){let l=yi();const h=Qa(),d=function(){return Qa()}();return t.forEach((p,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof Js)?l=l.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),Ya(w.mutation,y,w.mutation.getFieldMask(),bt.now())):h.set(y.key,_r.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,w)=>h.set(y,w)),t.forEach((y,w)=>{var I;return d.set(y,new n1(w,(I=h.get(y))!==null&&I!==void 0?I:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Qa();let o=new It((h,d)=>h-d),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let w=i.get(p)||_r.empty();w=d.applyToLocalView(y,w),i.set(p,w);const I=(o.get(d.batchId)||He()).add(p);o=o.insert(d.batchId,I)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,w=p.value,I=a_();w.forEach(A=>{if(!l.has(A)){const S=f_(t.get(A),i.get(A));S!==null&&I.set(A,S),l=l.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,I))}return Z.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return Se.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):n_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Z.resolve(js());let d=-1,p=l;return h.next(y=>Z.forEach(y,(w,I)=>(d<I.largestBatchId&&(d=I.largestBatchId),l.get(w)?Z.resolve():this.remoteDocumentCache.getEntry(e,w).next(A=>{p=p.insert(w,A)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,He())).next(w=>({batchId:d,changes:o_(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(i=>{let o=$a();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=$a();return this.indexManager.getCollectionParents(e,l).next(d=>Z.forEach(d,p=>{const y=function(I,A){return new fl(A,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(w=>{w.forEach((I,A)=>{h=h.insert(I,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(h=>{l.forEach((p,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,dn.newInvalidDocument(w)))});let d=$a();return h.forEach((p,y)=>{const w=l.get(p);w!==void 0&&Ya(w.mutation,y,_r.empty(),bt.now()),kc(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Z.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ur(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:GS(o.bundledQuery),readTime:Ur(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.overlays=new It(Se.comparator),this.Er=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const i=js();return Z.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),Z.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),Z.resolve()}getOverlaysForCollection(e,t,i){const o=js(),l=t.length+1,h=new Se(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new It((y,w)=>y-w);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=l.get(y.largestBatchId);w===null&&(w=js(),l=l.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const d=js(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,w)=>d.set(y,w)),!(d.size()>=o)););return Z.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new AS(t,i));let l=this.Er.get(t);l===void 0&&(l=He(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this.dr=new Ft(Ht.Ar),this.Rr=new Ft(Ht.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Ht(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Ht(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Se(new vt([])),i=new Ht(t,e),o=new Ht(t,e+1),l=[];return this.Rr.forEachInRange([i,o],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Se(new vt([])),i=new Ht(t,e),o=new Ht(t,e+1);let l=He();return this.Rr.forEachInRange([i,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Ht(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ht{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Se.comparator(e.key,t.key)||We(e.br,t.br)}static Vr(e,t){return We(e.br,t.br)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Ft(Ht.Ar)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new IS(l,t,i,o);this.mutationQueue.push(h);for(const d of o)this.vr=this.vr.add(new Ht(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,t){return Z.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return Z.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],h=>{const d=this.Cr(h.br);l.push(d)}),Z.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ft(We);return t.forEach(o=>{const l=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],d=>{i=i.add(d.br)})}),Z.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Se.isDocumentKey(l)||(l=l.child(""));const h=new Ht(new Se(l),0);let d=new Ft(We);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.br)),!0)},h),Z.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){at(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return Z.forEach(t.mutations,o=>{const l=new Ht(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Ht(t,0),o=this.vr.firstAfterOrEqual(i);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.Nr=e,this.docs=function(){return new It(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Z.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let i=yi();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():dn.newInvalidDocument(o))}),Z.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=yi();const h=t.path,d=new Se(h.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||FA(bA(w),i)<=0||(o.has(w.key)||kc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return Z.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ne()}Lr(e,t){return Z.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new u1(this)}getSize(e){return Z.resolve(this.size)}}class u1 extends t1{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),Z.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.persistence=e,this.Br=new Xs(t=>Af(t),Sf),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.kr=0,this.qr=new xf,this.targetCount=0,this.Qr=Yo.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),Z.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Yo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Un(t),Z.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((h,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Z.waitFor(l).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return Z.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),Z.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Z.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return Z.resolve(i)}containsKey(e,t){return Z.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Sc(0),this.Ur=!1,this.Ur=!0,this.Wr=new o1,this.referenceDelegate=e(this),this.Gr=new c1(this),this.indexManager=new QS,this.remoteDocumentCache=function(o){return new l1(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new KS(t),this.jr=new i1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new s1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new a1(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const o=new h1(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return Z.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class h1 extends zA{constructor(e){super(),this.currentSequenceNumber=e}}class Df{constructor(e){this.persistence=e,this.Zr=new xf,this.Xr=null}static ei(e){return new Df(e)}get ti(){if(this.Xr)return this.Xr;throw Ne()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),Z.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ti,i=>{const o=Se.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ve.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Z.or([()=>Z.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class hc{constructor(e,t){this.persistence=e,this.ri=new Xs(i=>HA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=e1(this,t)}static ei(e,t){return new hc(e,t)}Hr(){}Jr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return Z.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?Z.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(d=>{d||(i++,l.removeEntry(h,Ve.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qu(e.data.value)),t}ir(e,t,i){return Z.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Z.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=He(),o=He();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Nf(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return cI()?8:jA(fn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new d1;return this.ts(e,t,h).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,h,d.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(bo()<=Be.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Fo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Z.resolve()):(bo()<=Be.DEBUG&&me("QueryEngine","Query:",Fo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(bo()<=Be.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Fo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):Z.resolve())}Xi(e,t){if(my(t))return Z.resolve(null);let i=Fr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Kd(t,null,"F"),i=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const h=He(...l);return this.Zi.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,d);return this.ss(t,y,h,p.readTime)?this.Xi(e,Kd(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return my(t)||o.isEqual(Ve.min())?Z.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const h=this.rs(t,l);return this.ss(t,h,i,o)?Z.resolve(null):(bo()<=Be.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fo(t)),this.os(e,h,t,MA(o,-1)).next(d=>d))})}rs(e,t){let i=new Ft(i_(e));return t.forEach((o,l)=>{kc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return bo()<=Be.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Fo(t)),this.Zi.getDocumentsMatchingQuery(e,t,cs.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new It(We),this.cs=new Xs(l=>Af(l),Sf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r1(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function m1(n,e,t,i){return new p1(n,e,t,i)}async function C_(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const h=[],d=[];let p=He();for(const y of o){h.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of l){d.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:d}))})})}function g1(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,y,w){const I=y.batch,A=I.keys();let S=Z.resolve();return A.forEach(L=>{S=S.next(()=>w.getEntry(p,L)).next(M=>{const b=y.docVersions.get(L);at(b!==null),M.version.compareTo(b)<0&&(I.applyToRemoteDocument(M,y),M.isValidDocument()&&(M.setReadTime(y.commitVersion),w.addEntry(M)))})}),S.next(()=>d.mutationQueue.removeMutationBatch(p,I))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=He();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function P_(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function y1(n,e){const t=be(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((w,I)=>{const A=o.get(I);if(!A)return;d.push(t.Gr.removeMatchingKeys(l,w.removedDocuments,I).next(()=>t.Gr.addMatchingKeys(l,w.addedDocuments,I)));let S=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(I)!==null?S=S.withResumeToken(tn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):w.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(w.resumeToken,i)),o=o.insert(I,S),function(M,b,$){return M.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(A,S,w)&&d.push(t.Gr.updateTargetData(l,S))});let p=yi(),y=He();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),d.push(v1(l,h,e.documentUpdates).next(w=>{p=w.Is,y=w.Es})),!i.isEqual(Ve.min())){const w=t.Gr.getLastRemoteSnapshotVersion(l).next(I=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(w)}return Z.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function v1(n,e,t){let i=He(),o=He();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let h=yi();return t.forEach((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ve.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):me("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Is:h,Es:o}})}function _1(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function w1(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,Z.resolve(o)):t.Gr.allocateTargetId(i).next(h=>(o=new rs(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Jd(n,e,t){const i=be(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!ra(h))throw h;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Cy(n,e,t){const i=be(n);let o=Ve.min(),l=He();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,w){const I=be(p),A=I.cs.get(w);return A!==void 0?Z.resolve(I.us.get(A)):I.Gr.getTargetData(y,w)}(i,h,Fr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(h,e,t?o:Ve.min(),t?l:He())).next(d=>(E1(i,aS(e),d),{documents:d,ds:l})))}function E1(n,e,t){let i=n.ls.get(e)||Ve.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class Py{constructor(){this.activeTargetIds=fS()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T1{constructor(){this._o=new Py,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Py,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu=null;function Cd(){return Mu===null?Mu=function(){return 268435456+Math.round(2147483648*Math.random())}():Mu++,"0x"+Mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class R1 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,h){const d=Cd(),p=this.No(t,i.toUriEncodedString());me("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,h),this.Bo(t,p,y,o).then(w=>(me("RestConnection",`Received RPC '${t}' ${d}: `,w),w),w=>{throw Wo("RestConnection",`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",o),w})}ko(t,i,o,l,h,d){return this.Oo(t,i,o,l,h)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ta}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),o&&o.headers.forEach((l,h)=>t[h]=l)}No(t,i){const o=A1[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=Cd();return new Promise((h,d)=>{const p=new Uv;p.setWithCredentials(!0),p.listenOnce(zv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Hu.NO_ERROR:const w=p.getResponseJson();me(cn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),h(w);break;case Hu.TIMEOUT:me(cn,`RPC '${e}' ${l} timed out`),d(new Te(te.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:const I=p.getStatus();if(me(cn,`RPC '${e}' ${l} failed with status:`,I,"response text:",p.getResponseText()),I>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const S=A==null?void 0:A.error;if(S&&S.status&&S.message){const L=function(b){const $=b.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf($)>=0?$:te.UNKNOWN}(S.status);d(new Te(L,S.message))}else d(new Te(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Te(te.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{me(cn,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);me(cn,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=Cd(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Hv(),d=Bv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const w=l.join("");me(cn,`Creating RPC '${e}' stream ${o}: ${w}`,p);const I=h.createWebChannel(w,p);let A=!1,S=!1;const L=new S1({Eo:b=>{S?me(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(A||(me(cn,`Opening RPC '${e}' stream ${o} transport.`),I.open(),A=!0),me(cn,`RPC '${e}' stream ${o} sending:`,b),I.send(b))},Ao:()=>I.close()}),M=(b,$,X)=>{b.listen($,ee=>{try{X(ee)}catch(le){setTimeout(()=>{throw le},0)}})};return M(I,qa.EventType.OPEN,()=>{S||(me(cn,`RPC '${e}' stream ${o} transport opened.`),L.So())}),M(I,qa.EventType.CLOSE,()=>{S||(S=!0,me(cn,`RPC '${e}' stream ${o} transport closed`),L.Do())}),M(I,qa.EventType.ERROR,b=>{S||(S=!0,Wo(cn,`RPC '${e}' stream ${o} transport errored:`,b),L.Do(new Te(te.UNAVAILABLE,"The operation could not be completed")))}),M(I,qa.EventType.MESSAGE,b=>{var $;if(!S){const X=b.data[0];at(!!X);const ee=X,le=(ee==null?void 0:ee.error)||(($=ee[0])===null||$===void 0?void 0:$.error);if(le){me(cn,`RPC '${e}' stream ${o} received error:`,le);const U=le.status;let ce=function(R){const x=Nt[R];if(x!==void 0)return g_(x)}(U),k=le.message;ce===void 0&&(ce=te.INTERNAL,k="Unknown error status: "+U+" with message "+le.message),S=!0,L.Do(new Te(ce,k)),I.close()}else me(cn,`RPC '${e}' stream ${o} received:`,X),L.vo(X)}}),M(d,jv.STAT_EVENT,b=>{b.stat===jd.PROXY?me(cn,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===jd.NOPROXY&&me(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.bo()},0),L}}function Pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(n){return new LS(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,t,i,o,l,h,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new k_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(gi(t.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new Te(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C1 extends x_{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=MS(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ve.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ve.min():h.readTime?Ur(h.readTime):Ve.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Xd(this.serializer),t.addTarget=function(l,h){let d;const p=h.target;if(d=$d(p)?{documents:US(l,p)}:{query:zS(l,p).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=__(l,h.resumeToken);const y=Gd(l,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ve.min())>0){d.readTime=cc(l,h.snapshotVersion.toTimestamp());const y=Gd(l,h.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=BS(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Xd(this.serializer),t.removeTarget=e,this.c_(t)}}class P1 extends x_{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=FS(e.writeResults,e.commitTime),i=Ur(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Xd(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>bS(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1 extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Te(te.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,Qd(t,i),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(te.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.ko(e,Qd(t,i),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Te(te.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class x1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(gi(t),this.C_=!1):me("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{i.enqueueAndForget(async()=>{Zs(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=be(p);y.k_.add(4),await gl(y),y.K_.set("Unknown"),y.k_.delete(4),await Oc(y)}(this))})}),this.K_=new x1(i,o)}}async function Oc(n){if(Zs(n))for(const e of n.q_)await e(!0)}async function gl(n){for(const e of n.q_)await e(!1)}function D_(n,e){const t=be(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Mf(t)?Vf(t):ia(t).s_()&&Of(t,e))}function Lf(n,e){const t=be(n),i=ia(t);t.B_.delete(e),i.s_()&&N_(t,e),t.B_.size===0&&(i.s_()?i.a_():Zs(t)&&t.K_.set("Unknown"))}function Of(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ia(n).V_(e)}function N_(n,e){n.U_.xe(e),ia(n).m_(e)}function Vf(n){n.U_=new kS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ia(n).start(),n.K_.F_()}function Mf(n){return Zs(n)&&!ia(n).i_()&&n.B_.size>0}function Zs(n){return be(n).k_.size===0}function L_(n){n.U_=void 0}async function N1(n){n.K_.set("Online")}async function L1(n){n.B_.forEach((e,t)=>{Of(n,e)})}async function O1(n,e){L_(n),Mf(n)?(n.K_.O_(e),Vf(n)):n.K_.set("Unknown")}async function V1(n,e,t){if(n.K_.set("Online"),e instanceof v_&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await dc(n,i)}else if(e instanceof Ku?n.U_.$e(e):e instanceof y_?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ve.min()))try{const i=await P_(n.localStore);t.compareTo(i)>=0&&await function(l,h){const d=l.U_.it(h);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=l.B_.get(y);w&&l.B_.set(y,w.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,y)=>{const w=l.B_.get(p);if(!w)return;l.B_.set(p,w.withResumeToken(tn.EMPTY_BYTE_STRING,w.snapshotVersion)),N_(l,p);const I=new rs(w.target,p,y,w.sequenceNumber);Of(l,I)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){me("RemoteStore","Failed to raise snapshot:",i),await dc(n,i)}}async function dc(n,e,t){if(!ra(e))throw e;n.k_.add(1),await gl(n),n.K_.set("Offline"),t||(t=()=>P_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Oc(n)})}function O_(n,e){return e().catch(t=>dc(n,t,e))}async function Vc(n){const e=be(n),t=ps(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;M1(e);)try{const o=await _1(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,b1(e,o)}catch(o){await dc(e,o)}V_(e)&&M_(e)}function M1(n){return Zs(n)&&n.L_.length<10}function b1(n,e){n.L_.push(e);const t=ps(n);t.s_()&&t.f_&&t.g_(e.mutations)}function V_(n){return Zs(n)&&!ps(n).i_()&&n.L_.length>0}function M_(n){ps(n).start()}async function F1(n){ps(n).w_()}async function U1(n){const e=ps(n);for(const t of n.L_)e.g_(t.mutations)}async function z1(n,e,t){const i=n.L_.shift(),o=Cf.from(i,e,t);await O_(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Vc(n)}async function j1(n,e){e&&ps(n).f_&&await async function(i,o){if(function(h){return RS(h)&&h!==te.ABORTED}(o.code)){const l=i.L_.shift();ps(i).__(),await O_(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Vc(i)}}(n,e),V_(n)&&M_(n)}async function xy(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const i=Zs(t);t.k_.add(3),await gl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Oc(t)}async function B1(n,e){const t=be(n);e?(t.k_.delete(2),await Oc(t)):e||(t.k_.add(2),await gl(t),t.K_.set("Unknown"))}function ia(n){return n.W_||(n.W_=function(t,i,o){const l=be(t);return l.b_(),new C1(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:N1.bind(null,n),mo:L1.bind(null,n),po:O1.bind(null,n),R_:V1.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Mf(n)?Vf(n):n.K_.set("Unknown")):(await n.W_.stop(),L_(n))})),n.W_}function ps(n){return n.G_||(n.G_=function(t,i,o){const l=be(t);return l.b_(),new P1(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:F1.bind(null,n),po:j1.bind(null,n),p_:U1.bind(null,n),y_:z1.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Vc(n)):(await n.G_.stop(),n.L_.length>0&&(me("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,d=new bf(e,t,h,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ff(n,e){if(gi("AsyncQueue",`${e}: ${n}`),ra(n))return new Te(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Se.comparator(t.key,i.key):(t,i)=>Se.comparator(t.key,i.key),this.keyedMap=$a(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new jo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.z_=new It(Se.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ne():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Xo{constructor(e,t,i,o,l,h,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Xo(e,t,jo.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class q1{constructor(){this.queries=Ny(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=be(t),l=o.queries;o.queries=Ny(),l.forEach((h,d)=>{for(const p of d.J_)p.onError(i)})})(this,new Te(te.ABORTED,"Firestore shutting down"))}}function Ny(){return new Xs(n=>r_(n),Pc)}async function $1(n,e){const t=be(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new H1,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Ff(h,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Uf(t)}async function W1(n,e){const t=be(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function K1(n,e){const t=be(n);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.J_)d.ta(o)&&(i=!0);h.H_=o}}i&&Uf(t)}function G1(n,e,t){const i=be(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Uf(n){n.X_.forEach(e=>{e.next()})}var Zd,Ly;(Ly=Zd||(Zd={})).na="default",Ly.Cache="cache";class Q1{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Xo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Zd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){this.key=e}}class F_{constructor(e){this.key=e}}class Y1{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=He(),this.mutatedKeys=He(),this.Va=i_(e),this.ma=new jo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new Dy,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,I)=>{const A=o.get(w),S=kc(this.query,I)?I:null,L=!!A&&this.mutatedKeys.has(A.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let b=!1;A&&S?A.data.isEqual(S.data)?L!==M&&(i.track({type:3,doc:S}),b=!0):this.ya(A,S)||(i.track({type:2,doc:S}),b=!0,(p&&this.Va(S,p)>0||y&&this.Va(S,y)<0)&&(d=!0)):!A&&S?(i.track({type:0,doc:S}),b=!0):A&&!S&&(i.track({type:1,doc:A}),b=!0,(p||y)&&(d=!0)),b&&(S?(h=h.add(S),l=M?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),i.track({type:1,doc:w})}return{ma:h,pa:i,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((w,I)=>function(S,L){const M=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return M(S)-M(L)}(w.type,I.type)||this.Va(w.doc,I.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,h.length!==0||y?{snapshot:new Xo(this.query,e.ma,l,h,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Dy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=He(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new F_(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new b_(i))}),t}va(e){this.da=e.ds,this.Ra=He();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Xo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class X1{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class J1{constructor(e){this.key=e,this.Fa=!1}}class Z1{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Xs(d=>r_(d),Pc),this.Oa=new Map,this.Na=new Set,this.La=new It(Se.comparator),this.Ba=new Map,this.ka=new xf,this.qa={},this.Qa=new Map,this.Ka=Yo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function eR(n,e,t=!0){const i=q_(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await U_(i,e,t,!0),o}async function tR(n,e){const t=q_(n);await U_(t,e,!0,!1)}async function U_(n,e,t,i){const o=await w1(n.localStore,Fr(e)),l=o.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await nR(n,e,l,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&D_(n.remoteStore,o),d}async function nR(n,e,t,i,o){n.Ua=(I,A,S)=>async function(M,b,$,X){let ee=b.view.ga($);ee.ss&&(ee=await Cy(M.localStore,b.query,!1).then(({documents:k})=>b.view.ga(k,ee)));const le=X&&X.targetChanges.get(b.targetId),U=X&&X.targetMismatches.get(b.targetId)!=null,ce=b.view.applyChanges(ee,M.isPrimaryClient,le,U);return Vy(M,b.targetId,ce.ba),ce.snapshot}(n,I,A,S);const l=await Cy(n.localStore,e,!0),h=new Y1(e,l.ds),d=h.ga(l.documents),p=ml.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=h.applyChanges(d,n.isPrimaryClient,p);Vy(n,t,y.ba);const w=new X1(e,t,h);return n.xa.set(e,w),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function rR(n,e,t){const i=be(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(h=>!Pc(h,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Jd(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Lf(i.remoteStore,o.targetId),ef(i,o.targetId)}).catch(na)):(ef(i,o.targetId),await Jd(i.localStore,o.targetId,!0))}async function iR(n,e){const t=be(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Lf(t.remoteStore,i.targetId))}async function sR(n,e,t){const i=dR(n);try{const o=await function(h,d){const p=be(h),y=bt.now(),w=d.reduce((S,L)=>S.add(L.key),He());let I,A;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let L=yi(),M=He();return p.hs.getEntries(S,w).next(b=>{L=b,L.forEach(($,X)=>{X.isValidDocument()||(M=M.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,L)).next(b=>{I=b;const $=[];for(const X of d){const ee=ES(X,I.get(X.key).overlayedDocument);ee!=null&&$.push(new Js(X.key,ee,Gv(ee.value.mapValue),pi.exists(!0)))}return p.mutationQueue.addMutationBatch(S,y,$,d)}).next(b=>{A=b;const $=b.applyToLocalDocumentSet(I,M);return p.documentOverlayCache.saveOverlays(S,b.batchId,$)})}).then(()=>({batchId:A.batchId,changes:o_(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let y=h.qa[h.currentUser.toKey()];y||(y=new It(We)),y=y.insert(d,p),h.qa[h.currentUser.toKey()]=y}(i,o.batchId,t),await yl(i,o.changes),await Vc(i.remoteStore)}catch(o){const l=Ff(o,"Failed to persist write");t.reject(l)}}async function z_(n,e){const t=be(n);try{const i=await y1(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ba.get(l);h&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?at(h.Fa):o.removedDocuments.size>0&&(at(h.Fa),h.Fa=!1))}),await yl(t,i,e)}catch(i){await na(i)}}function Oy(n,e,t){const i=be(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,h)=>{const d=h.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=be(h);p.onlineState=d;let y=!1;p.queries.forEach((w,I)=>{for(const A of I.J_)A.ea(d)&&(y=!0)}),y&&Uf(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function oR(n,e,t){const i=be(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let h=new It(Se.comparator);h=h.insert(l,dn.newNoDocument(l,Ve.min()));const d=He().add(l),p=new Nc(Ve.min(),new Map,new It(We),h,d);await z_(i,p),i.La=i.La.remove(l),i.Ba.delete(e),zf(i)}else await Jd(i.localStore,e,!1).then(()=>ef(i,e,t)).catch(na)}async function aR(n,e){const t=be(n),i=e.batch.batchId;try{const o=await g1(t.localStore,e);B_(t,i,null),j_(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await yl(t,o)}catch(o){await na(o)}}async function lR(n,e,t){const i=be(n);try{const o=await function(h,d){const p=be(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return p.mutationQueue.lookupMutationBatch(y,d).next(I=>(at(I!==null),w=I.keys(),p.mutationQueue.removeMutationBatch(y,I))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>p.localDocuments.getDocuments(y,w))})}(i.localStore,e);B_(i,e,t),j_(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await yl(i,o)}catch(o){await na(o)}}function j_(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function B_(n,e,t){const i=be(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function ef(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||H_(n,i)})}function H_(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Lf(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),zf(n))}function Vy(n,e,t){for(const i of t)i instanceof b_?(n.ka.addReference(i.key,e),uR(n,i)):i instanceof F_?(me("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||H_(n,i.key)):Ne()}function uR(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(me("SyncEngine","New document in limbo: "+t),n.Na.add(i),zf(n))}function zf(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Se(vt.fromString(e)),i=n.Ka.next();n.Ba.set(i,new J1(t)),n.La=n.La.insert(t,i),D_(n.remoteStore,new rs(Fr(t_(t.path)),i,"TargetPurposeLimboResolution",Sc.oe))}}async function yl(n,e,t){const i=be(n),o=[],l=[],h=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{h.push(i.Ua(p,e,t).then(y=>{var w;if((y||t)&&i.isPrimaryClient){const I=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(y){o.push(y);const I=Nf.zi(p.targetId,y);l.push(I)}}))}),await Promise.all(h),i.Ma.R_(o),await async function(p,y){const w=be(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Z.forEach(y,A=>Z.forEach(A.Wi,S=>w.persistence.referenceDelegate.addReference(I,A.targetId,S)).next(()=>Z.forEach(A.Gi,S=>w.persistence.referenceDelegate.removeReference(I,A.targetId,S)))))}catch(I){if(!ra(I))throw I;me("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const A=I.targetId;if(!I.fromCache){const S=w.us.get(A),L=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(L);w.us=w.us.insert(A,M)}}}(i.localStore,l))}async function cR(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const i=await C_(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(d=>{d.forEach(p=>{p.reject(new Te(te.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await yl(t,i.Ts)}}function hR(n,e){const t=be(n),i=t.Ba.get(e);if(i&&i.Fa)return He().add(i.key);{let o=He();const l=t.Oa.get(e);if(!l)return o;for(const h of l){const d=t.xa.get(h);o=o.unionWith(d.view.fa)}return o}}function q_(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=z_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oR.bind(null,e),e.Ma.R_=K1.bind(null,e.eventManager),e.Ma.Wa=G1.bind(null,e.eventManager),e}function dR(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lR.bind(null,e),e}class fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return m1(this.persistence,new f1,e.initialUser,this.serializer)}ja(e){return new R_(Df.ei,this.serializer)}za(e){return new T1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fc.provider={build:()=>new fc};class fR extends fc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){at(this.persistence.referenceDelegate instanceof hc);const i=this.persistence.referenceDelegate.garbageCollector;return new JS(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new R_(i=>hc.ei(i,t),this.serializer)}}class tf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Oy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=cR.bind(null,this.syncEngine),await B1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new q1}()}createDatastore(e){const t=Lc(e.databaseInfo.databaseId),i=function(l){return new R1(l)}(e.databaseInfo);return function(l,h,d,p){return new k1(l,h,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,h,d){return new D1(i,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Oy(this.syncEngine,t,0),function(){return ky.p()?new ky:new I1}())}createSyncEngine(e,t){return function(o,l,h,d,p,y,w){const I=new Z1(o,l,h,d,p,y);return w&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=be(o);me("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await gl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}tf.provider={build:()=>new tf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=$v.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async h=>{me("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(me("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Ff(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function kd(n,e){n.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await C_(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function My(n,e){n.asyncQueue.verifyOperationInProgress();const t=await gR(n);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>xy(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>xy(e.remoteStore,o)),n._onlineComponents=e}async function gR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await kd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Wo("Error using user provided cache. Falling back to memory cache: "+t),await kd(n,new fc)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await kd(n,new fR(void 0));return n._offlineComponents}async function $_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await My(n,n._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await My(n,new tf))),n._onlineComponents}function yR(n){return $_(n).then(e=>e.syncEngine)}async function vR(n){const e=await $_(n),t=e.eventManager;return t.onListen=eR.bind(null,e.syncEngine),t.onUnlisten=rR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=iR.bind(null,e.syncEngine),t}function _R(n,e,t={}){const i=new as;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,y){const w=new pR({next:A=>{w.eu(),h.enqueueAndForget(()=>W1(l,I)),A.fromCache&&p.source==="server"?y.reject(new Te(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),I=new Q1(d,w,{includeMetadataChanges:!0,ua:!0});return $1(l,I)}(await vR(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(n,e,t){if(!t)throw new Te(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wR(n,e,t,i){if(e===!0&&i===!0)throw new Te(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Fy(n){if(!Se.isDocumentKey(n))throw new Te(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Uy(n){if(Se.isDocumentKey(n))throw new Te(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne()}function pc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mc(n);throw new Te(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Te(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W_((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Te(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Te(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Te(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new CA;switch(i.type){case"firstParty":return new DA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Te(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=by.get(t);i&&(me("ComponentProvider","Removing Datastore"),by.delete(t),i.terminate())}(this),Promise.resolve()}}function ER(n,e,t,i={}){var o;const l=(n=pc(n,bc))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=hn.MOCK_USER;else{d=rI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Te(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new hn(y)}n._authCredentials=new PA(new qv(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class Xn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class ls extends sa{constructor(e,t,i){super(e,t,t_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new Se(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function TR(n,e,...t){if(n=Jn(n),K_("collection","path",e),n instanceof bc){const i=vt.fromString(e,...t);return Uy(i),new ls(n,null,i)}{if(!(n instanceof Xn||n instanceof ls))throw new Te(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return Uy(i),new ls(n.firestore,null,i)}}function IR(n,e,...t){if(n=Jn(n),arguments.length===1&&(e=$v.newId()),K_("doc","path",e),n instanceof bc){const i=vt.fromString(e,...t);return Fy(i),new Xn(n,null,new Se(i))}{if(!(n instanceof Xn||n instanceof ls))throw new Te(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return Fy(i),new Xn(n.firestore,n instanceof ls?n.converter:null,new Se(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new k_(this,"async_queue_retry"),this.fu=()=>{const i=Pd();i&&me("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Pd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Pd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new as;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ra(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(i);throw gi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=bf.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Ne()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class jf extends bc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new jy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jy(e),this._firestoreClient=void 0,await e}}}function AR(n,e){const t=typeof n=="object"?n:Vv(),i=typeof n=="string"?n:"(default)",o=wf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=tI("firestore");l&&ER(o,...l)}return o}function G_(n){if(n._terminated)throw new Te(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||SR(n),n._firestoreClient}function SR(n){var e,t,i;const o=n._freezeSettings(),l=function(d,p,y,w){return new WA(d,p,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,W_(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new mR(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jo(tn.fromBase64String(e))}catch(t){throw new Te(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jo(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=/^__.*__$/;class CR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Js(e,this.data,this.fieldMask,t,this.fieldTransforms):new pl(e,this.data,t,this.fieldTransforms)}}function Q_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class Wf{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Wf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return mc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Q_(this.Mu)&&RR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class PR{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Lc(e)}$u(e,t,i,o=!1){return new Wf({Mu:e,methodName:t,Ku:i,path:Zt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y_(n){const e=n._freezeSettings(),t=Lc(n._databaseId);return new PR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kR(n,e,t,i,o,l={}){const h=n.$u(l.merge||l.mergeFields?2:0,e,t,o);Z_("Data must be an object, but it was:",h,i);const d=X_(i,h);let p,y;if(l.merge)p=new _r(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const w=[];for(const I of l.mergeFields){const A=DR(e,I,t);if(!h.contains(A))throw new Te(te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);LR(w,A)||w.push(A)}p=new _r(w),y=h.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=h.fieldTransforms;return new CR(new Yn(d),p,y)}class Kf extends Hf{_toFieldTransform(e){return new yS(e.path,new il)}isEqual(e){return e instanceof Kf}}function xR(n,e,t,i=!1){return Gf(t,n.$u(i?4:3,e))}function Gf(n,e){if(J_(n=Jn(n)))return Z_("Unsupported field value:",e,n),X_(n,e);if(n instanceof Hf)return function(i,o){if(!Q_(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let h=0;for(const d of i){let p=Gf(d,o.ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=Jn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return pS(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=bt.fromDate(i);return{timestampValue:cc(o.serializer,l)}}if(i instanceof bt){const l=new bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:cc(o.serializer,l)}}if(i instanceof qf)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jo)return{bytesValue:__(o.serializer,i._byteString)};if(i instanceof Xn){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:kf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof $f)return function(h,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return Rf(d.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Mc(i)}`)}(n,e)}function X_(n,e){const t={};return Wv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(n,(i,o)=>{const l=Gf(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function J_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bt||n instanceof qf||n instanceof Jo||n instanceof Xn||n instanceof Hf||n instanceof $f)}function Z_(n,e,t){if(!J_(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Mc(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function DR(n,e,t){if((e=Jn(e))instanceof Bf)return e._internalPath;if(typeof e=="string")return e0(n,e);throw mc("Field path arguments must be of type string or ",n,!1,void 0,t)}const NR=new RegExp("[~\\*/\\[\\]]");function e0(n,e,t){if(e.search(NR)>=0)throw mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bf(...e.split("."))._internalPath}catch{throw mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mc(n,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new Te(te.INVALID_ARGUMENT,d+n+p)}function LR(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class OR extends t0{data(){return super.data()}}function Qf(n,e){return typeof e=="string"?e0(n,e):e instanceof Bf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Te(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yf{}class MR extends Yf{}function bR(n,e,...t){let i=[];e instanceof Yf&&i.push(e),i=i.concat(t),function(l){const h=l.filter(p=>p instanceof Xf).length,d=l.filter(p=>p instanceof Fc).length;if(h>1||h>0&&d>0)throw new Te(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Fc extends MR{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Fc(e,t,i)}_apply(e){const t=this._parse(e);return n0(e._query,t),new sa(e.firestore,e.converter,Wd(e._query,t))}_parse(e){const t=Y_(e.firestore);return function(l,h,d,p,y,w,I){let A;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Te(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Hy(I,w);const S=[];for(const L of I)S.push(By(p,l,L));A={arrayValue:{values:S}}}else A=By(p,l,I)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Hy(I,w),A=xR(d,h,I,w==="in"||w==="not-in");return Lt.create(y,w,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function FR(n,e,t){const i=e,o=Qf("where",n);return Fc._create(o,i,t)}class Xf extends Yf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Tr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const p of d)n0(h,p),h=Wd(h,p)}(e._query,t),new sa(e.firestore,e.converter,Wd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function By(n,e,t){if(typeof(t=Jn(t))=="string"){if(t==="")throw new Te(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n_(e)&&t.indexOf("/")!==-1)throw new Te(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(vt.fromString(t));if(!Se.isDocumentKey(i))throw new Te(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return uy(n,new Se(i))}if(t instanceof Xn)return uy(n,t._key);throw new Te(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mc(t)}.`)}function Hy(n,e){if(!Array.isArray(n)||n.length===0)throw new Te(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function n0(n,e){const t=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Te(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class UR{convertValue(e,t="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ys(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>kt(h.doubleValue));return new $f(l)}convertGeoPoint(e){return new qf(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Cc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(tl(e));default:return null}}convertTimestamp(e){const t=hs(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=vt.fromString(e);at(S_(i));const o=new nl(i.get(1),i.get(3)),l=new Se(i.popFirst(5));return o.isEqual(t)||gi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jR extends t0{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Qf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Gu extends jR{data(e={}){return super.data(e)}}class BR{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new bu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Gu(this._firestore,this._userDataWriter,i.key,i,new bu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new Gu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new bu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Gu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new bu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),w=h.indexOf(d.doc.key)),{type:HR(d.type),doc:p,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function HR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}class qR extends UR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,t)}}function $R(n){n=pc(n,sa);const e=pc(n.firestore,jf),t=G_(e),i=new qR(e);return VR(n._query),_R(t,n._query).then(o=>new BR(e,i,n,o))}function WR(n,e){const t=pc(n.firestore,jf),i=IR(n),o=zR(n.converter,e);return KR(t,[kR(Y_(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,pi.exists(!1))]).then(()=>i)}function KR(n,e){return function(i,o){const l=new as;return i.asyncQueue.enqueueAndForget(async()=>sR(await yR(i),o,l)),l.promise}(G_(n),e)}function GR(){return new Kf("serverTimestamp")}(function(e,t=!0){(function(o){ta=o})(ea),$o(new $s("firestore",(i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),d=new jf(new kA(i.getProvider("auth-internal")),new LA(i.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Te(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(y.options.projectId,w)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),os(ry,"4.7.5",e),os(ry,"4.7.5","esm2017")})();const QR="/ClassSpace/assets/Logo-jUKUXq73.png";var YR="firebase",XR="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(YR,XR,"app");function Jf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function r0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JR=r0,i0=new hl("auth","Firebase",r0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new vf("@firebase/auth");function ZR(n,...e){gc.logLevel<=Be.WARN&&gc.warn(`Auth (${ea}): ${n}`,...e)}function Qu(n,...e){gc.logLevel<=Be.ERROR&&gc.error(`Auth (${ea}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(n,...e){throw ep(n,...e)}function wr(n,...e){return ep(n,...e)}function Zf(n,e,t){const i=Object.assign(Object.assign({},JR()),{[e]:t});return new hl("auth","Firebase",i).create(e,{appName:n.name})}function qs(n){return Zf(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eC(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Br(n,"argument-error"),Zf(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ep(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return i0.create(n,...e)}function Oe(n,e,...t){if(!n)throw ep(e,...t)}function hi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Qu(e),new Error(e)}function vi(n,e){n||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function tC(){return qy()==="http:"||qy()==="https:"}function qy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tC()||aI()||"connection"in navigator)?navigator.onLine:!0}function rC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,t){this.shortDelay=e,this.longDelay=t,vi(t>e,"Short delay should be less than long delay!"),this.isMobile=iI()||lI()}get(){return nC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(n,e){vi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new vl(3e4,6e4);function np(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function oa(n,e,t,i,o={}){return o0(n,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const d=dl(Object.assign({key:n.config.apiKey},h)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return oI()||(y.referrerPolicy="no-referrer"),s0.fetch()(a0(n,n.config.apiHost,t,d),y)})}async function o0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},iC),e);try{const o=new aC(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Fu(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(n,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Fu(n,"email-already-in-use",h);if(p==="USER_DISABLED")throw Fu(n,"user-disabled",h);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Zf(n,w,y);Br(n,w)}}catch(o){if(o instanceof wi)throw o;Br(n,"network-request-failed",{message:String(o)})}}async function oC(n,e,t,i,o={}){const l=await oa(n,e,t,i,o);return"mfaPendingCredential"in l&&Br(n,"multi-factor-auth-required",{_serverResponse:l}),l}function a0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?tp(n.config,o):`${n.config.apiScheme}://${o}`}class aC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(wr(this.auth,"network-request-failed")),sC.get())})}}function Fu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=wr(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(n,e){return oa(n,"POST","/v1/accounts:delete",e)}async function l0(n,e){return oa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uC(n,e=!1){const t=Jn(n),i=await t.getIdToken(e),o=rp(i);Oe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:Xa(xd(o.auth_time)),issuedAtTime:Xa(xd(o.iat)),expirationTime:Xa(xd(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function xd(n){return Number(n)*1e3}function rp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Qu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Pv(t);return o?JSON.parse(o):(Qu("Failed to decode base64 JWT payload"),null)}catch(o){return Qu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $y(n){const e=rp(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof wi&&cC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function cC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await al(n,l0(t,{idToken:i}));Oe(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?u0(l.providerUserInfo):[],d=fC(n.providerData,h),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),w=p?y:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new rf(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(n,I)}async function dC(n){const e=Jn(n);await yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fC(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function u0(n){return n.map(e=>{var{providerId:t}=e,i=Jf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(n,e){const t=await o0(n,{},async()=>{const i=dl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,h=a0(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",s0.fetch()(h,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mC(n,e){return oa(n,"POST","/v2/accounts:revokeToken",np(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$y(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=$y(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await pC(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new Bo;return i&&(Oe(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Oe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Oe(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Jf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new rf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await al(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uC(this,e)}reload(){return dC(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await yc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(qs(this.auth));const e=await this.getIdToken();return await al(this,lC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,h,d,p,y,w;const I=(i=t.displayName)!==null&&i!==void 0?i:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,S=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,L=(h=t.photoURL)!==null&&h!==void 0?h:void 0,M=(d=t.tenantId)!==null&&d!==void 0?d:void 0,b=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,$=(y=t.createdAt)!==null&&y!==void 0?y:void 0,X=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:ee,emailVerified:le,isAnonymous:U,providerData:ce,stsTokenManager:k}=t;Oe(ee&&k,e,"internal-error");const T=Bo.fromJSON(this.name,k);Oe(typeof ee=="string",e,"internal-error"),Xi(I,e.name),Xi(A,e.name),Oe(typeof le=="boolean",e,"internal-error"),Oe(typeof U=="boolean",e,"internal-error"),Xi(S,e.name),Xi(L,e.name),Xi(M,e.name),Xi(b,e.name),Xi($,e.name),Xi(X,e.name);const R=new di({uid:ee,auth:e,email:A,emailVerified:le,displayName:I,isAnonymous:U,photoURL:L,phoneNumber:S,tenantId:M,stsTokenManager:T,createdAt:$,lastLoginAt:X});return ce&&Array.isArray(ce)&&(R.providerData=ce.map(x=>Object.assign({},x))),b&&(R._redirectEventId=b),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new Bo;o.updateFromServerResponse(t);const l=new di({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await yc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Oe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?u0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Bo;d.updateFromIdToken(i);const p=new di({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new rf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=new Map;function fi(n){vi(n instanceof Function,"Expected a class definition");let e=Wy.get(n);return e?(vi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Wy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}c0.type="NONE";const Ky=c0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(n,e,t){return`firebase:${n}:${e}:${t}`}class Ho{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Yu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Yu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ho(fi(Ky),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||fi(Ky);const h=Yu(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const w=await y._get(h);if(w){const I=di._fromJSON(e,w);y!==l&&(d=I),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Ho(l,e,i):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new Ho(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(g0(e))return"Blackberry";if(y0(e))return"Webos";if(d0(e))return"Safari";if((e.includes("chrome/")||f0(e))&&!e.includes("edge/"))return"Chrome";if(m0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function h0(n=fn()){return/firefox\//i.test(n)}function d0(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f0(n=fn()){return/crios\//i.test(n)}function p0(n=fn()){return/iemobile/i.test(n)}function m0(n=fn()){return/android/i.test(n)}function g0(n=fn()){return/blackberry/i.test(n)}function y0(n=fn()){return/webos/i.test(n)}function ip(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gC(n=fn()){var e;return ip(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yC(){return uI()&&document.documentMode===10}function v0(n=fn()){return ip(n)||m0(n)||y0(n)||g0(n)||/windows phone/i.test(n)||p0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(n,e=[]){let t;switch(n){case"Browser":t=Gy(fn());break;case"Worker":t=`${Gy(fn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ea}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,d)=>{try{const p=e(l);h(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(n,e={}){return oa(n,"GET","/v2/passwordPolicy",np(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=6;class EC{constructor(e){var t,i,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:wC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qy(this),this.idTokenSubscription=new Qy(this),this.beforeStateQueue=new vC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await l0(this,{idToken:e}),i=await di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ci(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject(qs(this));const t=e?Jn(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject(qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _C(this),t=new EC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await mC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fi(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ZR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Uc(n){return Jn(n)}class Qy{constructor(e){this.auth=e,this.observer=null,this.addObserver=yI(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IC(n){sp=n}function AC(n){return sp.loadJS(n)}function SC(){return sp.gapiScript}function RC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(n,e){const t=wf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ic(l,e??{}))return o;Br(o,"already-initialized")}return t.initialize({options:e})}function PC(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(fi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function kC(n,e,t){const i=Uc(n);Oe(i._canInitEmulator,i,"emulator-config-failed"),Oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=w0(e),{host:h,port:d}=xC(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${h}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),DC()}function w0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function xC(n){const e=w0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Yy(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:Yy(h)}}}function Yy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,t){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(n,e){return oC(n,"POST","/v1/accounts:signInWithIdp",np(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="http://localhost";class Ks extends E0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Br("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Jf(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new Ks(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return qo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,qo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qo(e,t)}buildRequest(){const e={requestUri:NC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=dl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends op{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends _l{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends _l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ks._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ui.credential(t,i)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends _l{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends _l{constructor(){super("twitter.com")}static credential(e,t){return Ks._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ns.credential(t,i)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await di._fromIdTokenResponse(e,i,o),h=Xy(i);return new Zo({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Xy(i);return new Zo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Xy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends wi{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,vc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new vc(e,t,i,o)}}function T0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?vc._fromErrorAndOperation(n,l,e,i):l})}async function LC(n,e,t=!1){const i=await al(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(n,e,t=!1){const{auth:i}=n;if(ci(i.app))return Promise.reject(qs(i));const o="reauthenticate";try{const l=await al(n,T0(i,o,e,n),t);Oe(l.idToken,i,"internal-error");const h=rp(l.idToken);Oe(h,i,"internal-error");const{sub:d}=h;return Oe(n.uid===d,i,"user-mismatch"),Zo._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Br(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(n,e,t=!1){if(ci(n.app))return Promise.reject(qs(n));const i="signIn",o=await T0(n,i,e),l=await Zo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function MC(n,e,t,i){return Jn(n).onIdTokenChanged(e,t,i)}function bC(n,e,t){return Jn(n).beforeAuthStateChanged(e,t)}const _c="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_c,"1"),this.storage.removeItem(_c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=1e3,UC=10;class A0 extends I0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);yC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,UC):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},FC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}A0.type="LOCAL";const zC=A0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0 extends I0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}S0.type="SESSION";const R0=S0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new zc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(h).map(async y=>y(t.origin,l)),p=await jC(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const y=ap("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(I){const A=I;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(A.data.response);break;default:clearTimeout(w),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function HC(n){zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function qC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $C(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function WC(){return C0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="firebaseLocalStorageDb",KC=1,wc="firebaseLocalStorage",k0="fbase_key";class wl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jc(n,e){return n.transaction([wc],e?"readwrite":"readonly").objectStore(wc)}function GC(){const n=indexedDB.deleteDatabase(P0);return new wl(n).toPromise()}function sf(){const n=indexedDB.open(P0,KC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(wc,{keyPath:k0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(wc)?e(i):(i.close(),await GC(),e(await sf()))})})}async function Jy(n,e,t){const i=jc(n,!0).put({[k0]:e,value:t});return new wl(i).toPromise()}async function QC(n,e){const t=jc(n,!1).get(e),i=await new wl(t).toPromise();return i===void 0?null:i.value}function Zy(n,e){const t=jc(n,!0).delete(e);return new wl(t).toPromise()}const YC=800,XC=3;class x0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>XC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zc._getInstance(WC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await qC(),!this.activeServiceWorker)return;this.sender=new BC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$C()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sf();return await Jy(e,_c,"1"),await Zy(e,_c),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Jy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>QC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Zy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=jc(o,!1).getAll();return new wl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}x0.type="LOCAL";const JC=x0;new vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(n,e){return e?fi(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends E0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ZC(n){return VC(n.auth,new lp(n),n.bypassAuthState)}function eP(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),OC(t,new lp(n),n.bypassAuthState)}async function tP(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),LC(t,new lp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZC;case"linkViaPopup":case"linkViaRedirect":return tP;case"reauthViaPopup":case"reauthViaRedirect":return eP;default:Br(this.auth,"internal-error")}}resolve(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new vl(2e3,1e4);async function rP(n,e,t){if(ci(n.app))return Promise.reject(wr(n,"operation-not-supported-in-this-environment"));const i=Uc(n);eC(n,e,op);const o=D0(i,t);return new Bs(i,"signInViaPopup",e,o).executeNotNull()}class Bs extends N0{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){vi(this.filter.length===1,"Popup operations only handle one event");const e=ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nP.get())};e()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="pendingRedirect",Xu=new Map;class sP extends N0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Xu.get(this.auth._key());if(!e){try{const i=await oP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Xu.set(this.auth._key(),e)}return this.bypassAuthState||Xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oP(n,e){const t=uP(e),i=lP(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function aP(n,e){Xu.set(n._key(),e)}function lP(n){return fi(n._redirectPersistence)}function uP(n){return Yu(iP,n.config.apiKey,n.name)}async function cP(n,e,t=!1){if(ci(n.app))return Promise.reject(qs(n));const i=Uc(n),o=D0(i,e),h=await new sP(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=10*60*1e3;class dP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!L0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(wr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hP&&this.cachedEventUids.clear(),this.cachedEventUids.has(ev(e))}saveEventToCache(e){this.cachedEventUids.add(ev(e)),this.lastProcessedEventTime=Date.now()}}function ev(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function L0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(n,e={}){return oa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gP=/^https?/;async function yP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await pP(n);for(const t of e)try{if(vP(t))return}catch{}Br(n,"unauthorized-domain")}function vP(n){const e=nf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!gP.test(t))return!1;if(mP.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new vl(3e4,6e4);function tv(){const n=zr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function wP(n){return new Promise((e,t)=>{var i,o,l;function h(){tv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tv(),t(wr(n,"network-request-failed"))},timeout:_P.get()})}if(!((o=(i=zr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=zr().gapi)===null||l===void 0)&&l.load)h();else{const d=RC("iframefcb");return zr()[d]=()=>{gapi.load?h():t(wr(n,"network-request-failed"))},AC(`${SC()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Ju=null,e})}let Ju=null;function EP(n){return Ju=Ju||wP(n),Ju}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=new vl(5e3,15e3),IP="__/auth/iframe",AP="emulator/auth/iframe",SP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CP(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?tp(e,AP):`https://${n.config.authDomain}/${IP}`,i={apiKey:e.apiKey,appName:n.name,v:ea},o=RP.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${dl(i).slice(1)}`}async function PP(n){const e=await EP(n),t=zr().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:CP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SP,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=wr(n,"network-request-failed"),d=zr().setTimeout(()=>{l(h)},TP.get());function p(){zr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xP=500,DP=600,NP="_blank",LP="http://localhost";class nv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OP(n,e,t,i=xP,o=DP){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},kP),{width:i.toString(),height:o.toString(),top:l,left:h}),y=fn().toLowerCase();t&&(d=f0(y)?NP:t),h0(y)&&(e=e||LP,p.scrollbars="yes");const w=Object.entries(p).reduce((A,[S,L])=>`${A}${S}=${L},`,"");if(gC(y)&&d!=="_self")return VP(e||"",d),new nv(null);const I=window.open(e||"",d,w);Oe(I,n,"popup-blocked");try{I.focus()}catch{}return new nv(I)}function VP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="__/auth/handler",bP="emulator/auth/handler",FP=encodeURIComponent("fac");async function rv(n,e,t,i,o,l){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ea,eventId:o};if(e instanceof op){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",gI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,I]of Object.entries({}))h[w]=I}if(e instanceof _l){const w=e.getScopes().filter(I=>I!=="");w.length>0&&(h.scopes=w.join(","))}n.tenantId&&(h.tid=n.tenantId);const d=h;for(const w of Object.keys(d))d[w]===void 0&&delete d[w];const p=await n._getAppCheckToken(),y=p?`#${FP}=${encodeURIComponent(p)}`:"";return`${UP(n)}?${dl(d).slice(1)}${y}`}function UP({config:n}){return n.emulator?tp(n,bP):`https://${n.authDomain}/${MP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="webStorageSupport";class zP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R0,this._completeRedirectFn=cP,this._overrideRedirectResult=aP}async _openPopup(e,t,i,o){var l;vi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await rv(e,t,i,nf(),o);return OP(e,h,ap())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await rv(e,t,i,nf(),o);return HC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(vi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await PP(e),i=new dP(e);return t.register("authEvent",o=>(Oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Dd,{type:Dd},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Dd];h!==void 0&&t(!!h),Br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return v0()||d0()||ip()}}const jP=zP;var iv="@firebase/auth",sv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qP(n){$o(new $s("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=i.options;Oe(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_0(n)},y=new TC(i,o,l,p);return PC(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),$o(new $s("auth-internal",e=>{const t=Uc(e.getProvider("auth").getImmediate());return(i=>new BP(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(iv,sv,HP(n)),os(iv,sv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=5*60,WP=Dv("authIdTokenMaxAge")||$P;let ov=null;const KP=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>WP)return;const o=t==null?void 0:t.token;ov!==o&&(ov=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function GP(n=Vv()){const e=wf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=CC(n,{popupRedirectResolver:jP,persistence:[JC,zC,R0]}),i=Dv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=KP(l.toString());bC(t,h,()=>h(t.currentUser)),MC(t,d=>h(d))}}const o=kv("auth");return o&&kC(t,`http://${o}`),t}function QP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}IC({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=wr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",QP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qP("Browser");const YP={apiKey:"AIzaSyCl4yble0NF4t3i5FCALJl8XbZNY2nJgzE",authDomain:"classspace-db5d2.firebaseapp.com",projectId:"classspace-db5d2",storageBucket:"classspace-db5d2.firebasestorage.app",messagingSenderId:"411887990451",appId:"1:411887990451:web:fcb068cce8591dbfb522c6",measurementId:"G-ETMP27FRYR"},O0=Ov(YP),XP=GP(O0),JP=new ui,ZP=AR(O0);var Uu={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var av;function ek(){if(av)return Uu;av=1,Uu.parse=h,Uu.serialize=y;var n=Object.prototype.toString,e=Object.prototype.hasOwnProperty,t=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,i=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/;function h(S,L){if(typeof S!="string")throw new TypeError("argument str must be a string");var M={},b=S.length;if(b<2)return M;var $=L&&L.decode||w,X=0,ee=0,le=0;do{if(ee=S.indexOf("=",X),ee===-1)break;if(le=S.indexOf(";",X),le===-1)le=b;else if(ee>le){X=S.lastIndexOf(";",ee-1)+1;continue}var U=d(S,X,ee),ce=p(S,ee,U),k=S.slice(U,ce);if(!e.call(M,k)){var T=d(S,ee+1,le),R=p(S,le,T);S.charCodeAt(T)===34&&S.charCodeAt(R-1)===34&&(T++,R--);var x=S.slice(T,R);M[k]=A(x,$)}X=le+1}while(X<b);return M}function d(S,L,M){do{var b=S.charCodeAt(L);if(b!==32&&b!==9)return L}while(++L<M);return M}function p(S,L,M){for(;L>M;){var b=S.charCodeAt(--L);if(b!==32&&b!==9)return L+1}return M}function y(S,L,M){var b=M&&M.encode||encodeURIComponent;if(typeof b!="function")throw new TypeError("option encode is invalid");if(!t.test(S))throw new TypeError("argument name is invalid");var $=b(L);if(!i.test($))throw new TypeError("argument val is invalid");var X=S+"="+$;if(!M)return X;if(M.maxAge!=null){var ee=Math.floor(M.maxAge);if(!isFinite(ee))throw new TypeError("option maxAge is invalid");X+="; Max-Age="+ee}if(M.domain){if(!o.test(M.domain))throw new TypeError("option domain is invalid");X+="; Domain="+M.domain}if(M.path){if(!l.test(M.path))throw new TypeError("option path is invalid");X+="; Path="+M.path}if(M.expires){var le=M.expires;if(!I(le)||isNaN(le.valueOf()))throw new TypeError("option expires is invalid");X+="; Expires="+le.toUTCString()}if(M.httpOnly&&(X+="; HttpOnly"),M.secure&&(X+="; Secure"),M.partitioned&&(X+="; Partitioned"),M.priority){var U=typeof M.priority=="string"?M.priority.toLowerCase():M.priority;switch(U){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(M.sameSite){var ce=typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite;switch(ce){case!0:X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"strict":X+="; SameSite=Strict";break;case"none":X+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return X}function w(S){return S.indexOf("%")!==-1?decodeURIComponent(S):S}function I(S){return n.call(S)==="[object Date]"}function A(S,L){try{return L(S)}catch{return S}}return Uu}var Zu=ek();function tk(){const n=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof n=="boolean"?n:typeof document=="object"&&typeof document.cookie=="string"}function nk(n){return typeof n=="string"?Zu.parse(n):typeof n=="object"&&n!==null?n:{}}function Nd(n,e={}){const t=rk(n);if(!e.doNotParse)try{return JSON.parse(t)}catch{}return n}function rk(n){return n&&n[0]==="j"&&n[1]===":"?n.substr(2):n}class up{constructor(e,t={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const o=this.cookies;this.cookies=Zu.parse(document.cookie),this._checkChanges(o)};const i=typeof document>"u"?"":document.cookie;this.cookies=nk(e||i),this.defaultSetOptions=t,this.HAS_DOCUMENT_COOKIE=tk()}_emitChange(e){for(let t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)}_checkChanges(e){new Set(Object.keys(e).concat(Object.keys(this.cookies))).forEach(i=>{e[i]!==this.cookies[i]&&this._emitChange({name:i,value:Nd(this.cookies[i])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(e,t={}){return t.doNotUpdate||this.update(),Nd(this.cookies[e],t)}getAll(e={}){e.doNotUpdate||this.update();const t={};for(let i in this.cookies)t[i]=Nd(this.cookies[i],e);return t}set(e,t,i){i?i=Object.assign(Object.assign({},this.defaultSetOptions),i):i=this.defaultSetOptions;const o=typeof t=="string"?t:JSON.stringify(t);this.cookies=Object.assign(Object.assign({},this.cookies),{[e]:o}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Zu.serialize(e,o,i)),this._emitChange({name:e,value:t,options:i})}remove(e,t){const i=t=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Zu.serialize(e,"",i)),this._emitChange({name:e,value:void 0,options:t})}addChangeListener(e){this.changeListeners.push(e),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(e){const t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}const ik=new up;function sk({setLogin:n}){const e=async()=>{try{const t=await rP(XP,JP);ik.set("auth-token",t.user.refreshToken);const i=t.user,o=TR(ZP,"users"),l=bR(o,FR("uid","==",t.user.uid));(await $R(l)).empty?(await WR(o,{uid:i.uid,displayName:i.displayName,email:i.email,photoURL:i.photoURL,refreshToken:i.refreshToken,createdAt:GR()}),console.log("New user, WELCOME! <3")):console.log("User Already exist"),n(!0)}catch(t){console.log(t)}};return De.jsxs("div",{className:"h-[100vh] w-[100vw] flex",children:[De.jsx("div",{className:"loginPlanet w-[60%] h-[100%]",children:De.jsx("h1",{className:"text-white px-[25px] text-[50px] font-agdasima",children:"LOG IN"})}),De.jsxs("div",{className:"w-[40%] h-[100%] bg-[#0D0D0E] flex items-center justify-start pt-[5%] flex-col gap-[30%]",children:[De.jsx("img",{className:"w-[75%]",src:QR,alt:""}),De.jsxs("button",{onClick:e,className:"px-10 py-2 text-3xl bg-[#915472] font-inria text-white rounded-[20px] login transition-all ease-in-out duration-[800ms]",children:["Log In With ",De.jsx("br",{}),"Google"]})]})]})}const ok="/ClassSpace/assets/LogoOnly-DNnGNioa.png",ak="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANsSURBVHgB7Zo7TxRRFMfPgoLPGNFYqmAjWljiWqmx1EYxBm2I0RgpbPwULr2KsdHCxEeiUUsbH1H5AiAIiwZtNKAIhFWBw//kXpLdnTu7s8yZ2Zlkf8kvw84uc8+Zx537ImrQoEGUZEgZZpZjboHb4E7YDnfYfcIcnIJ5u52RfZlMhkkRtcRsQh3wKuyCnbCtQhmSyDQcgoPwNsxrJ7hmkNAGeA6+g0u8dhbhW3gebqR6gcLXwYtwlPUZgZelDIoTFNgOn8ACR4cc+7GURXGAgo7APMfHODzOUV09HLgVdsNfHD/f2Tx7LaQJm+epB/7k+vEDniVN2NwK37j+yN2SDRJz1fcYm4f3FZl3VBKYgCfwvstX+lFTpS+R1Hps+ik5SQlyom9wlcqkYmKgF56k8MzC19Y5Cs8pMrHVDs7IJtZ5+Upr5BrcZb0O/3B45CVeewuFTfWqwScuum0kGDjMOvT4xd/kk5RUKn2kgzRqi98/GbtPgz4bqwe/Z0wqi0DVagD2wDNFn7vJVAAaZAMfS84A7GddpOU+bF1kXXLsuGquKlM6hIdJl2a4n6JB+n4S82zxTtetKD3fTkoPB8nEXIIrMenGt1F62E4m5hJcie0j/bGQZThOZpxjmXSRHNpdO8uJ4mrdgYesd0mfQFdsM+nyF75Eo3UeSnPqhd2niSfmam1FDeTW+1/0+R/p344eXInNU/rwxOxKbIrShydmV2JScyVj0DIYEqun0+l3xaYpPTjjdSUmY+lDlB4k1pnyna7EpEoepPTwkRy9ck9idlJAJgiWKPlIjAOuiQy/95g8jB8o+bwnM2rlwZmYPQO3KPnc9Jt2qtTyeApHKbmMwGd+X/omhjOxgE2OdNp1TWV/h+09FGAOMRYoQIEu7sHnFI5WKu09Syc27OSCxHS/0g/iGuL+DR/Yvy+Qo8dbA2Nkhri/UliQXJbrM31UziQ8SprggKfZTOXUCylbBnF1JwBxwBY2c2STHD9yt8iko+7EX1FyMgF4DH7m+BiDXRQHKGg3fAQXODpkcv0h3EtxggKbYS+bWQ9tZCLjEse9HKIsQVnAIve/LGAJM3wt//uGlRawaC85knfeFTJD5AfIDIv5lSEDOqtLjqTrMQAntJYcRb1ITMYoO+x2K5lu/OoisS8U4SKxBg0aRMsKFonsBT2zlJcAAAAASUVORK5CYII=",lk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEeSURBVHgB7ZgxS0NBEITn2WuhloqihVgomkYQrfObrQRB0cJYaKGioIWVomD6vMwkbLjcD0g2MB8My+1r5h4LOxxgjDGiKQ9t266wrCIHLfXXNM1/NCZmaXSd5ZbaQXWJOSGzr1SXhj/VWCo+dqld5DAq5GOPOotGabZH/SAP+rPf1H006pk9YDnC9CXmhcz2OAJPMMYYMxPqpbCBPCtXS+EjcoEog8wmyyUWJMicImeQOYlGafaOesH4RhmQj3fqJhr1zG6xbCMHI7McgS8YY4yZCfVSOGQ5Ro6VO6AeuBQeo1EGmX2WK2oNefKB3jHOafhZhzIbdCg9IWUxKuSnE4fS7DWlG2QKMm/URTTqmV1GnldE8csR6MMYY6YYAl88SBOHIrcpAAAAAElFTkSuQmCC",uk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA5CAYAAACMGIOFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAP+SURBVHgB7ZrJaxRBFMbfaGIWzYJR1IB6UNCLggpBJXowGMzJm4pBPAkSNMQE8eBRPfkvSFxQkFy8alxAk4NLTnrSg4piEiQG4pLVSfl9VA2GzFRPd6a6pwf6Bx9NT1dXvzddXfXqVYkkJCQkRExKQkQptRyHBqjOaAVUBqWhGWgSGoPGU6nUXwkJ507CsRoctkKHoUPQJmgNVAVVQHScDs1CE9BP6Cs0CD2EPvA3OK0kbsC5dVAn9BKaVEuD9w2ZeuokLsCYBugqNKrcMgJdg9ZKMYEBTeafT6twmDf1H4DKJUrwwDroPDShooGt5JKKqgnjQZXQLWhaRcuceW6VhAkfAPUr3YyKAT+Lx1C1hAEqroduq/C+P7/MGzt8N91lfgop/dGfgU76vSdEOLYfg06JS+DkQeV+iCgUdnpNfuzPG/GgIkYrjET2SPwYgo4gOvrhVchP07sA7ZLCGYF6oB3m+EsKZzfUJYWg9Hg4otzwACoz9VaacxfQPs+oKN+bPA2tFzcMZ2YaOE7zXNxA+054FbA6iX+nFod2cUeYs4p2pWc/OfF6k9tFfz+lwE5oi+2il5NtoueApQDtbLFdzOmk6SD2S2nRArtz+mN7k0xZbJTSYrPoDEQWXk7GZ2buD9pcm+tCmeWGatsNFjiwPxU9LNh60YFF5y88yjIS2wDtNUc/0OZ68QvadjM0E2BA7laO53morxzqCWAD7d2Xqy5bc+XvQdIN/Rjgp8QhqG+O9Qa4ha0yp802JxmZpMU/raZHdobSE+PWALfwT8mZu7UZxpzojMf1xVyEOB375lHmOd5OX+YEZY/zHktZfpONovO2fpk1ysLmBBO+f6CV4g/Gj0fzlGEn07fgnA52iDsyNmdha67MbHvO0WKI1Wabk1yf+CKlBe317yS+HXY6z6S0GDR2Z+EVoLP7djoshAjtfGS76OXkR+idlAZvofe2i1Yn8erZW90Td4S5FnoX9lpzRvnSH/dFJ6Bc0JgJ/ZTO4zaKG2jfHa8Cnk7i3/mOQy80L4XDSW0HHGS2oVN08F0otOuGaXVW/ORdV4vuhOKYd30DtRWcd0UF4zicFR1RxIlRqDufg8TXugYqYqb6suh4Ng4wEL8OvRKXKJ1o7lXFX9Xi87lOGWRSH8jRzPpksRxNm+eHvhBbAd1UeuU3SqbMcyslCpRuul3QsIoGLtNxj0KNRInSORjuyghz9wfrfa18rkOG6Sz38VxR7t/qsKm3QeKC+r/tZQD6rZYGd2TxzZ1TevHXCWHsrVuFwzbRaynNojPxmQ2EjFm5iZDjHJfvOEXiBP2z6PnrE+hTvjAtKFHtkqSYL8psIGRmbeEGwjE45iI+TkhISIgH/wBwMbdMnjCLBAAAAABJRU5ErkJggg==",ck="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAYAAAA6oTAqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVwSURBVHgB3VpriFVVFN7zzJrMphTpZZhI78wahmnMFNPMR/aAoiDKEiMJrBzIgn70wAL/CUX9iEKiF06UPbAHkWSBUWBlT0glDKeXZZk5zTSz+j72d7h7bufezrn3zr3n+sHHvZyzH2vttdZea+97nTuE0ODqFGbWio8usAnc2tDQcNDVE6BAA3gceB3YC+4F+8AFfN/s6gQQ+HB8LAevBjvBVr3aA+53WYcs0Q2uA3+0eGwAW1xWAeGOBhfKlX4DBwsowufXuqwBQjWBE8FbwY/AvyVwP7gLfBcczlPmQ3CSyxIg0FTwPvDLQNB/wG3gKnAJuEPPQ4V66Iqu1oAQx4KXgq/kuRHd6llwvtrNBb/Vu53g2/r+C3iEqyUgwGTwbvBT8EDg+7TKWrqNKaClSJ/acANYLJcjHnG1ACYeC54PPiAliCHwT3CLXOnUoH0LOEsWGZZF5oG3gwfBX8GZrprAhK3gAvPb54HAlajEC+DlYHNMv3zXukTPP9Gzl8FGVw1goilaxS2KgciVPpMrnQG2F+hLRXYEisyWpS6WNf8wZfzRVGAMeBp4D/iFJia4tX4FrlY8NBYZY5piZFgxElmkEXxa430MjnejAfP54QLzCa4vcCUq8br5oG1LME53nGvp3UmKE2KVqzQw6MngXYEfm1Z0t/mcMTXFWHStHwJFpue9f0jvvgYnukoAAzWDZ4IPS+jBwArM2ivkSokL2LwYoWt15r2fpFgzLVLpSVL+eqQC8Hnwp8AKnHwjuIhtUo7LoO4IYmSEawXtbtOiDaaxdtyEzA9LwbfMlxcRuEM9Cl4INrkSYLk8YnKxOEUYj++pzRsuLYIVux/cFygwYL6wYz00zpUB87kn3H5nFGh3mfmcxBy1MOngPDeMk7s8CX5nfmuNXIn1E093E6zMwk4WCbff2QXacVGfk8LbE7mxOt0AbjJfKkRgCf4YOAcc4yoA83kksgg/FxVpe7r5BEn0JJ3gKvCvQAmu2p3g8a6CsJG7FmNlVpG23HSi7fhzcErSSc4CN1tum6V7cYdi3dTqKgApsjOwCC3UUqQ9t/+oIF2TSg5aQa72TRArDP4XwU5LkMGLjN2RFyPzEvRZITnoMR2uFKBjO3i9lIrAOHoJ7LKUwW++RIlKnNg8EtOnLbAKS6SxrhyYL91vNH9sHQrc7xlwpiXI8DayjGcemZFwbm7b/fKMxa5SMH+05QUDE9eAXIUTvUrhCq2a/feE2JlwPqaITer3vlUoZvMnYX200nxROaDJfgbXS6k2tWtRcI84IaaY5xS5NRes8tVx3mSMqWWWK/xMQbpBgT7HCpTxCcZm6XKv+rI6Lr0OSwvF1AeWq9mGgu9UZFrK8Wj9Xer/oKs2MOmJ4M3gO5ZLvFRqbspxGCs9lksJ1bNKjDCs69YqnqjM9JT922VlgmmgIuVTyZBAmyUQzz2JL+jMXwb2q+9FLguAILeYL1Dpct0J+zDwo8sK1mHVuUL6P5j/ISiyzhOWLLnyMmSv3HO1ywoUyEulDLN+V4I+6xT434OTXZYghbZLodeKWQfvjpJVarMdJwEEW27+YLWvUEBL6ZVSZA94jssiINgx5ksfus/6uKA2/2vAVimz0Wr980QxQLg7lHdYFXTEvL/G/IGQ7+e7LMP8jec2rXxvuPLm76V79Y4/HpV3ZqkGzJ9eueXynu284DkPerulzDJXD4Cg4y13auTB7jA9f1zPfrcy7+CqCgh7kwTnznaF+fuGfllsjasn0BqWO//0amMgeEtzrqs3mL8k4c6133LH6acsK3VYGijvhDc+dLMlrl5hvqKO7g/eBCe4egWEP8H8rQ5v9K+0LPyzohxAgbOlyKj8NexfNK9AiNCLKHsAAAAASUVORK5CYII=",hk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAABJCAYAAABxcwvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQgSURBVHgB7ZvLThRBFIZrBAUCmghu3IqsJEE3LnwEJSCRRINg4orEG5GIF9CVlxfQl0B9BcW9xoAbL9FEo+LGIM6IJMb4+59UtYOEme6q7qnpIfUlf9jQVadOnzp1uqpGqUAgEAgEAoFAIBAIBAL/A6CgcgDt2KIyJPWgaFAr//RQ+6gd1FfqRaFQeKs8Q1v28k8ftcvY8YZ6SVt+q3ohkUNNUc+oIvXH/J2jBqitygPSDzVIPVljx0/qKXWxbhHOjpupS6jMd2qG6lI1hO23ULeolSq2TFNtyjfstNdEEGIcdYXapmqAtGvaL8bY8ZzqU75hp8PUKuJZpEapZpUh0FNsNIGDhBJ1XDnitApAz/EOqiXBv++m7lFnsnKUaWecukttT/BIO9WqfENDh6hlJOebefOppp6JoJOmPZu+B5Vv2Gk39Rh2yNSQHJIkAjfqs8s8vwg7HlF7lG+gl/+j1A/YETnKKqKgk/QFJMtBa5HFY0DVC+jQv2kMsUEiYSypo0w/I9Qn2CEJ+zo81WvVBiB1ypSDo2TAp+McBR1Bp6iPsOMLdQ01rtMSg/KbtkmmQtEMpKVCu/ICLsP+BciCkjhSvQFdgZ+jlmCHTD2JxOYN2ht3dJDkrvpOsUqYgY3AfvUpmoE1r2lHHL7i0M4YMi5cMwd66qWZIh1IN3XzNcUqQUM7qfOwT7aSzO9T72GHRO5VONZfdQPlZG7rKFvEsflL0kkxjpLl23bqJUXqoNgyIvcYR7nUUXFEdVBjOygCuiCU5dz2E6YSkqTF8Y2Vg+KAex21nnzXQWlBuY6yXb0ioiSd7zooLRxgOzULNx5SHcozmZ5PxWEiQDa/Dik3DlJDmzaSUM5JtpX0eqKctLkcBb26TSK7MkC+6WTPfHOsbsZB8i1n+9EbR2N9q1UC5Q0z2y3XpDR2xY3w7VYd6B1Fl1OND9QDuO0eTCAvW7VxIOwnVQflitrWQbJa/fvUQLlccD2FyWd5APc6SCLgLDbe456E/ZTNZx2FcFpSHeitWpc6KOm5W7RxZ5vMq74Ab5gBzMC+DpIBu5zgfoYdUkfdRr22VaDvAhx2cJAYPgG3uwAuU082+vpRjyuB7LQH+m6kDamOnlE+Urd9MXNUt/IN9E23koWhkkyzuJ8kEWV7P0mcekw5kuamm0RDe8JHlqkb1GyhUPilUmCenzXtLSd8TDbquuB7yrHDEwkjqSZHz7A7Upe7ncPKN+z0ALUQY1xebt/Oi73KN+y0Dfp+dCXkU+MOalynQNdp06i+6slFrvpU4Oy4CbpOWjAhHf0iQO5SHvFlGHQd1W/6jX4RUDIRJPY1qRRk8dsSKdR6KVlid1JL1DwT7DvlGehlfj/VSZWo19Qr2rKq8gLy8yulXNgRCAQCgUAgEAgEAoFArvgLdDT+8EN8aRMAAAAASUVORK5CYII=",dk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGYAAABhCAYAAAAk2tTaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAsMSURBVHgB7V1/rFxFFT77KL9KKa0IVml5W6BqkUgroglqWDBBm2haYmIwMekr6h8isZUYg5HYVzVRE/VVDAaV+FpDNCYqNQpFErMrmhC1sS2gIFLe1laFiqH8aMuPluP3dea+Nzs7d/du3963s/vul3x5e++dmTszZ+bMzLln5okUKJAnVLVEyoCg7wqCyh/Cn7PBZeCw/T0PnGuDHAYPgU+B+8A94NOlUulV6SNELxjbC84FLwJXg1eDi8AzwJPBU8Ehy+NRwGPgy+BLYoT0EPgAWBUjqCchKJWIEbVgIJTF+PNRcBV4mRhhTAfPg7vAu8FxCOeAFMgGCOMUcCW4FXxO88Oz4O3gCqseC6QBFbQI/CL4T+0cr1p2ikfBTeA5EhGiUGWolJPw5xrwS2JUVrt8HQEfA/eKGeCpog7bZ5wEzAfPB5eAy8FT2qTHicGfwc+DtdjHnxkBhHI2eCf4UotWzWd/Bb8OXg3O7SD9M8D3gN8A/wYebfGeF8EfgK+R2QxUwJvBn4HHUirqCLgD/BR4gU5jLGCvBJeD14M7wVdS3knB/QQcltkIFPxC8A+aDrbuG8CzpMtAmvPBG8HHWrz/PrAsswko8JvA36dUCGdinJG9HjxZcgTSP8++6/kWwrlAZgNY2eCPUyriBfDT2sEY0oX8cAz6ZAvhjIMLZdCBQi5VM5D74LSVA/uMzxTV2NneB04E8sUx57s6QHa4IFDAs8DtXuH3gB/oZeHx7iHwg+DjGu7JV8qgQ830lbMtTk93g++OoUVa4bzfCsIHx8TBn0arWb8Mg+dKRLBq7bPgIU8wnNJzJjdHCvQGqPx5Gp6g/AN8ixToHWxvfsITDG1x35JBh9XpXOy9EVwck5pAXk4Fb7LjoIv/UA3LIAMFvBys2pa4H1wXmXA4Doam9jfIoAKFewf4oDaa6imcqGxUyM/N2mxXuxtcIIMGDqABoRCc+SyTiKDG8LnHy+f/wJUySFCzTpjQZlBIvwLPlIigxoR0eyC/N8mgwKqvp7W5p/D6Xo3Umot8rQkIZrsMAhz1FQJX1W+VSIG8naPNH9g4lZ6uc0hvgQJcAT4UEMhRK5TXSuTQ5nHmAHiJ9COQ8Tlqvr08oWH1RaFwDTPUZXbd7oY0a17+nwFXSU7Ie83wNvAOcGngGR0g9oPXS/fBnvgg/t5TKpVekO5gv3d9GpibZ01ugkHFXIg/3wPTujs9Y66T/EAvzFvBz0l38Kx3Tf+D3MaYPB3d2M0vlt65SNF1ll8m27kuZcUR75p1d7rkhDwF84oYP+Jegj7M3XImn9EGlqdg7gF3S3rFqH2WBymQ/4K3YYw5Kt3B3ED+D0tOyG2MQYXsgxr5mJjB/52BIKzAO8FHpPugYDj4/066h/neNQV+SPoVEE4Z/GPKdJl+ZZdLHwD5vN/LP53Sr5F+BgpwKfiwNoPC+Qu4RCIH8ljX5gXmcul3oBDngw9oGBROtNZa5O0N2tzj+Zn5NOl3qFmRXwLuS+k5fwIvlgiBfH0okOefyiBBjevSoynCqWpkH6DUfGL+YSC/N8qgwVFroY1GUeltNbvb/F7+FHiZ5IhebXGj3ekT4A5pXOckm5CigBpj6HvB87xHzPceGVSo+UbzCzWej38Hr9O4nDG49TC0VSMPw2tcUONtv0TNzOckiQRqPDJv0eZNVU+C86RAb6Bmt9t+TygU0lekQG+Ayl8IbguoMG4RjMqLp6uwaoI7xriuWawR7T1Rs976gpr9ny7oW7Yhprx2HWpcmB63qoGmjlUawSEIajbQfljDO6h/oznsB40GajYu+QbBvWpmZD0TjhXKR8B/B4TCLRlvl0GGGi/6kD8wB9o1vRCOVV/sKSFzEZ3KvyaDDtsyb9MwqEJunkmVoWag36hh9UXLxPe13/3HskLNYQrbU4RDtcEZEd2achtokfbp4DLw19o80CdC+blGtuMtd6jZY3+vpoPjDmdHi6TL0KnDhP6V8u5EKF1/d19AjTHzR+DLKRXEWdsj4Ho1xsQT9nhRYyXm9PzLar6lpB1Zwvu3qjkrbfZCzX7H72jzzi2/BbMH3aHm28jrOkifPZMzvnE1x20da/Eeeld+VSMwucRyLBbzcQW4CayIcQZshcSL0z0Wix6XTIcDtXss1hJpX046VvwWvKVUKu2QAo1QM0PiuLJbT+xQuE7Bd9AXYQScLwXSocZcwxnZN61qyQu0OHC8uUiLoxc7AyrsTPDjak5BOqDTB032/P7DTbhR7Vzz0RcGOTX7Z7hp9l3gVSA3ObFi6aUyxzIpS+IWS6dyHvHLsedh8D7wfnAvxpHnJHL0paVUjdsQt3a4B2Inq/ND0nggdh2CeFEKFChQoECBAgUKFChQoECBAgWiwbRNMjCPbHQut8L8UZcC00aTYFDRFfzh4c9le+ugmN2/u0KVTpOtc1lBmG7uFM4NajZIrQVX2FssZx38ZVSNS83u4mobszmfl714LqI/zZsCATe3KeeY5rSzTc2/3qpYtn+Hhk/d8zERiFd1eKlEDm3f+BJUJQd49ZzakOfYwCMypbqIGrhNTPfm/YplzU8A3f4q6RPYclacWyzfFjH/6Y8qbY1M1QNb9AaUb7P0CsjAXe1aihpV19cnp3qtdcIvjxo1t9MJ84x0GVl7TBK46gQel85eNO6oshWB5yzsqM1Q8g1/pzaqwITDTpzk3pi9x4Yx5hSMaYxmzGai212sTglX8cINd1jeMef56kB5XPj1sDZUuQk60q3aogXYyuzEoWLYiTeZHzX7UtLSGcuYT7/CF6SEW+CFW5u1vPZ51Y/rlacVJpceiXfILiftin35Gpk+KOSkAhJ9zrGr7oSp23u7UtKogGNOOj42aLZDtMvuBcaOg6FA9n5deoxEMFulMTNl8C7bSsdPREhq1kNle1kHV6LQ68BrxThUJBXDCud9Pt+bkhzDjoILEYZrr6VOfKIiEYPropKFNNZzpdSITcmDIRuRhbxWmlsKK21EjJDYi8qSHW4Lb1ic2t/bnHDt1j8U2qaklXvxibIMGCYd3VBYqhK25FEJd+UyWNUTm5ktSEkvwUFpgdlo5mnwQLRdji2TqqIiZkyoO0HK4HrJhprz+/iagD/s4LpBGtXPXinQgFTXUNq8OCbgJ4+rcgfmEckAq3bcxRmnkbSrcW3gzqQ2R9gjer5ea+uzayv4286tzJlG3M+ImVikYbMNMxNomPWlzeTsOOqWsS49QNZzW6azJzIZ2Gsypd4o7G0tZmF5oO5dj4jZ9uGj4l3vll7BLr7G7RTXf1bWxkVV1XueuuDSxv8ikdnyrN6CLCXMeGhh1ibdqhOHSwF/8VjRxoVsNZDGROi9GrZarw3E35kl30mPYQIjJAKzNSfdnl3aNztskexwrc1MO/RhblfaYi8HJBujCJZtixqzTl3MxKbshV8XSKMmU+PsqE6ZZSqSTc3XZKpOk/gHbfx1qIva8SdW0lnNJk12NG3dYyoZ0x314uXSY2y8jZoNG1PityrThAZMMl78FS3iT06Khmxr5cxri6QPdLy/wc7SMsNKf2uGoBtDhcgDdnXN9VotJQjvV9xVuBefz0e924llgvVYl9bvpzYKLeaTTywmnB9RzQLSVUH16Q7SanpSJfBoxMlMbaa/7Xhl5T9VqGdVq07cjuJ5aVx5Iu/OHZ5amJACk8h176GacaCViqo4v+tSYBJ5HgnC2cZO51ZNjB4lqQYq0jiLGUFXzjIeFZgO1GzRzorMs6oCXYCaae96O4Wc0Oap5Zj2gctTgQKT+D/ySWSzJtJdwgAAAABJRU5ErkJggg==";function fk({setLogin:n}){const e=new up,[t,i]=Q.useState(!1),o=()=>{i(!t)},l=()=>{n(!1),e.remove("auth-token")};return De.jsxs("div",{className:"flex w-[100vw] items-start flex-col",children:[De.jsx("div",{className:"flex items-center justify-center bg-[#FFABD4] h-[10vh] w-[100%]",children:De.jsxs("div",{className:"h-[100%] flex items-center justify-center gap-3 font-inria font-bold text-4xl",children:[De.jsx("img",{src:ok,className:"h-[70%]",alt:""}),De.jsx("h1",{children:"Class Space"})]})}),De.jsxs("div",{className:"flex",children:[De.jsxs("div",{className:"relative w-[30vw] h-[90vh] bg-[#1A1A1D] border-r-2 border-[#D9D9D9] flex flex-col",children:[De.jsxs("div",{className:` transition-all ease-in-out duration-300 flex flex-col items-end justify-start pt-2 h-[100%] w-[100%] bg-[#A64D79] absolute z-[100] ${t?"translate-x-0":"-translate-x-full"}`,children:[De.jsx("img",{src:hk,alt:"",className:"cursor-pointer",onClick:()=>o()}),De.jsxs("div",{className:"mt-[15%] text-4xl font-inria text-white w-[100%] px-[20px]",children:[De.jsx("div",{className:"hover:bg-black py-4 border-t-[3px] cursor-pointer",children:"Create Class"}),De.jsx("div",{className:"hover:bg-black py-4 border-t-[3px] border-b-[3px] cursor-pointer",children:"Join Class"})]}),De.jsx("img",{className:"mt-auto mr-4 mb-8 cursor-pointer",onClick:()=>l(),src:dk,alt:""})]}),De.jsxs("div",{className:"w-[100%] h-[10%] relative flex items-center px-5",children:[De.jsx("img",{src:lk,alt:"menu",className:"cursor-pointer",onClick:()=>o()}),De.jsx("h1",{className:"absolute left-1/2 transform -translate-x-1/2 font-inria text-white text-4xl font-bold",children:"Chats"})]}),De.jsx("div",{className:" w-[100%] h-[100%] overflow-y-auto",children:De.jsx("div",{className:""})})]}),De.jsxs("div",{className:"w-[70vw] h-[90vh] bg-[#1A1A1D]",children:[De.jsxs("div",{className:"w-[100%] h-[10vh] bg-[#3B1C32] flex items-center relative justify-end px-5",children:[De.jsx("h1",{className:"font-inria text-white text-4xl font-bold absolute left-1/2 transform -translate-x-1/2",children:"Science"}),De.jsx("img",{className:"cursor-pointer h-[50%]",src:ak,alt:""})]}),De.jsx("div",{className:"overflow-y-auto w-[100%] h-[72vh] ",children:De.jsx("div",{})}),De.jsxs("div",{className:"bg-[#3B222E] w-[100%] h-[8vh] flex justify-between px-10 items-center",children:[De.jsx("img",{className:"h-[70%]",src:uk,alt:""}),De.jsx("input",{className:"w-[85%] h-[70%] rounded-full bg-[#1A1A1D] text-white px-6 font-inria text-2xl focus:outline-none",type:"text"}),De.jsx("img",{className:"h-[70%]",src:ck,alt:""})]})]})]})]})}function pk(){const n=new up,[e,t]=Q.useState(n.get("auth-token"));return e?De.jsx(fk,{setLogin:t}):De.jsx(sk,{setLogin:t})}function mk(){const n=LT([{path:"/ClassSpace/",element:De.jsx(pk,{}),errorElement:De.jsx(KT,{})},{basename:"/ClassSpace"}]);return De.jsx(WT,{router:n})}$w.createRoot(document.getElementById("root")).render(De.jsx(Q.StrictMode,{children:De.jsx(mk,{})}));
